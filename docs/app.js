!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=20)}([function(t,e,n){"use strict";(function(e){function n(){f=!0;for(var t,e,n=l.length;n;){for(e=l,l=[],t=-1;++t<n;)e[t]();n=l.length}f=!1}function r(t){1!==l.push(t)||f||o()}var o,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var c=0,u=new i(n),a=e.document.createTextNode("");u.observe(a,{characterData:!0}),o=function(){a.data=c=++c%2}}else if(e.setImmediate||"undefined"==typeof e.MessageChannel)o="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){n(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(n,0)};else{var s=new e.MessageChannel;s.port1.onmessage=n,o=function(){s.port2.postMessage(0)}}var f,l=[];t.exports=r}).call(e,n(1))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";n(6),n(7),n(9),n(8);var r=n(12),o=n(4),i=document.getElementById("root"),c="standalone"in window.navigator&&window.navigator.standalone,u=o.App.embed(i,{version:"d406a6a",standalone:c}),a=new r("thats-camping"),s=new r("https://mlandauer.cloudant.com/thats-camping",{auth:{username:"cirtionewessinstroonheen",password:"5e5308b9016a700156164970fbb346f9ede08e8e"}});a.sync(s,{live:!0,retry:!0}).on("change",function(t){console.log("sync change:",t)}).on("paused",function(t){console.log("sync paused:",t)}).on("active",function(){console.log("sync active")}).on("denied",function(t){console.log("sync denied:",t)}).on("complete",function(t){console.log("sync complete:",t)}).on("error",function(t){console.log("sync error:",t)}),a.changes({live:!0,include_docs:!0}).on("change",function(t){u.ports.change.send(t)}).on("complete",function(t){console.log("complete",t)}).on("error",function(t){console.log("error",t)}),u.ports.put.subscribe(function(t){a.put(t).then(function(t){u.ports.putSuccess.send(t)}).catch(function(t){t instanceof Error?u.ports.putError.send({status:null,name:null,message:t.message,error:!0}):u.ports.putError.send(t.message)})}),u.ports.destroy.subscribe(function(t){a.destroy().then(function(t){u.ports.destroySuccess.send(t)}).catch(function(t){u.ports.destroyError.send(t)})}),u.ports.bulkDocs.subscribe(function(t){a.bulkDocs(t).then(function(t){console.log(t)}).catch(function(t){console.log(t)})})},function(t,e,n){"use strict";function r(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}return t.call(this,[])}}t.exports=r},function(t,e){(function(){"use strict";function e(t){function e(e){return function(n){return t(e,n)}}return e.arity=2,e.func=t,e}function n(t){function e(e){return function(n){return function(r){return t(e,n,r)}}}return e.arity=3,e.func=t,e}function r(t){function e(e){return function(n){return function(r){return function(o){return t(e,n,r,o)}}}}return e.arity=4,e.func=t,e}function o(t){function e(e){return function(n){return function(r){return function(o){return function(i){return t(e,n,r,o,i)}}}}}return e.arity=5,e.func=t,e}function i(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(c){return t(e,n,r,o,i,c)}}}}}}return e.arity=6,e.func=t,e}function c(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(c){return function(u){return t(e,n,r,o,i,c,u)}}}}}}}return e.arity=7,e.func=t,e}function u(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(c){return function(u){return function(a){return t(e,n,r,o,i,c,u,a)}}}}}}}}return e.arity=8,e.func=t,e}function a(t){function e(e){return function(n){return function(r){return function(o){return function(i){return function(c){return function(u){return function(a){return function(s){return t(e,n,r,o,i,c,u,a,s)}}}}}}}}}return e.arity=9,e.func=t,e}function s(t,e,n){return 2===t.arity?t.func(e,n):t(e)(n)}function f(t,e,n,r){return 3===t.arity?t.func(e,n,r):t(e)(n)(r)}function l(t,e,n,r,o){return 4===t.arity?t.func(e,n,r,o):t(e)(n)(r)(o)}function d(t,e,n,r,o,i){return 5===t.arity?t.func(e,n,r,o,i):t(e)(n)(r)(o)(i)}function _(t,e,n,r,o,i,c){return 6===t.arity?t.func(e,n,r,o,i,c):t(e)(n)(r)(o)(i)(c)}var h=function(){function t(t,e){if(t<0||t>=I(e))throw new Error("Index "+t+" is out of range. Check the length of your array first or use getMaybe or getWithDefault.");return r(t,e)}function r(t,e){for(var n=e.height;n>0;n--){for(var r=t>>5*n;e.lengths[r]<=t;)r++;r>0&&(t-=e.lengths[r-1]),e=e.table[r]}return e.table[t]}function o(t,e,n){return t<0||I(n)<=t?n:i(t,e,n)}function i(t,e,n){if(n=j(n),0===n.height)n.table[t]=e;else{var r=D(t,n);r>0&&(t-=n.lengths[r-1]),n.table[r]=i(t,e,n.table[r])}return n}function c(t,e){if(t<=0)return Q;var n=Math.floor(Math.log(t)/Math.log(K));return u(e,n,0,t)}function u(t,e,n,r){if(0===e){for(var o=new Array((r-n)%(K+1)),i=0;i<o.length;i++)o[i]=t(n+i);return{ctor:"_Array",height:0,table:o}}for(var c=Math.pow(K,e),o=new Array(Math.ceil((r-n)/c)),a=new Array(o.length),i=0;i<o.length;i++)o[i]=u(t,e-1,n+i*c,Math.min(n+(i+1)*c,r)),a[i]=I(o[i])+(i>0?a[i-1]:0);return{ctor:"_Array",height:e,table:o,lengths:a}}function a(t){if("[]"===t.ctor)return Q;for(var e=new Array(K),n=[],r=0;"[]"!==t.ctor;)if(e[r]=t._0,t=t._1,r++,r===K){var o={ctor:"_Array",height:0,table:e};f(o,n),e=new Array(K),r=0}if(r>0){var o={ctor:"_Array",height:0,table:e.splice(0,r)};f(o,n)}for(var i=0;i<n.length-1;i++)n[i].table.length>0&&f(n[i],n);var c=n[n.length-1];return c.height>0&&1===c.table.length?c.table[0]:c}function f(t,e){var n=t.height;if(e.length===n){var r={ctor:"_Array",height:n+1,table:[],lengths:[]};e.push(r)}e[n].table.push(t);var o=I(t);e[n].lengths.length>0&&(o+=e[n].lengths[e[n].lengths.length-1]),e[n].lengths.push(o),e[n].table.length===K&&(f(e[n],e),e[n]={ctor:"_Array",height:n+1,table:[],lengths:[]})}function l(t,e){var n=d(t,e);if(null!==n)return n;var r=M(t,e.height);return F(e,r)}function d(t,e){if(0===e.height){if(e.table.length<K){var n={ctor:"_Array",height:0,table:e.table.slice()};return n.table.push(t),n}return null}var r=d(t,B(e));if(null!==r){var n=j(e);return n.table[n.table.length-1]=r,n.lengths[n.lengths.length-1]++,n}if(e.table.length<K){var o=M(t,e.height-1),n=j(e);return n.table.push(o),n.lengths.push(n.lengths[n.lengths.length-1]+I(o)),n}return null}function _(t){return h(P.Nil,t)}function h(t,e){for(var n=e.table.length-1;n>=0;n--)t=0===e.height?P.Cons(e.table[n],t):h(t,e.table[n]);return t}function p(t,e){var n={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(n.lengths=e.lengths);for(var r=0;r<e.table.length;r++)n.table[r]=0===e.height?t(e.table[r]):p(t,e.table[r]);return n}function v(t,e){return g(t,e,0)}function g(t,e,n){var r={ctor:"_Array",height:e.height,table:new Array(e.table.length)};e.height>0&&(r.lengths=e.lengths);for(var o=0;o<e.table.length;o++)r.table[o]=0===e.height?s(t,n+o,e.table[o]):g(t,e.table[o],0==o?n:n+e.lengths[o-1]);return r}function m(t,e,n){if(0===n.height)for(var r=0;r<n.table.length;r++)e=s(t,n.table[r],e);else for(var r=0;r<n.table.length;r++)e=m(t,e,n.table[r]);return e}function y(t,e,n){if(0===n.height)for(var r=n.table.length;r--;)e=s(t,n.table[r],e);else for(var r=n.table.length;r--;)e=y(t,e,n.table[r]);return e}function b(t,e,n){return t<0&&(t+=I(n)),e<0&&(e+=I(n)),k(t,w(e,n))}function w(t,e){if(t===I(e))return e;if(0===e.height){var n={ctor:"_Array",height:0};return n.table=e.table.slice(0,t),n}var r=D(t,e),o=w(t-(r>0?e.lengths[r-1]:0),e.table[r]);if(0===r)return o;var n={ctor:"_Array",height:e.height,table:e.table.slice(0,r),lengths:e.lengths.slice(0,r)};return o.table.length>0&&(n.table[r]=o,n.lengths[r]=I(o)+(r>0?n.lengths[r-1]:0)),n}function k(t,e){if(0===t)return e;if(0===e.height){var n={ctor:"_Array",height:0};return n.table=e.table.slice(t,e.table.length+1),n}var r=D(t,e),o=k(t-(r>0?e.lengths[r-1]:0),e.table[r]);if(r===e.table.length-1)return o;var n={ctor:"_Array",height:e.height,table:e.table.slice(r,e.table.length+1),lengths:new Array(e.table.length-r)};n.table[0]=o;for(var i=0,c=0;c<n.table.length;c++)i+=I(n.table[c]),n.lengths[c]=i;return n}function E(t,e){if(0===t.table.length)return e;if(0===e.table.length)return t;var n=T(t,e);if(n[0].table.length+n[1].table.length<=K){if(0===n[0].table.length)return n[1];if(0===n[1].table.length)return n[0];if(n[0].table=n[0].table.concat(n[1].table),n[0].height>0){for(var r=I(n[0]),o=0;o<n[1].lengths.length;o++)n[1].lengths[o]+=r;n[0].lengths=n[0].lengths.concat(n[1].lengths)}return n[0]}if(n[0].height>0){var i=A(t,e);i>G&&(n=R(n[0],n[1],i))}return F(n[0],n[1])}function T(t,e){if(0===t.height&&0===e.height)return[t,e];if(1!==t.height||1!==e.height)if(t.height===e.height){t=j(t),e=j(e);var n=T(B(t),L(e));S(t,n[1]),x(e,n[0])}else if(t.height>e.height){t=j(t);var n=T(B(t),e);S(t,n[0]),e=U(n[1],n[1].height+1)}else{e=j(e);var n=T(t,L(e)),r=0===n[0].table.length?0:1,o=0===r?1:0;x(e,n[r]),t=U(n[o],n[o].height+1)}if(0===t.table.length||0===e.table.length)return[t,e];var i=A(t,e);return i<=G?[t,e]:R(t,e,i)}function S(t,e){var n=t.table.length-1;t.table[n]=e,t.lengths[n]=I(e),t.lengths[n]+=n>0?t.lengths[n-1]:0}function x(t,e){if(e.table.length>0){t.table[0]=e,t.lengths[0]=I(e);for(var n=I(t.table[0]),r=1;r<t.lengths.length;r++)n+=I(t.table[r]),t.lengths[r]=n}else{t.table.shift();for(var r=1;r<t.lengths.length;r++)t.lengths[r]=t.lengths[r]-t.lengths[0];t.lengths.shift()}}function A(t,e){for(var n=0,r=0;r<t.table.length;r++)n+=t.table[r].table.length;for(var r=0;r<e.table.length;r++)n+=e.table[r].table.length;var o=t.table.length+e.table.length;return o-(Math.floor((n-1)/K)+1)}function q(t,e,n){return n<t.length?t[n]:e[n-t.length]}function N(t,e,n,r){n<t.length?t[n]=r:e[n-t.length]=r}function C(t,e,n,r){N(t.table,e.table,n,r);var o=0===n||n===t.lengths.length?0:q(t.lengths,t.lengths,n-1);N(t.lengths,e.lengths,n,o+I(r))}function O(t,e){e<0&&(e=0);var n={ctor:"_Array",height:t,table:new Array(e)};return t>0&&(n.lengths=new Array(e)),n}function R(t,e,n){for(var r=O(t.height,Math.min(K,t.table.length+e.table.length-n)),o=O(t.height,r.table.length-(t.table.length+e.table.length-n)),i=0;q(t.table,e.table,i).table.length%K===0;)N(r.table,o.table,i,q(t.table,e.table,i)),N(r.lengths,o.lengths,i,q(t.lengths,e.lengths,i)),i++;for(var c=i,u=new O(t.height-1,0),a=0;i-c-(u.table.length>0?1:0)<n;){var s=q(t.table,e.table,i),f=Math.min(K-u.table.length,s.table.length);if(u.table=u.table.concat(s.table.slice(a,f)),u.height>0)for(var l=u.lengths.length,d=l;d<l+f-a;d++)u.lengths[d]=I(u.table[d]),u.lengths[d]+=d>0?u.lengths[d-1]:0;a+=f,s.table.length<=f&&(i++,a=0),u.table.length===K&&(C(r,o,c,u),u=O(t.height-1,0),c++)}for(u.table.length>0&&(C(r,o,c,u),c++);i<t.table.length+e.table.length;)C(r,o,c,q(t.table,e.table,i)),i++,c++;return[r,o]}function B(t){return t.table[t.table.length-1]}function L(t){return t.table[0]}function j(t){var e={ctor:"_Array",height:t.height,table:t.table.slice()};return t.height>0&&(e.lengths=t.lengths.slice()),e}function I(t){return 0===t.height?t.table.length:t.lengths[t.lengths.length-1]}function D(t,e){for(var n=t>>5*e.height;e.lengths[n]<=t;)n++;return n}function M(t,e){return 0===e?{ctor:"_Array",height:0,table:[t]}:{ctor:"_Array",height:e,table:[M(t,e-1)],lengths:[1]}}function U(t,e){return e===t.height?t:{ctor:"_Array",height:e,table:[U(t,e-1)],lengths:[I(t)]}}function F(t,e){return{ctor:"_Array",height:t.height+1,table:[t,e],lengths:[I(t),I(t)+I(e)]}}function J(t){var e=new Array(I(t));return W(e,0,t),e}function W(t,e,n){for(var r=0;r<n.table.length;r++)if(0===n.height)t[e+r]=n.table[r];else{var o=0===r?0:n.lengths[r-1];W(t,e+o,n.table[r])}}function H(t){if(0===t.length)return Q;var e=Math.floor(Math.log(t.length)/Math.log(K));return z(t,e,0,t.length)}function z(t,e,n,r){if(0===e)return{ctor:"_Array",height:0,table:t.slice(n,r)};for(var o=Math.pow(K,e),i=new Array(Math.ceil((r-n)/o)),c=new Array(i.length),u=0;u<i.length;u++)i[u]=z(t,e-1,n+u*o,Math.min(n+(u+1)*o,r)),c[u]=I(i[u])+(u>0?c[u-1]:0);return{ctor:"_Array",height:e,table:i,lengths:c}}var K=32,G=2,Q={ctor:"_Array",height:0,table:[]};return{empty:Q,fromList:a,toList:_,initialize:e(c),append:e(E),push:e(l),slice:n(b),get:e(t),set:n(o),map:e(p),indexedMap:e(v),foldl:n(m),foldr:n(y),length:I,toJSArray:J,fromJSArray:H}}(),p=function(){function t(t,e){return t/e|0}function r(t,e){return t%e}function o(t,e){if(0===e)throw new Error("Cannot perform mod 0. Division by zero error.");var n=t%e,r=0===t?0:e>0?t>=0?n:n+e:-o(-t,-e);return r===e?0:r}function i(t,e){return Math.log(e)/Math.log(t)}function c(t){return-t}function u(t){return t<0?-t:t}function a(t,e){return v.cmp(t,e)<0?t:e}function s(t,e){return v.cmp(t,e)>0?t:e}function f(t,e,n){return v.cmp(n,t)<0?t:v.cmp(n,e)>0?e:n}function l(t,e){return{ctor:w[v.cmp(t,e)+1]}}function d(t,e){return t!==e}function _(t){return!t}function h(t){return t===1/0||t===-(1/0)}function p(t){return 0|t}function g(t){return t*Math.PI/180}function m(t){return 2*Math.PI*t}function y(t){var e=t._0,n=t._1;return v.Tuple2(e*Math.cos(n),e*Math.sin(n))}function b(t){var e=t._0,n=t._1;return v.Tuple2(Math.sqrt(e*e+n*n),Math.atan2(n,e))}var w=["LT","EQ","GT"];return{div:e(t),rem:e(r),mod:e(o),pi:Math.PI,e:Math.E,cos:Math.cos,sin:Math.sin,tan:Math.tan,acos:Math.acos,asin:Math.asin,atan:Math.atan,atan2:e(Math.atan2),degrees:g,turns:m,fromPolar:y,toPolar:b,sqrt:Math.sqrt,logBase:e(i),negate:c,abs:u,min:e(a),max:e(s),clamp:n(f),compare:e(l),xor:e(d),not:_,truncate:p,ceiling:Math.ceil,floor:Math.floor,round:Math.round,toFloat:function(t){return t},isNaN:isNaN,isInfinite:h}}(),v=function(){function t(t,e){for(var r,o=[],i=n(t,e,0,o);i&&(r=o.pop());)i=n(r.x,r.y,0,o);return i}function n(t,e,r,o){if(r>100)return o.push({x:t,y:e}),!0;if(t===e)return!0;if("object"!=typeof t){if("function"==typeof t)throw new Error('Trying to use `(==)` on functions. There is no way to know if functions are "the same" in the Elm sense. Read more about this at http://package.elm-lang.org/packages/elm-lang/core/latest/Basics#== which describes why it is this way and what the better version will look like.');return!1}if(null===t||null===e)return!1;if(t instanceof Date)return t.getTime()===e.getTime();if(!("ctor"in t)){for(var i in t)if(!n(t[i],e[i],r+1,o))return!1;return!0}if("RBNode_elm_builtin"!==t.ctor&&"RBEmpty_elm_builtin"!==t.ctor||(t=Bt(t),e=Bt(e)),"Set_elm_builtin"===t.ctor&&(t=_elm_lang$core$Set$toList(t),e=_elm_lang$core$Set$toList(e)),"::"===t.ctor){for(var c=t,u=e;"::"===c.ctor&&"::"===u.ctor;){if(!n(c._0,u._0,r+1,o))return!1;c=c._1,u=u._1}return c.ctor===u.ctor}if("_Array"===t.ctor){var a=h.toJSArray(t),s=h.toJSArray(e);if(a.length!==s.length)return!1;for(var f=0;f<a.length;f++)if(!n(a[f],s[f],r+1,o))return!1;return!0}if(!n(t.ctor,e.ctor,r+1,o))return!1;for(var i in t)if(!n(t[i],e[i],r+1,o))return!1;return!0}function r(t,e){if("object"!=typeof t)return t===e?g:t<e?v:m;if(t instanceof String){var n=t.valueOf(),o=e.valueOf();return n===o?g:n<o?v:m}if("::"===t.ctor||"[]"===t.ctor){for(;"::"===t.ctor&&"::"===e.ctor;){var i=r(t._0,e._0);if(i!==g)return i;t=t._1,e=e._1}return t.ctor===e.ctor?g:"[]"===t.ctor?v:m}if("_Tuple"===t.ctor.slice(0,6)){var i,c=t.ctor.slice(6)-0,u="cannot compare tuples with more than 6 elements.";if(0===c)return g;if(c>=1){if(i=r(t._0,e._0),i!==g)return i;if(c>=2){if(i=r(t._1,e._1),i!==g)return i;if(c>=3){if(i=r(t._2,e._2),i!==g)return i;if(c>=4){if(i=r(t._3,e._3),i!==g)return i;if(c>=5){if(i=r(t._4,e._4),i!==g)return i;if(c>=6){if(i=r(t._5,e._5),i!==g)return i;if(c>=7)throw new Error("Comparison error: "+u)}}}}}}return g}throw new Error("Comparison error: comparison is only defined on ints, floats, times, chars, strings, lists of comparable values, and tuples of comparable values.")}function o(t,e){return{ctor:"_Tuple2",_0:t,_1:e}}function i(t){return new String(t)}function c(t){return b++}function u(t,e){var n={};for(var r in t)n[r]=t[r];for(var r in e)n[r]=e[r];return n}function a(t,e){return{ctor:"::",_0:t,_1:e}}function s(t,e){if("string"==typeof t)return t+e;if("[]"===t.ctor)return e;var n=a(t._0,w),r=n;for(t=t._1;"[]"!==t.ctor;)r._1=a(t._0,w),t=t._1,r=r._1;return r._1=e,n}function f(t,e){return function(n){throw new Error("Ran into a `Debug.crash` in module `"+t+"` "+d(e)+"\nThe message provided by the code author is:\n\n    "+n)}}function l(t,e,n){return function(r){throw new Error("Ran into a `Debug.crash` in module `"+t+"`\n\nThis was caused by the `case` expression "+d(e)+".\nOne of the branches ended with a crash and the following value got through:\n\n    "+_(n)+"\n\nThe message provided by the code author is:\n\n    "+r)}}function d(t){return t.start.line==t.end.line?"on line "+t.start.line:"between lines "+t.start.line+" and "+t.end.line}function _(t){var e=typeof t;if("function"===e)return"<function>";if("boolean"===e)return t?"True":"False";if("number"===e)return t+"";if(t instanceof String)return"'"+p(t,!0)+"'";if("string"===e)return'"'+p(t,!1)+'"';if(null===t)return"null";if("object"===e&&"ctor"in t){var n=t.ctor.substring(0,5);if("_Tupl"===n){var r=[];for(var o in t)"ctor"!==o&&r.push(_(t[o]));return"("+r.join(",")+")"}if("_Task"===n)return"<task>";if("_Array"===t.ctor){var i=lt(t);return"Array.fromList "+_(i)}if("<decoder>"===t.ctor)return"<decoder>";if("_Process"===t.ctor)return"<process:"+t.id+">";if("::"===t.ctor){var r="["+_(t._0);for(t=t._1;"::"===t.ctor;)r+=","+_(t._0),t=t._1;return r+"]"}if("[]"===t.ctor)return"[]";if("Set_elm_builtin"===t.ctor)return"Set.fromList "+_(_elm_lang$core$Set$toList(t));if("RBNode_elm_builtin"===t.ctor||"RBEmpty_elm_builtin"===t.ctor)return"Dict.fromList "+_(Bt(t));var r="";for(var c in t)if("ctor"!==c){var u=_(t[c]),a=u[0],s="{"===a||"("===a||"<"===a||'"'===a||u.indexOf(" ")<0;r+=" "+(s?u:"("+u+")")}return t.ctor+r}if("object"===e){if(t instanceof Date)return"<"+t.toString()+">";if(t.elm_web_socket)return"<websocket>";var r=[];for(var o in t)r.push(o+" = "+_(t[o]));return 0===r.length?"{}":"{ "+r.join(", ")+" }"}return"<internal structure>"}function p(t,e){var n=t.replace(/\\/g,"\\\\").replace(/\n/g,"\\n").replace(/\t/g,"\\t").replace(/\r/g,"\\r").replace(/\v/g,"\\v").replace(/\0/g,"\\0");return e?n.replace(/\'/g,"\\'"):n.replace(/\"/g,'\\"')}var v=-1,g=0,m=1,y={ctor:"_Tuple0"},b=0,w={ctor:"[]"};return{eq:t,cmp:r,Tuple0:y,Tuple2:o,chr:i,update:u,guid:c,append:e(s),crash:f,crashCase:l,toString:_}}(),g=(e(function(t,e){var n=e;return s(t,n._0,n._1)}),n(function(t,e,n){return t({ctor:"_Tuple2",_0:e,_1:n})}),n(function(t,e,n){return s(t,n,e)}),e(function(t,e){return t})),m=function(t){return t},y=y||{};y["<|"]=e(function(t,e){return t(e)});var y=y||{};y["|>"]=e(function(t,e){return e(t)});var y=y||{};y[">>"]=n(function(t,e,n){return e(t(n))});var y=y||{};y["<<"]=n(function(t,e,n){return t(e(n))});var y=y||{};y["++"]=v.append;var b=v.toString,w=(p.isInfinite,p.isNaN,p.toFloat),k=(p.ceiling,p.floor),E=(p.truncate,p.round),y=(p.not,p.xor,y||{});y["||"]=p.or;var y=y||{};y["&&"]=p.and;var T=(p.max,p.min,p.compare),y=y||{};y[">="]=p.ge;var y=y||{};y["<="]=p.le;var y=y||{};y[">"]=p.gt;var y=y||{};y["<"]=p.lt;var y=y||{};y["/="]=p.neq;var y=y||{};y["=="]=p.eq;var S=(p.e,p.pi),x=(p.clamp,p.logBase,p.abs,p.negate,p.sqrt),A=p.atan2,q=(p.atan,p.asin,p.acos,p.tan,p.sin),N=p.cos,y=y||{};y["^"]=p.exp;var y=y||{};y["%"]=p.mod;var y=(p.rem,y||{});y["//"]=p.div;var y=y||{};y["/"]=p.floatDiv;var y=y||{};y["*"]=p.mul;var y=y||{};y["-"]=p.sub;var y=y||{};y["+"]=p.add;var C=(p.toPolar,p.fromPolar,p.turns,p.degrees),O={ctor:"GT"},R={ctor:"LT"},B=e(function(t,e){var n=e;return"Just"===n.ctor?n._0:t}),L={ctor:"Nothing"},j=e(function(t,e){var n=e;return"Just"===n.ctor?t(n._0):L}),I=function(t){return{ctor:"Just",_0:t}},D=e(function(t,e){var n=e;return"Just"===n.ctor?I(t(n._0)):L}),M=n(function(t,e,n){var r={ctor:"_Tuple2",_0:e,_1:n};return"_Tuple2"===r.ctor&&"Just"===r._0.ctor&&"Just"===r._1.ctor?I(s(t,r._0._0,r._1._0)):L}),P=(r(function(t,e,n,r){var o={ctor:"_Tuple3",_0:e,_1:n,_2:r};return"_Tuple3"===o.ctor&&"Just"===o._0.ctor&&"Just"===o._1.ctor&&"Just"===o._2.ctor?I(f(t,o._0._0,o._1._0,o._2._0)):L}),o(function(t,e,n,r,o){var i={ctor:"_Tuple4",_0:e,_1:n,_2:r,_3:o};return"_Tuple4"===i.ctor&&"Just"===i._0.ctor&&"Just"===i._1.ctor&&"Just"===i._2.ctor&&"Just"===i._3.ctor?I(l(t,i._0._0,i._1._0,i._2._0,i._3._0)):L}),i(function(t,e,n,r,o,i){var c={ctor:"_Tuple5",_0:e,_1:n,_2:r,_3:o,_4:i};return"_Tuple5"===c.ctor&&"Just"===c._0.ctor&&"Just"===c._1.ctor&&"Just"===c._2.ctor&&"Just"===c._3.ctor&&"Just"===c._4.ctor?I(d(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):L}),function(){function t(t,e){return{ctor:"::",_0:t,_1:e}}function c(e){for(var n=b,r=e.length;r--;)n=t(e[r],n);return n}function u(t){for(var e=[];"[]"!==t.ctor;)e.push(t._0),t=t._1;return e}function a(t,e,n){for(var r=u(n),o=e,i=r.length;i--;)o=s(t,r[i],o);return o}function _(t,e,n){for(var r=[];"[]"!==e.ctor&&"[]"!==n.ctor;)r.push(s(t,e._0,n._0)),e=e._1,n=n._1;return c(r)}function h(t,e,n,r){for(var o=[];"[]"!==e.ctor&&"[]"!==n.ctor&&"[]"!==r.ctor;)o.push(f(t,e._0,n._0,r._0)),e=e._1,n=n._1,r=r._1;return c(o)}function p(t,e,n,r,o){for(var i=[];"[]"!==e.ctor&&"[]"!==n.ctor&&"[]"!==r.ctor&&"[]"!==o.ctor;)i.push(l(t,e._0,n._0,r._0,o._0)),e=e._1,n=n._1,r=r._1,o=o._1;return c(i)}function g(t,e,n,r,o,i){for(var u=[];"[]"!==e.ctor&&"[]"!==n.ctor&&"[]"!==r.ctor&&"[]"!==o.ctor&&"[]"!==i.ctor;)u.push(d(t,e._0,n._0,r._0,o._0,i._0)),e=e._1,n=n._1,r=r._1,o=o._1,i=i._1;return c(u)}function m(t,e){return c(u(e).sort(function(e,n){return v.cmp(t(e),t(n))}))}function y(t,e){return c(u(e).sort(function(e,n){var r=t(e)(n).ctor;return"EQ"===r?0:"LT"===r?-1:1}))}var b={ctor:"[]"};return{Nil:b,Cons:t,cons:e(t),toArray:u,fromArray:c,foldr:n(a),map2:n(_),map3:r(h),map4:o(p),map5:i(g),sortBy:e(m),sortWith:e(y)}}()),U=P.sortWith,F=(P.sortBy,e(function(t,e){for(;;){if(v.cmp(t,0)<1)return e;var n=e;if("[]"===n.ctor)return e;var r=t-1,o=n._1;t=r,e=o}})),J=(P.map5,P.map4,P.map3,P.map2),W=e(function(t,e){for(;;){var n=e;if("[]"===n.ctor)return!1;if(t(n._0))return!0;var r=t,o=n._1;t=r,e=o}}),H=(e(function(t,e){return!s(W,function(e){return!t(e)},e)}),P.foldr),z=n(function(t,e,n){for(;;){var r=n;if("[]"===r.ctor)return e;var o=t,i=s(t,r._0,e),c=r._1;t=o,e=i,n=c}}),K=function(t){return f(z,e(function(t,e){return e+1}),0,t)},G=e(function(t,e){return s(W,function(e){return v.eq(e,t)},e)}),Q=function(t){var e=t;return"[]"===e.ctor},X=function(t){var e=t;return"::"===e.ctor?I(e._0):L},V=V||{};V["::"]=P.cons;var $=e(function(t,n){return f(H,e(function(e,n){return{ctor:"::",_0:t(e),_1:n}}),{ctor:"[]"},n)}),Y=e(function(t,n){var r=e(function(e,n){return t(e)?{ctor:"::",_0:e,_1:n}:n});return f(H,r,{ctor:"[]"},n)}),Z=n(function(t,e,n){var r=t(e);return"Just"===r.ctor?{ctor:"::",_0:r._0,_1:n}:n}),tt=(e(function(t,e){return f(H,Z(t),{ctor:"[]"},e)}),function(t){return f(z,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),{ctor:"[]"},t)}),et=(n(function(t,n,r){var o=e(function(e,n){var r=n;return"::"===r.ctor?{ctor:"::",_0:s(t,e,r._0),_1:n}:{ctor:"[]"}});return tt(f(z,o,{ctor:"::",_0:n,_1:{ctor:"[]"}},r))}),e(function(t,n){var r=n;return"[]"===r.ctor?t:f(H,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),n,t)})),nt=function(t){return f(H,et,{ctor:"[]"},t)},rt=(e(function(t,e){return nt(s($,t,e))}),e(function(t,n){var r=e(function(e,n){var r=n,o=r._0,i=r._1;return t(e)?{ctor:"_Tuple2",_0:{ctor:"::",_0:e,_1:o},_1:i}:{ctor:"_Tuple2",_0:o,_1:{ctor:"::",_0:e,_1:i}}});return f(H,r,{ctor:"_Tuple2",_0:{ctor:"[]"},_1:{ctor:"[]"}},n)}),e(function(t,n){var r=n;if("[]"===r.ctor)return{ctor:"[]"};var o=e(function(e,n){return{ctor:"::",_0:t,_1:{ctor:"::",_0:e,_1:n}}}),i=f(H,o,{ctor:"[]"},r._1);return{ctor:"::",_0:r._0,_1:i}})),ot=n(function(t,e,n){for(;;){if(v.cmp(t,0)<1)return n;var r=e;if("[]"===r.ctor)return n;var o=t-1,i=r._1,c={ctor:"::",_0:r._0,_1:n};t=o,e=i,n=c}}),it=e(function(t,e){return tt(f(ot,t,e,{ctor:"[]"}))}),ct=n(function(t,e,n){if(v.cmp(e,0)<1)return{ctor:"[]"};var r={ctor:"_Tuple2",_0:e,_1:n};t:do{e:do{if("_Tuple2"!==r.ctor)break t;if("[]"===r._1.ctor)return n;if("::"!==r._1._1.ctor){if(1===r._0)break e;break t}switch(r._0){case 1:break e;case 2:return{ctor:"::",_0:r._1._0,_1:{ctor:"::",_0:r._1._1._0,_1:{ctor:"[]"}}};case 3:if("::"===r._1._1._1.ctor)return{ctor:"::",_0:r._1._0,_1:{ctor:"::",_0:r._1._1._0,_1:{ctor:"::",_0:r._1._1._1._0,_1:{ctor:"[]"}}}};break t;default:if("::"===r._1._1._1.ctor&&"::"===r._1._1._1._1.ctor){var o=r._1._1._1._0,i=r._1._1._0,c=r._1._0,u=r._1._1._1._1._0,a=r._1._1._1._1._1;return v.cmp(t,1e3)>0?{ctor:"::",_0:c,_1:{ctor:"::",_0:i,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:u,_1:s(it,e-4,a)}}}}:{ctor:"::",_0:c,_1:{ctor:"::",_0:i,_1:{ctor:"::",_0:o,_1:{ctor:"::",_0:u,_1:f(ct,t+1,e-4,a)}}}}}break t}}while(!1);return{ctor:"::",_0:r._1._0,_1:{ctor:"[]"}}}while(!1);return n}),ut=(e(function(t,e){return f(ct,0,t,e)}),n(function(t,e,n){for(;;){if(v.cmp(e,0)<1)return t;var r={ctor:"::",_0:n,_1:t},o=e-1,i=n;t=r,e=o,n=i}})),at=(e(function(t,e){return f(ut,{ctor:"[]"},t,e)}),n(function(t,e,n){for(;;){if(!(v.cmp(t,e)<1))return n;var r=t,o=e-1,i={ctor:"::",_0:e,_1:n};t=r,e=o,n=i}})),st=e(function(t,e){return f(at,t,e,{ctor:"[]"})}),ft=(e(function(t,e){return f(J,t,s(st,0,K(e)-1),e)}),h.append,h.length,h.slice,h.set,e(function(t,e){return v.cmp(0,t)<1&&v.cmp(t,h.length(e))<0?I(s(h.get,t,e)):L})),lt=(h.push,h.empty,e(function(t,n){var r=e(function(e,n){return t(e)?s(h.push,e,n):n});return f(h.foldl,r,h.empty,n)}),h.foldr,h.foldl,h.indexedMap,h.map,h.toList),dt=h.fromList,_t=h.initialize,ht=(e(function(t,e){return s(_t,t,g(e))}),function(){function t(t,e){var n=t+": "+v.toString(e),r=r||{};return r.stdout?r.stdout.write(n):console.log(n),e}function n(t){throw new Error(t)}return{crash:n,log:e(t)}}()),pt=function(){function t(t){return 0===t.length}function r(t,e){return t+e}function o(t){var e=t[0];return e?I(v.Tuple2(v.chr(e),t.slice(1))):L}function i(t,e){return t+e}function c(t){return P.toArray(t).join("")}function u(t){return t.length}function a(t,e){for(var n=e.split(""),r=n.length;r--;)n[r]=t(v.chr(n[r]));return n.join("")}function f(t,e){return e.split("").map(v.chr).filter(t).join("")}function l(t){return t.split("").reverse().join("")}function d(t,e,n){for(var r=n.length,o=0;o<r;++o)e=s(t,v.chr(n[o]),e);return e}function _(t,e,n){for(var r=n.length;r--;)e=s(t,v.chr(n[r]),e);return e}function h(t,e){return P.fromArray(e.split(t))}function p(t,e){return P.toArray(e).join(t)}function g(t,e){for(var n="";t>0;)1&t&&(n+=e),t>>=1,e+=e;return n}function m(t,e,n){return n.slice(t,e)}function y(t,e){return t<1?"":e.slice(0,t)}function b(t,e){return t<1?"":e.slice(-t)}function w(t,e){return t<1?e:e.slice(t)}function k(t,e){return t<1?e:e.slice(0,-t)}function E(t,e,n){var r=(t-n.length)/2;return g(Math.ceil(r),e)+n+g(0|r,e)}function T(t,e,n){return n+g(t-n.length,e)}function S(t,e,n){return g(t-n.length,e)+n}function x(t){return t.trim()}function A(t){return t.replace(/^\s+/,"")}function q(t){return t.replace(/\s+$/,"")}function N(t){return P.fromArray(t.trim().split(/\s+/g))}function C(t){return P.fromArray(t.split(/\r\n|\r|\n/g))}function O(t){return t.toUpperCase()}function R(t){return t.toLowerCase()}function B(t,e){for(var n=e.length;n--;)if(t(v.chr(e[n])))return!0;return!1}function j(t,e){for(var n=e.length;n--;)if(!t(v.chr(e[n])))return!1;return!0}function D(t,e){return e.indexOf(t)>-1}function M(t,e){return 0===e.indexOf(t)}function U(t,e){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}function F(t,e){var n=t.length;if(n<1)return P.Nil;for(var r=0,o=[];(r=e.indexOf(t,r))>-1;)o.push(r),r+=n;return P.fromArray(o)}function J(t){var e=t.length;if(0===e)return W(t);var n=t[0];if("0"===n&&"x"===t[1]){for(var r=2;r<e;++r){var n=t[r];if(!("0"<=n&&n<="9"||"A"<=n&&n<="F"||"a"<=n&&n<="f"))return W(t)}return bt(parseInt(t,16))}if(n>"9"||n<"0"&&"-"!==n&&"+"!==n)return W(t);for(var r=1;r<e;++r){var n=t[r];if(n<"0"||"9"<n)return W(t)}return bt(parseInt(t,10))}function W(t){return yt("could not convert string '"+t+"' to an Int")}function H(t){if(0===t.length||/[\sxbo]/.test(t))return z(t);var e=+t;return e===e?bt(e):z(t)}function z(t){return yt("could not convert string '"+t+"' to a Float")}function K(t){return P.fromArray(t.split("").map(v.chr))}function G(t){return P.toArray(t).join("")}return{isEmpty:t,cons:e(r),uncons:o,append:e(i),concat:c,length:u,map:e(a),filter:e(f),reverse:l,foldl:n(d),foldr:n(_),split:e(h),join:e(p),repeat:e(g),slice:n(m),left:e(y),right:e(b),dropLeft:e(w),dropRight:e(k),pad:n(E),padLeft:n(S),padRight:n(T),trim:x,trimLeft:A,trimRight:q,words:N,lines:C,toUpper:O,toLower:R,any:e(B),all:e(j),contains:e(D),startsWith:e(M),endsWith:e(U),indexes:e(F),toInt:J,toFloat:H,toList:K,fromList:G}}(),vt=function(){return{fromCode:function(t){return v.chr(String.fromCharCode(t))},toCode:function(t){return t.charCodeAt(0)},toUpper:function(t){return v.chr(t.toUpperCase())},toLower:function(t){return v.chr(t.toLowerCase())},toLocaleUpper:function(t){return v.chr(t.toLocaleUpperCase())},toLocaleLower:function(t){return v.chr(t.toLocaleLowerCase())}}}(),gt=(vt.fromCode,vt.toCode),mt=(vt.toLocaleLower,vt.toLocaleUpper,vt.toLower,vt.toUpper,n(function(t,e,n){var r=gt(n);return v.cmp(r,gt(t))>-1&&v.cmp(r,gt(e))<1})),yt=(s(mt,v.chr("A"),v.chr("Z")),s(mt,v.chr("a"),v.chr("z")),s(mt,v.chr("0"),v.chr("9")),s(mt,v.chr("0"),v.chr("7")),e(function(t,e){var n=e;return"Ok"===n.ctor?n._0:t}),function(t){return{ctor:"Err",_0:t}}),bt=(e(function(t,e){var n=e;return"Ok"===n.ctor?t(n._0):yt(n._0)}),function(t){return{ctor:"Ok",_0:t}}),wt=e(function(t,e){var n=e;return"Ok"===n.ctor?bt(t(n._0)):yt(n._0)}),kt=(n(function(t,e,n){var r={ctor:"_Tuple2",_0:e,_1:n};return"Ok"===r._0.ctor?"Ok"===r._1.ctor?bt(s(t,r._0._0,r._1._0)):yt(r._1._0):yt(r._0._0)}),r(function(t,e,n,r){var o={ctor:"_Tuple3",_0:e,_1:n,_2:r};return"Ok"===o._0.ctor?"Ok"===o._1.ctor?"Ok"===o._2.ctor?bt(f(t,o._0._0,o._1._0,o._2._0)):yt(o._2._0):yt(o._1._0):yt(o._0._0)}),o(function(t,e,n,r,o){var i={ctor:"_Tuple4",_0:e,_1:n,_2:r,_3:o};return"Ok"===i._0.ctor?"Ok"===i._1.ctor?"Ok"===i._2.ctor?"Ok"===i._3.ctor?bt(l(t,i._0._0,i._1._0,i._2._0,i._3._0)):yt(i._3._0):yt(i._2._0):yt(i._1._0):yt(i._0._0)}),i(function(t,e,n,r,o,i){var c={ctor:"_Tuple5",_0:e,_1:n,_2:r,_3:o,_4:i};return"Ok"===c._0.ctor?"Ok"===c._1.ctor?"Ok"===c._2.ctor?"Ok"===c._3.ctor?"Ok"===c._4.ctor?bt(d(t,c._0._0,c._1._0,c._2._0,c._3._0,c._4._0)):yt(c._4._0):yt(c._3._0):yt(c._2._0):yt(c._1._0):yt(c._0._0)}),e(function(t,e){var n=e;return"Ok"===n.ctor?bt(n._0):yt(t(n._0))}),e(function(t,e){var n=e;return"Just"===n.ctor?bt(n._0):yt(t)}),pt.fromList,pt.toList,pt.toFloat,pt.toInt),Et=(pt.indexes,pt.indexes,pt.endsWith,pt.startsWith),Tt=(pt.contains,pt.all,pt.any,pt.toLower,pt.toUpper),St=(pt.lines,pt.words,pt.trimRight,pt.trimLeft,pt.trim,pt.padRight,pt.padLeft,pt.pad,pt.dropRight,pt.dropLeft),xt=(pt.right,pt.left),At=(pt.slice,pt.repeat,pt.join),qt=pt.split,Nt=(pt.foldr,pt.foldl,pt.reverse,pt.filter,pt.map,pt.length,pt.concat),Ct=(pt.append,pt.uncons,pt.cons,pt.isEmpty),Ot=n(function(t,e,n){for(;;){var r=n;if("RBEmpty_elm_builtin"===r.ctor)return e;var o=t,i=f(t,r._1,r._2,f(Ot,t,e,r._4)),c=r._3;t=o,e=i,n=c}}),Rt=function(t){return f(Ot,n(function(t,e,n){return{ctor:"::",_0:e,_1:n}}),{ctor:"[]"},t)},Bt=function(t){return f(Ot,n(function(t,e,n){return{ctor:"::",_0:{ctor:"_Tuple2",_0:t,_1:e},_1:n}}),{ctor:"[]"},t)},Lt=n(function(t,e,n){for(;;){var r=n;if("RBEmpty_elm_builtin"===r.ctor)return e;
var o=t,i=f(t,r._1,r._2,f(Lt,t,e,r._3)),c=r._4;t=o,e=i,n=c}}),jt=i(function(t,r,o,i,c,u){var a=n(function(e,n,i){for(;;){var c=i,u=c._1,a=c._0,s=a;if("[]"===s.ctor)return{ctor:"_Tuple2",_0:a,_1:f(o,e,n,u)};var d=s._1,_=s._0._1,h=s._0._0;if(!(v.cmp(h,e)<0))return v.cmp(h,e)>0?{ctor:"_Tuple2",_0:a,_1:f(o,e,n,u)}:{ctor:"_Tuple2",_0:d,_1:l(r,h,_,n,u)};var p=e,g=n,m={ctor:"_Tuple2",_0:d,_1:f(t,h,_,u)};e=p,n=g,i=m}}),s=f(Lt,a,{ctor:"_Tuple2",_0:Bt(i),_1:u},c),d=s._0,_=s._1;return f(z,e(function(e,n){var r=e;return f(t,r._0,r._1,n)}),_,d)}),It=r(function(t,e,n,r){return ht.crash(Nt({ctor:"::",_0:"Internal red-black tree invariant violated, expected ",_1:{ctor:"::",_0:t,_1:{ctor:"::",_0:" and got ",_1:{ctor:"::",_0:b(e),_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:n,_1:{ctor:"::",_0:"/",_1:{ctor:"::",_0:r,_1:{ctor:"::",_0:"\nPlease report this bug to <https://github.com/elm-lang/core/issues>",_1:{ctor:"[]"}}}}}}}}}}))}),Dt=function(t){var e=t;t:do{if("RBNode_elm_builtin"===e.ctor){if("BBlack"===e._0.ctor)return!0;break t}if("LBBlack"===e._0.ctor)return!0;break t}while(!1);return!1},Mt=e(function(t,e){for(;;){var n=e;if("RBEmpty_elm_builtin"===n.ctor)return t;var r=s(Mt,t+1,n._4),o=n._3;t=r,e=o}}),Pt=e(function(t,e){t:for(;;){var n=e;if("RBEmpty_elm_builtin"===n.ctor)return L;var r=s(T,t,n._1);switch(r.ctor){case"LT":var o=t,i=n._3;t=o,e=i;continue t;case"EQ":return I(n._2);default:var c=t,u=n._4;t=c,e=u;continue t}}}),Ut=e(function(t,e){var n=s(Pt,t,e);return"Just"===n.ctor}),Ft=n(function(t,e,n){for(;;){var r=n;if("RBEmpty_elm_builtin"===r.ctor)return{ctor:"_Tuple2",_0:t,_1:e};var o=r._1,i=r._2,c=r._4;t=o,e=i,n=c}}),Jt={ctor:"NBlack"},Wt={ctor:"BBlack"},Ht={ctor:"Black"},zt=function(t){var e=t;if("RBNode_elm_builtin"===e.ctor){var n=e._0;return v.eq(n,Ht)||v.eq(n,Wt)}return!0},Kt={ctor:"Red"},Gt=function(t){var e=t;switch(e.ctor){case"Black":return Wt;case"Red":return Ht;case"NBlack":return Kt;default:return ht.crash("Can't make a double black node more black!")}},Qt=function(t){var e=t;switch(e.ctor){case"BBlack":return Ht;case"Black":return Kt;case"Red":return Jt;default:return ht.crash("Can't make a negative black node less black!")}},Xt={ctor:"LBBlack"},Vt={ctor:"LBlack"},$t=function(t){return{ctor:"RBEmpty_elm_builtin",_0:t}},Yt=$t(Vt),Zt=function(t){return v.eq(t,Yt)},te=o(function(t,e,n,r,o){return{ctor:"RBNode_elm_builtin",_0:t,_1:e,_2:n,_3:r,_4:o}}),ee=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor&&"Red"===e._0.ctor?d(te,Ht,e._1,e._2,e._3,e._4):t},ne=function(t){var e=t;return"RBNode_elm_builtin"===e.ctor?d(te,Qt(e._0),e._1,e._2,e._3,e._4):$t(Vt)},re=function(t){return function(e){return function(n){return function(r){return function(o){return function(i){return function(c){return function(u){return function(a){return function(s){return function(f){return d(te,Qt(t),r,o,d(te,Ht,e,n,u,a),d(te,Ht,i,c,s,f))}}}}}}}}}}},oe=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?$t(Vt):d(te,Ht,e._1,e._2,e._3,e._4)},ie=function(t){var e=t;return"RBEmpty_elm_builtin"===e.ctor?ht.crash("can't make a Leaf red"):d(te,Kt,e._1,e._2,e._3,e._4)},ce=function(t){var e=t;t:do{e:do{n:do{r:do{o:do{i:do{c:do{if("RBNode_elm_builtin"!==e.ctor)break t;if("RBNode_elm_builtin"===e._3.ctor)if("RBNode_elm_builtin"===e._4.ctor)switch(e._3._0.ctor){case"Red":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;break t;case"NBlack":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;break t;default:if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t}case"NBlack":switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;case"NBlack":if("BBlack"===e._0.ctor){if("RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;if("RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}break t;default:if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t}default:switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;break t;default:break t}}else switch(e._3._0.ctor){case"Red":if("RBNode_elm_builtin"===e._3._3.ctor&&"Red"===e._3._3._0.ctor)break c;if("RBNode_elm_builtin"===e._3._4.ctor&&"Red"===e._3._4._0.ctor)break i;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._3._3.ctor&&"Black"===e._3._3._0.ctor&&"RBNode_elm_builtin"===e._3._4.ctor&&"Black"===e._3._4._0.ctor)break e;break t;default:break t}else{if("RBNode_elm_builtin"!==e._4.ctor)break t;switch(e._4._0.ctor){case"Red":if("RBNode_elm_builtin"===e._4._3.ctor&&"Red"===e._4._3._0.ctor)break o;if("RBNode_elm_builtin"===e._4._4.ctor&&"Red"===e._4._4._0.ctor)break r;break t;case"NBlack":if("BBlack"===e._0.ctor&&"RBNode_elm_builtin"===e._4._3.ctor&&"Black"===e._4._3._0.ctor&&"RBNode_elm_builtin"===e._4._4.ctor&&"Black"===e._4._4._0.ctor)break n;break t;default:break t}}}while(!1);return re(e._0)(e._3._3._1)(e._3._3._2)(e._3._1)(e._3._2)(e._1)(e._2)(e._3._3._3)(e._3._3._4)(e._3._4)(e._4)}while(!1);return re(e._0)(e._3._1)(e._3._2)(e._3._4._1)(e._3._4._2)(e._1)(e._2)(e._3._3)(e._3._4._3)(e._3._4._4)(e._4)}while(!1);return re(e._0)(e._1)(e._2)(e._4._3._1)(e._4._3._2)(e._4._1)(e._4._2)(e._3)(e._4._3._3)(e._4._3._4)(e._4._4)}while(!1);return re(e._0)(e._1)(e._2)(e._4._1)(e._4._2)(e._4._4._1)(e._4._4._2)(e._3)(e._4._3)(e._4._4._3)(e._4._4._4)}while(!1);return d(te,Ht,e._4._3._1,e._4._3._2,d(te,Ht,e._1,e._2,e._3,e._4._3._3),d(ue,Ht,e._4._1,e._4._2,e._4._3._4,ie(e._4._4)))}while(!1);return d(te,Ht,e._3._4._1,e._3._4._2,d(ue,Ht,e._3._1,e._3._2,ie(e._3._3),e._3._4._3),d(te,Ht,e._1,e._2,e._3._4._4,e._4))}while(!1);return t},ue=o(function(t,e,n,r,o){var i=d(te,t,e,n,r,o);return zt(i)?ce(i):i}),ae=o(function(t,e,n,r,o){return Dt(r)||Dt(o)?d(ue,Gt(t),e,n,ne(r),ne(o)):d(te,t,e,n,r,o)}),se=o(function(t,e,n,r,o){var i=o;return"RBEmpty_elm_builtin"===i.ctor?f(fe,t,r,o):d(ae,t,e,n,r,d(se,i._0,i._1,i._2,i._3,i._4))}),fe=n(function(t,e,n){var r={ctor:"_Tuple2",_0:e,_1:n};if("RBEmpty_elm_builtin"!==r._0.ctor){if("RBEmpty_elm_builtin"===r._1.ctor){var o=r._1._0,i=r._0._0,c={ctor:"_Tuple3",_0:t,_1:i,_2:o};return"_Tuple3"===c.ctor&&"Black"===c._0.ctor&&"Red"===c._1.ctor&&"LBlack"===c._2.ctor?d(te,Ht,r._0._1,r._0._2,r._0._3,r._0._4):l(It,"Black/Red/LBlack",t,b(i),b(o))}var u=r._0._2,a=r._0._4,s=r._0._1,_=d(se,r._0._0,s,u,r._0._3,a),h=f(Ft,s,u,a),p=h._0,v=h._1;return d(ae,t,p,v,_,n)}if("RBEmpty_elm_builtin"!==r._1.ctor){var g=r._1._0,m=r._0._0,y={ctor:"_Tuple3",_0:t,_1:m,_2:g};return"_Tuple3"===y.ctor&&"Black"===y._0.ctor&&"LBlack"===y._1.ctor&&"Red"===y._2.ctor?d(te,Ht,r._1._1,r._1._2,r._1._3,r._1._4):l(It,"Black/LBlack/Red",t,b(m),b(g))}var w=t;switch(w.ctor){case"Red":return $t(Vt);case"Black":return $t(Xt);default:return ht.crash("cannot have bblack or nblack nodes at this point")}}),le=e(function(t,e){var n=e;if("RBEmpty_elm_builtin"===n.ctor)return $t(Vt);var r=n._1;return d(te,n._0,r,s(t,r,n._2),s(le,t,n._3),s(le,t,n._4))}),de={ctor:"Same"},_e={ctor:"Remove"},he={ctor:"Insert"},pe=n(function(t,e,n){var r=function(n){var o=n;if("RBEmpty_elm_builtin"===o.ctor){var i=e(L);return"Nothing"===i.ctor?{ctor:"_Tuple2",_0:de,_1:Yt}:{ctor:"_Tuple2",_0:he,_1:d(te,Kt,t,i._0,Yt,Yt)}}var c=o._2,u=o._4,a=o._3,l=o._1,_=o._0,h=s(T,t,l);switch(h.ctor){case"EQ":var p=e(I(c));return"Nothing"===p.ctor?{ctor:"_Tuple2",_0:_e,_1:f(fe,_,a,u)}:{ctor:"_Tuple2",_0:de,_1:d(te,_,l,p._0,a,u)};case"LT":var v=r(a),g=v._0,m=v._1,y=g;switch(y.ctor){case"Same":return{ctor:"_Tuple2",_0:de,_1:d(te,_,l,c,m,u)};case"Insert":return{ctor:"_Tuple2",_0:he,_1:d(ue,_,l,c,m,u)};default:return{ctor:"_Tuple2",_0:_e,_1:d(ae,_,l,c,m,u)}}default:var b=r(u),g=b._0,w=b._1,k=g;switch(k.ctor){case"Same":return{ctor:"_Tuple2",_0:de,_1:d(te,_,l,c,a,w)};case"Insert":return{ctor:"_Tuple2",_0:he,_1:d(ue,_,l,c,a,w)};default:return{ctor:"_Tuple2",_0:_e,_1:d(ae,_,l,c,a,w)}}}},o=r(n),i=o._0,c=o._1,u=i;switch(u.ctor){case"Same":return c;case"Insert":return ee(c);default:return oe(c)}}),ve=n(function(t,e,n){return f(pe,t,g(I(e)),n)}),ge=e(function(t,e){return f(ve,t,e,Yt)}),me=(e(function(t,e){return f(Lt,ve,e,t)}),e(function(t,e){var r=n(function(e,n,r){return s(t,e,n)?f(ve,e,n,r):r});return f(Lt,r,Yt,e)})),ye=(e(function(t,n){return s(me,e(function(t,e){return s(Ut,t,n)}),t)}),e(function(t,e){var r=n(function(e,n,r){var o=r,i=o._1,c=o._0;return s(t,e,n)?{ctor:"_Tuple2",_0:f(ve,e,n,c),_1:i}:{ctor:"_Tuple2",_0:c,_1:f(ve,e,n,i)}});return f(Lt,r,{ctor:"_Tuple2",_0:Yt,_1:Yt},e)}),function(t){return f(z,e(function(t,e){var n=t;return f(ve,n._0,n._1,e)}),Yt,t)}),be=e(function(t,e){return f(pe,t,g(L),e)}),we=(e(function(t,e){return f(Lt,n(function(t,e,n){return s(be,t,n)}),t,e)}),function(){function t(t){return{ctor:"<decoder>",tag:"succeed",msg:t}}function s(t){return{ctor:"<decoder>",tag:"fail",msg:t}}function f(t){return{ctor:"<decoder>",tag:t}}function l(t,e){return{ctor:"<decoder>",tag:t,decoder:e}}function d(t){return{ctor:"<decoder>",tag:"null",value:t}}function _(t,e){return{ctor:"<decoder>",tag:"field",field:t,decoder:e}}function p(t,e){return{ctor:"<decoder>",tag:"index",index:t,decoder:e}}function g(t){return{ctor:"<decoder>",tag:"key-value",decoder:t}}function m(t,e){return{ctor:"<decoder>",tag:"map-many",func:t,decoders:e}}function y(t,e){return{ctor:"<decoder>",tag:"andThen",decoder:e,callback:t}}function b(t){return{ctor:"<decoder>",tag:"oneOf",decoders:t}}function w(t,e){return m(t,[e])}function k(t,e,n){return m(t,[e,n])}function E(t,e,n,r){return m(t,[e,n,r])}function T(t,e,n,r,o){return m(t,[e,n,r,o])}function S(t,e,n,r,o,i){return m(t,[e,n,r,o,i])}function x(t,e,n,r,o,i,c){return m(t,[e,n,r,o,i,c])}function A(t,e,n,r,o,i,c,u){return m(t,[e,n,r,o,i,c,u])}function q(t,e,n,r,o,i,c,u,a){return m(t,[e,n,r,o,i,c,u,a])}function N(t){return{tag:"ok",value:t}}function C(t,e){return{tag:"primitive",type:t,value:e}}function O(t,e){return{tag:"index",index:t,rest:e}}function R(t,e){return{tag:"field",field:t,rest:e}}function O(t,e){return{tag:"index",index:t,rest:e}}function B(t){return{tag:"oneOf",problems:t}}function j(t){return{tag:"fail",msg:t}}function D(t){for(var e="_";t;)switch(t.tag){case"primitive":return"Expecting "+t.type+("_"===e?"":" at "+e)+" but instead got: "+M(t.value);case"index":e+="["+t.index+"]",t=t.rest;break;case"field":e+="."+t.field,t=t.rest;break;case"oneOf":for(var n=t.problems,r=0;r<n.length;r++)n[r]=D(n[r]);return"I ran into the following problems"+("_"===e?"":" at "+e)+":\n\n"+n.join("\n");case"fail":return"I ran into a `fail` decoder"+("_"===e?"":" at "+e)+": "+t.msg}}function M(t){return void 0===t?"undefined":JSON.stringify(t)}function U(t,e){var n;try{n=JSON.parse(e)}catch(t){return yt("Given an invalid JSON: "+t.message)}return F(t,n)}function F(t,e){var n=J(t,e);return"ok"===n.tag?bt(n.value):yt(D(n))}function J(t,e){switch(t.tag){case"bool":return"boolean"==typeof e?N(e):C("a Bool",e);case"int":return"number"!=typeof e?C("an Int",e):-2147483647<e&&e<2147483647&&(0|e)===e?N(e):!isFinite(e)||e%1?C("an Int",e):N(e);case"float":return"number"==typeof e?N(e):C("a Float",e);case"string":return"string"==typeof e?N(e):e instanceof String?N(e+""):C("a String",e);case"null":return null===e?N(t.value):C("null",e);case"value":return N(e);case"list":if(!(e instanceof Array))return C("a List",e);for(var n=P.Nil,r=e.length;r--;){var o=J(t.decoder,e[r]);if("ok"!==o.tag)return O(r,o);n=P.Cons(o.value,n)}return N(n);case"array":if(!(e instanceof Array))return C("an Array",e);for(var i=e.length,c=new Array(i),r=i;r--;){var o=J(t.decoder,e[r]);if("ok"!==o.tag)return O(r,o);c[r]=o.value}return N(h.fromJSArray(c));case"maybe":var o=J(t.decoder,e);return N("ok"===o.tag?I(o.value):L);case"field":var u=t.field;if("object"!=typeof e||null===e||!(u in e))return C("an object with a field named `"+u+"`",e);var o=J(t.decoder,e[u]);return"ok"===o.tag?o:R(u,o);case"index":var a=t.index;if(!(e instanceof Array))return C("an array",e);if(a>=e.length)return C("a longer array. Need index "+a+" but there are only "+e.length+" entries",e);var o=J(t.decoder,e[a]);return"ok"===o.tag?o:O(a,o);case"key-value":if("object"!=typeof e||null===e||e instanceof Array)return C("an object",e);var s=P.Nil;for(var f in e){var o=J(t.decoder,e[f]);if("ok"!==o.tag)return R(f,o);var l=v.Tuple2(f,o.value);s=P.Cons(l,s)}return N(s);case"map-many":for(var d=t.func,_=t.decoders,r=0;r<_.length;r++){var o=J(_[r],e);if("ok"!==o.tag)return o;d=d(o.value)}return N(d);case"andThen":var o=J(t.decoder,e);return"ok"!==o.tag?o:J(t.callback(o.value),e);case"oneOf":for(var p=[],g=t.decoders;"[]"!==g.ctor;){var o=J(g._0,e);if("ok"===o.tag)return o;p.push(o),g=g._1}return B(p);case"fail":return j(t.msg);case"succeed":return N(t.msg)}}function W(t,e){if(t===e)return!0;if(t.tag!==e.tag)return!1;switch(t.tag){case"succeed":case"fail":return t.msg===e.msg;case"bool":case"int":case"float":case"string":case"value":return!0;case"null":return t.value===e.value;case"list":case"array":case"maybe":case"key-value":return W(t.decoder,e.decoder);case"field":return t.field===e.field&&W(t.decoder,e.decoder);case"index":return t.index===e.index&&W(t.decoder,e.decoder);case"map-many":return t.func===e.func&&H(t.decoders,e.decoders);case"andThen":return t.callback===e.callback&&W(t.decoder,e.decoder);case"oneOf":return H(t.decoders,e.decoders)}}function H(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(!W(t[r],e[r]))return!1;return!0}function z(t,e){return JSON.stringify(e,null,t)}function K(t){return t}function G(t){for(var e={};"[]"!==t.ctor;){var n=t._0;e[n._0]=n._1,t=t._1}return e}return{encode:e(z),runOnString:e(U),run:e(F),decodeNull:d,decodePrimitive:f,decodeContainer:e(l),decodeField:e(_),decodeIndex:e(p),map1:e(w),map2:n(k),map3:r(E),map4:o(T),map5:i(S),map6:c(x),map7:u(A),map8:a(q),decodeKeyValuePairs:g,andThen:e(y),fail:s,succeed:t,oneOf:b,identity:K,encodeNull:null,encodeArray:h.toJSArray,encodeList:P.toArray,encodeObject:G,equality:W}}()),ke=we.encodeList,Ee=(we.encodeArray,we.encodeObject),Te=we.encodeNull,Se=we.identity,xe=we.identity,Ae=(we.identity,we.identity),qe=(we.encode,we.decodeNull),Ne=we.decodePrimitive("value"),Ce=we.andThen,Oe=we.fail,Re=we.succeed,Be=we.run,Le=we.runOnString,je=(we.map8,we.map7,we.map6,we.map5),Ie=(we.map4,we.map3),De=we.map2,Me=we.map1,Pe=we.oneOf,Ue=function(t){return s(we.decodeContainer,"maybe",t)},Fe=(we.decodeIndex,we.decodeField),Je=e(function(t,e){return f(H,Fe,e,t)}),We=(we.decodeKeyValuePairs,function(t){return s(we.decodeContainer,"list",t)}),He=function(t){return Pe({ctor:"::",_0:qe(L),_1:{ctor:"::",_0:s(Me,I,t),_1:{ctor:"[]"}}})},ze=we.decodePrimitive("float"),Ke=we.decodePrimitive("int"),Ge=we.decodePrimitive("bool"),Qe=we.decodePrimitive("string"),Xe=(ht.crash,ht.log),Ve=(e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:t(n._1)}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:n._1}}),function(){function t(t){return function(e){return function(e,n){e.worker=function(e){if("undefined"!=typeof e)throw new Error("The `"+n+"` module does not need flags.\nCall "+n+".worker() with no arguments and you should be all set!");return c(t.init,t.update,t.subscriptions,o)}}}}function r(t){return function(e){return function(n,r){n.worker=function(n){if("undefined"==typeof e)throw new Error("Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+r+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.");var i=s(we.run,e,n);if("Err"===i.ctor)throw new Error(r+".worker(...) was called with an unexpected argument.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+i._0);return c(t.init(i._0),t.update,t.subscriptions,o)}}}}function o(t,e){return function(t){}}function i(t){var n=g(P.Nil),r=v.Tuple2(v.Tuple0,n);return hr({init:r,view:function(t){return main},update:e(function(t,e){return r}),subscriptions:function(t){return n}})}function c(t,e,n,r){function o(t,r){return $e.nativeBinding(function(o){var i=s(e,t,r);r=i._0,c(r);var u=i._1,f=n(r);y(a,u,f),o($e.succeed(r))})}function i(t){$e.rawSend(l,t)}var c,a={},f=$e.nativeBinding(function(e){var o=t._0;c=r(i,o);var u=t._1,s=n(o);y(a,u,s),e($e.succeed(o))}),l=h(f,o),d=u(a,i);return d?{ports:d}:{}}function u(t,e){var n;for(var r in q){var o=q[r];o.isForeign&&(n=n||{},n[r]="cmd"===o.tag?S(r):A(r,e)),t[r]=a(o,e)}return n}function a(t,e){function n(t,e){if("self"===t.ctor)return f(c,r,t._0,e);var n=t._0;switch(o){case"cmd":return f(i,r,n.cmds,e);case"sub":return f(i,r,n.subs,e);case"fx":return l(i,r,n.cmds,n.subs,e)}}var r={main:e,self:void 0},o=t.tag,i=t.onEffects,c=t.onSelfMsg,u=h(t.init,n);return r.self=u,u}function d(t,e){return $e.nativeBinding(function(n){t.main(e),n($e.succeed(v.Tuple0))})}function _(t,e){return s($e.send,t.self,{ctor:"self",_0:e})}function h(t,e){function n(t){var o=$e.receive(function(n){return e(n,t)});return s(r,n,o)}var r=$e.andThen,o=s(r,n,t);return $e.rawSpawn(o)}function p(t){return function(e){return{type:"leaf",home:t,value:e}}}function g(t){return{type:"node",branches:t}}function m(t,e){return{type:"map",tagger:t,tree:e}}function y(t,e,n){var r={};b(!0,e,r,null),b(!1,n,r,null);for(var o in t){var i=o in r?r[o]:{cmds:P.Nil,subs:P.Nil};$e.rawSend(t[o],{ctor:"fx",_0:i})}}function b(t,e,n,r){switch(e.type){case"leaf":var o=e.home,i=w(t,o,r,e.value);return void(n[o]=k(t,i,n[o]));case"node":for(var c=e.branches;"[]"!==c.ctor;)b(t,c._0,n,r),c=c._1;return;case"map":return void b(t,e.tree,n,{tagger:e.tagger,rest:r})}}function w(t,e,n,r){function o(t){for(var e=n;e;)t=e.tagger(t),e=e.rest;return t}var i=t?q[e].cmdMap:q[e].subMap;return s(i,o,r)}function k(t,e,n){return n=n||{cmds:P.Nil,subs:P.Nil},t?(n.cmds=P.Cons(e,n.cmds),n):(n.subs=P.Cons(e,n.subs),n)}function E(t){if(t in q)throw new Error("There can only be one port named `"+t+"`, but your program has multiple.")}function T(t,e){return E(t),q[t]={tag:"cmd",cmdMap:N,converter:e,isForeign:!0},p(t)}function S(t){function e(t,e,n){for(;"[]"!==e.ctor;){for(var r=i,o=c(e._0),a=0;a<r.length;a++)r[a](o);e=e._1}return u}function r(t){i.push(t)}function o(t){i=i.slice();var e=i.indexOf(t);e>=0&&i.splice(e,1)}var i=[],c=q[t].converter,u=$e.succeed(null);return q[t].init=u,q[t].onEffects=n(e),{subscribe:r,unsubscribe:o}}function x(t,e){return E(t),q[t]={tag:"sub",subMap:C,converter:e,isForeign:!0},p(t)}function A(t,e){function r(t,e,n){for(var r=o(t,e,n),i=0;i<f.length;i++)u(f[i]);return f=null,h=u,_=o,r}function o(t,e,n){return l=e,p}function i(t,e,n){return _(t,e,n)}function c(t){f.push(t)}function u(t){for(var n=l;"[]"!==n.ctor;)e(n._0(t)),n=n._1}function a(e){var n=s(Be,d,e);if("Err"===n.ctor)throw new Error("Trying to send an unexpected type of value through port `"+t+"`:\n"+n._0);h(n._0)}var f=[],l=P.Nil,d=q[t].converter,_=r,h=c,p=$e.succeed(null);return q[t].init=p,q[t].onEffects=n(i),{send:a}}var q={},N=e(function(t,e){return e}),C=e(function(t,e){return function(n){return t(e(n))}});return{sendToApp:e(d),sendToSelf:e(_),effectManagers:q,outgoingPort:T,incomingPort:x,htmlToProgram:i,program:t,programWithFlags:r,initialize:c,leaf:p,batch:g,map:e(m)}}()),$e=function(){function t(t){return{ctor:"_Task_succeed",value:t}}function n(t){return{ctor:"_Task_fail",value:t}}function r(t){return{ctor:"_Task_nativeBinding",callback:t,cancel:null}}function o(t,e){return{ctor:"_Task_andThen",callback:t,task:e}}function i(t,e){return{ctor:"_Task_onError",callback:t,task:e}}function c(t){return{ctor:"_Task_receive",callback:t}}function u(t){var e={ctor:"_Process",id:v.guid(),root:t,stack:null,mailbox:[]};return h(e),e}function a(e){return r(function(n){var r=u(e);n(t(r))})}function s(t,e){t.mailbox.push(e),h(t)}function f(e,n){return r(function(r){s(e,n),r(t(v.Tuple0))})}function l(e){return r(function(n){var r=e.root;"_Task_nativeBinding"===r.ctor&&r.cancel&&r.cancel(),e.root=null,n(t(v.Tuple0))})}function d(e){return r(function(n){var r=setTimeout(function(){n(t(v.Tuple0))},e);return function(){clearTimeout(r)}})}function _(t,e){for(;t<g;){var n=e.root.ctor;if("_Task_succeed"!==n)if("_Task_fail"!==n)if("_Task_andThen"!==n)if("_Task_onError"!==n){if("_Task_nativeBinding"===n){e.root.cancel=e.root.callback(function(t){e.root=t,h(e)});break}if("_Task_receive"!==n)throw new Error(n);var r=e.mailbox;if(0===r.length)break;e.root=e.root.callback(r.shift()),++t}else e.stack={ctor:"_Task_onError",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else e.stack={ctor:"_Task_andThen",callback:e.root.callback,rest:e.stack},e.root=e.root.task,++t;else{for(;e.stack&&"_Task_andThen"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}else{for(;e.stack&&"_Task_onError"===e.stack.ctor;)e.stack=e.stack.rest;if(null===e.stack)break;e.root=e.stack.callback(e.root.value),e.stack=e.stack.rest,++t}}return t<g?t+1:(h(e),t)}function h(t){y.push(t),m||(setTimeout(p,0),m=!0)}function p(){for(var t,e=0;e<g&&(t=y.shift());)t.root&&(e=_(e,t));return t?void setTimeout(p,0):void(m=!1)}var g=1e4,m=!1,y=[];return{succeed:t,fail:n,nativeBinding:r,andThen:e(o),onError:e(i),receive:c,spawn:a,kill:l,sleep:d,send:e(f),rawSpawn:u,rawSend:s}}(),Ye=Ve.batch,Ze=Ye({ctor:"[]"}),tn=tn||{};tn["!"]=e(function(t,e){return{ctor:"_Tuple2",_0:t,_1:Ye(e)}});var en=Ve.map,nn=Ve.batch,rn=nn({ctor:"[]"}),on=Ve.map,cn=($e.succeed,Ve.sendToSelf),un=Ve.sendToApp,an=(Ve.programWithFlags,Ve.program,Re),sn=(Ce(m),De(e(function(t,e){return e(t)}))),fn=function(t){return sn(Re(t))},ln=n(function(t,e,n){var r=function(t){return Pe({ctor:"::",_0:t,_1:{ctor:"::",_0:qe(n),_1:{ctor:"[]"}}})},o=function(o){var i=s(Be,t,o);if("Ok"===i.ctor){var c=s(Be,r(e),i._0);return"Ok"===c.ctor?Re(c._0):Oe(c._0)}return Re(n)};return s(Ce,o,Ne)}),dn=(r(function(t,e,n,r){return s(sn,f(ln,s(Je,t,Ne),e,n),r)}),r(function(t,e,n,r){return s(sn,f(ln,s(Fe,t,Ne),e,n),r)}),n(function(t,e,n){return s(sn,s(Je,t,e),n)}),n(function(t,e,n){return s(sn,s(Fe,t,e),n)})),_n=(e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:s(en,t,n._1)}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:n._0,_1:Ye({ctor:"::",_0:n._1,_1:{ctor:"::",_0:t,_1:{ctor:"[]"}}})}}),e(function(t,e){var n=e;return{ctor:"_Tuple2",_0:t(n._0),_1:n._1}}),e(function(t,e){return t?e:m}),n(function(t,e,n){var r=n,o=s(t,e,r._0),i=o._0,c=o._1;return{ctor:"_Tuple2",_0:i,_1:Ye({ctor:"::",_0:r._1,_1:{ctor:"::",_0:c,_1:{ctor:"[]"}}})}})),hn=n(function(t,e,n){var r=_n(t);return f(z,r,n,e)}),pn=$e.onError,vn=$e.andThen,gn=e(function(t,e){var n=e;return $e.spawn(s(vn,un(t),n._0))}),mn=$e.fail,yn=(e(function(t,e){return s(pn,function(e){return mn(t(e))},e)}),$e.succeed),bn=e(function(t,e){return s(vn,function(e){return yn(t(e))},e)}),wn=n(function(t,e,n){return s(vn,function(e){return s(vn,function(n){return yn(s(t,e,n))},n)},e)}),kn=(r(function(t,e,n,r){return s(vn,function(e){return s(vn,function(n){return s(vn,function(r){return yn(f(t,e,n,r))},r)},n)},e)}),o(function(t,e,n,r,o){return s(vn,function(e){return s(vn,function(n){return s(vn,function(r){return s(vn,function(o){return yn(l(t,e,n,r,o))},o)},r)},n)},e)}),i(function(t,e,n,r,o,i){return s(vn,function(e){return s(vn,function(n){return s(vn,function(r){return s(vn,function(o){return s(vn,function(i){return yn(d(t,e,n,r,o,i))},i)},o)},r)},n)},e)}),function(t){var n=t;return"[]"===n.ctor?yn({ctor:"[]"}):f(wn,e(function(t,e){return{ctor:"::",_0:t,_1:e}}),n._0,kn(n._1))}),En=n(function(t,e,n){return s(bn,function(t){return{ctor:"_Tuple0"}},kn(s($,gn(t),e)))}),Tn=yn({ctor:"_Tuple0"}),Sn=n(function(t,e,n){return yn({ctor:"_Tuple0"})}),xn=Ve.leaf("Task"),An=function(t){return{ctor:"Perform",_0:t}},qn=(e(function(t,e){return xn(An(s(bn,t,e)))}),e(function(t,e){return xn(An(s(pn,function(e){return yn(t(yt(e)))},s(vn,function(e){return yn(t(bt(e)))},e))))})),Nn=e(function(t,e){var n=e;return An(s(bn,t,n._0))});Ve.effectManagers.Task={pkg:"elm-lang/core",init:Tn,onEffects:En,onSelfMsg:Sn,tag:"cmd",cmdMap:Nn};var Cn=function(){function t(t,e){return $e.nativeBinding(function(n){var r=setInterval(function(){$e.rawSpawn(e)},t);return function(){clearInterval(r)}})}var n=$e.nativeBinding(function(t){t($e.succeed(Date.now()))});return{now:n,setInterval_:e(t)}}(),On=Cn.setInterval_,Rn=n(function(t,e,n){var r=e;if("[]"===r.ctor)return yn(n);var o=r._0,i=function(e){return f(Rn,t,r._1,f(ve,o,e,n))},c=$e.spawn(s(On,o,s(cn,t,o)));return s(vn,i,c)}),Bn=e(function(t,e){var n=t,r=n._1,o=n._0,i=s(Pt,o,e);return"Nothing"===i.ctor?f(ve,o,{ctor:"::",_0:r,_1:{ctor:"[]"}},e):f(ve,o,{ctor:"::",_0:r,_1:i._0},e)}),Ln=Cn.now,jn=n(function(t,e,n){var r=s(Pt,e,n.taggers);if("Nothing"===r.ctor)return yn(n);var o=function(e){return kn(s($,function(n){return s(un,t,n(e))},r._0))};return s(vn,function(t){return yn(n)},s(vn,o,Ln))}),In=Ve.leaf("Time"),Dn=e(function(t,e){return{taggers:t,processes:e}}),Mn=yn(s(Dn,Yt,Yt)),Pn=n(function(t,e,o){var i=o,c=n(function(t,e,n){var r=n;return{ctor:"_Tuple3",_0:r._0,_1:r._1,_2:s(vn,function(t){return r._2},$e.kill(e))}}),u=r(function(t,e,n,r){var o=r;return{ctor:"_Tuple3",_0:o._0,_1:f(ve,t,n,o._1),_2:o._2}}),a=n(function(t,e,n){var r=n;return{ctor:"_Tuple3",_0:{ctor:"::",_0:t,_1:r._0},_1:r._1,_2:r._2}}),l=f(z,Bn,Yt,e),d=_(jt,a,u,c,l,i.processes,{ctor:"_Tuple3",_0:{ctor:"[]"},_1:Yt,_2:yn({ctor:"_Tuple0"})}),h=d._0,p=d._1,v=d._2;return s(vn,function(t){return yn(s(Dn,l,t))},s(vn,function(e){return f(Rn,t,h,p)},v))}),Un=e(function(t,e){return{ctor:"Every",_0:t,_1:e}}),Fn=(e(function(t,e){return In(s(Un,t,e))}),e(function(t,e){var n=e;return s(Un,n._0,function(e){return t(n._1(e))})}));Ve.effectManagers.Time={pkg:"elm-lang/core",init:Mn,onEffects:Pn,onSelfMsg:jn,tag:"sub",subMap:Fn};var Jn=function(){function t(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function o(t){return new RegExp(t.source,"gi")}function i(t){return new RegExp(t,"g")}function c(t,e){return null!==e.match(t)}function u(t,e,n){t="All"===t.ctor?1/0:t._0;for(var r,o=[],i=0,c=n,u=e.lastIndex,a=-1;i++<t&&(r=e.exec(c))&&a!==e.lastIndex;){for(var s=r.length-1,f=new Array(s);s>0;){var l=r[s];f[--s]=void 0===l?L:I(l)}o.push({match:r[0],submatches:P.fromArray(f),index:r.index,number:i}),a=e.lastIndex}return e.lastIndex=u,P.fromArray(o)}function a(t,e,n,r){function o(e){if(i++>=t)return e;for(var r=arguments.length-3,o=new Array(r);r>0;){var c=arguments[r];o[--r]=void 0===c?L:I(c)}return n({match:e,submatches:P.fromArray(o),index:arguments[arguments.length-2],number:i})}t="All"===t.ctor?1/0:t._0;var i=0;return r.replace(e,o)}function s(t,e,n){if(t="All"===t.ctor?1/0:t._0,t===1/0)return P.fromArray(n.split(e));for(var r,o=n,i=[],c=e.lastIndex,u=e.lastIndex;t--&&(r=e.exec(o));)i.push(o.slice(c,r.index)),c=e.lastIndex;return i.push(o.slice(c)),e.lastIndex=u,P.fromArray(i)}return{regex:i,caseInsensitive:o,escape:t,contains:e(c),find:n(u),replace:r(a),split:n(s)}}(),Wn=$e.kill,Hn=($e.sleep,$e.spawn),zn=(Jn.split,Jn.replace),Kn=Jn.find,Gn=Jn.contains,Qn=(Jn.caseInsensitive,Jn.regex),Xn=(Jn.escape,r(function(t,e,n,r){return{match:t,submatches:e,index:n,number:r}}),function(t){return{ctor:"AtMost",_0:t}}),Vn={ctor:"All"},$n=function(){function t(t){return function(e,n,r){return $e.nativeBinding(function(o){function i(t){var e=s(Be,n,t);"Ok"===e.ctor&&$e.rawSpawn(r(e._0))}return t.addEventListener(e,i),function(){t.removeEventListener(e,i)}})}}function r(t,e){return $e.nativeBinding(function(n){y(function(){var r=document.getElementById(t);return null===r?void n($e.fail({ctor:"NotFound",_0:t})):void n($e.succeed(e(r)))})})}function o(t){return r(t,function(t){return t.focus(),v.Tuple0})}function i(t){return r(t,function(t){return t.blur(),v.Tuple0})}function c(t){return r(t,function(t){return t.scrollTop})}function u(t,e){return r(t,function(t){return t.scrollTop=e,v.Tuple0})}function a(t){return r(t,function(t){return t.scrollTop=t.scrollHeight,v.Tuple0})}function f(t){return r(t,function(t){return t.scrollLeft})}function l(t,e){return r(t,function(t){return t.scrollLeft=e,v.Tuple0})}function d(t){return r(t,function(t){return t.scrollLeft=t.scrollWidth,v.Tuple0})}function _(t,e){return r(e,function(e){switch(t.ctor){case"Content":return e.scrollWidth;case"VisibleContent":return e.clientWidth;case"VisibleContentWithBorders":return e.offsetWidth;case"VisibleContentWithBordersAndMargins":var n=e.getBoundingClientRect();return n.right-n.left}})}function h(t,e){return r(e,function(e){switch(t.ctor){case"Content":return e.scrollHeight;case"VisibleContent":return e.clientHeight;case"VisibleContentWithBorders":return e.offsetHeight;case"VisibleContentWithBordersAndMargins":var n=e.getBoundingClientRect();return n.bottom-n.top}})}var p={addEventListener:function(){},removeEventListener:function(){}},g=t("undefined"!=typeof document?document:p),m=t("undefined"!=typeof window?window:p),y="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){t()};return{onDocument:n(g),onWindow:n(m),focus:o,blur:i,getScrollTop:c,setScrollTop:e(u),getScrollLeft:f,setScrollLeft:e(l),toBottom:a,toRight:d,height:e(h),width:e(_)}}(),Yn=$n.onWindow,Zn=($n.onDocument,function(){function t(t){var e=t.coords,n=e.altitude,r=e.altitudeAccuracy,o=null===n||null===r?L:I({value:n,accuracy:r}),i=e.heading,c=e.speed,u=null===i||null===c?L:I(0===c?{ctor:"Static"}:{ctor:"Moving",_0:{speed:c,degreesFromNorth:i}});return{latitude:e.latitude,longitude:e.longitude,accuracy:e.accuracy,altitude:o,movement:u,timestamp:t.timestamp}}function e(t){return{ctor:c[t.code-1],_0:t.message}}function r(t){return{enableHighAccuracy:t.enableHighAccuracy,timeout:t.timeout._0||1/0,maximumAge:t.maximumAge._0||0}}function o(n){return $e.nativeBinding(function(o){function i(e){o($e.succeed(t(e)))}function c(t){o($e.fail(e(t)))}navigator.geolocation.getCurrentPosition(i,c,r(n))})}function i(n,o,i){return $e.nativeBinding(function(c){function u(e){var n=t(e),r=o(n);$e.rawSpawn(r)}function a(t){var n=e(t),r=i(n);$e.rawSpawn(r)}var s=navigator.geolocation.watchPosition(u,a,r(n));return function(){navigator.geolocation.clearWatch(s)}})}var c=["PermissionDenied","PositionUnavailable","Timeout"];return{now:o,watch:n(i)}}()),tr=n(function(t,e,n){var r=n;if("Nothing"===r.ctor)return yn(L);var o=function(n){var r=n;return s(un,t,r._0(e))};return s(vn,function(t){return yn(n)},kn(s($,o,r._0.subs)))}),er=yn(L),nr={enableHighAccuracy:!1,timeout:L,maximumAge:L},rr=Zn.watch,or=rr(nr),ir=n(function(t,e,n){var r=n;if("Nothing"===r.ctor){var o=e;return"[]"===o.ctor?yn(n):s(vn,function(t){return yn(I({subs:e,watcher:t}))},Hn(s(or,cn(t),function(t){return yn({ctor:"_Tuple0"})})))}var i=r._0.watcher,c=e;return"[]"===c.ctor?s(vn,function(t){return yn(L)},Wn(i)):yn(I({subs:e,watcher:i}))}),cr=Zn.now,ur=cr(nr),ar=(Ve.leaf("Geolocation"),i(function(t,e,n,r,o,i){
return{latitude:t,longitude:e,accuracy:n,altitude:r,movement:o,timestamp:i}}),e(function(t,e){return{value:t,accuracy:e}}),n(function(t,e,n){return{enableHighAccuracy:t,timeout:e,maximumAge:n}}),function(t){return{ctor:"Tagger",_0:t}}),sr=e(function(t,e){var n=e;return ar(function(e){return t(n._0(e))})});Ve.effectManagers.Geolocation={pkg:"elm-lang/geolocation",init:er,onEffects:ir,onSelfMsg:tr,tag:"sub",subMap:sr};var fr,lr,dr=function(){function t(t){return{type:"text",text:t}}function o(t){return e(function(e,n){return i(t,e,n)})}function i(t,e,n){for(var r=p(e),o=r.namespace,i=r.facts,c=[],u=0;"[]"!==n.ctor;){var a=n._0;u+=a.descendantsCount||0,c.push(a),n=n._1}return u+=c.length,{type:"node",tag:t,facts:i,children:c,namespace:o,descendantsCount:u}}function c(t,e,n){for(var r=p(e),o=r.namespace,i=r.facts,c=[],u=0;"[]"!==n.ctor;){var a=n._0;u+=a._1.descendantsCount||0,c.push(a),n=n._1}return u+=c.length,{type:"keyed-node",tag:t,facts:i,children:c,namespace:o,descendantsCount:u}}function u(t,e,n){var r=p(t).facts;return{type:"custom",facts:r,model:e,impl:n}}function a(t,e){return{type:"tagger",tagger:t,node:e,descendantsCount:1+(e.descendantsCount||0)}}function l(t,e,n){return{type:"thunk",func:t,args:e,thunk:n,node:void 0}}function d(t,e){return l(t,[e],function(){return t(e)})}function _(t,e,n){return l(t,[e,n],function(){return s(t,e,n)})}function h(t,e,n,r){return l(t,[e,n,r],function(){return f(t,e,n,r)})}function p(t){for(var e,n={};"[]"!==t.ctor;){var r=t._0,o=r.key;if(o===_t||o===ht||o===dt){var i=n[o]||{};i[r.realKey]=r.value,n[o]=i}else if(o===lt){for(var c=n[o]||{},u=r.value;"[]"!==u.ctor;){var a=u._0;c[a._0]=a._1,u=u._1}n[o]=c}else if("namespace"===o)e=r.value;else if("className"===o){var s=n[o];n[o]="undefined"==typeof s?r.value:s+" "+r.value}else n[o]=r.value;t=t._1}return{facts:n,namespace:e}}function g(t){return{key:lt,value:t}}function m(t,e){return{key:t,value:e}}function y(t,e){return{key:_t,realKey:t,value:e}}function b(t,e,n){return{key:ht,realKey:e,value:{value:n,namespace:t}}}function w(t,e,n){return{key:dt,realKey:t,value:{options:e,decoder:n}}}function k(t,e){return(t.options===e.options||t.options.stopPropagation===e.options.stopPropagation&&t.options.preventDefault===e.options.preventDefault)&&we.equality(t.decoder,e.decoder)}function E(t,e){return e.key!==dt?e:w(e.realKey,e.value.options,s(Me,t,e.value.decoder))}function T(t,e){switch(t.type){case"thunk":return t.node||(t.node=t.thunk()),T(t.node,e);case"tagger":for(var n=t.node,r=t.tagger;"tagger"===n.type;)"object"!=typeof r?r=[r,n.tagger]:r.push(n.tagger),n=n.node;var o={tagger:r,parent:e},i=T(n,o);return i.elm_event_node_ref=o,i;case"text":return pt.createTextNode(t.text);case"node":var i=t.namespace?pt.createElementNS(t.namespace,t.tag):pt.createElement(t.tag);S(i,e,t.facts);for(var c=t.children,u=0;u<c.length;u++)i.appendChild(T(c[u],e));return i;case"keyed-node":var i=t.namespace?pt.createElementNS(t.namespace,t.tag):pt.createElement(t.tag);S(i,e,t.facts);for(var c=t.children,u=0;u<c.length;u++)i.appendChild(T(c[u]._1,e));return i;case"custom":var i=t.impl.render(t.model);return S(i,e,t.facts),i}}function S(t,e,n){for(var r in n){var o=n[r];switch(r){case lt:x(t,o);break;case dt:A(t,e,o);break;case _t:N(t,o);break;case ht:C(t,o);break;case"value":t[r]!==o&&(t[r]=o);break;default:t[r]=o}}}function x(t,e){var n=t.style;for(var r in e)n[r]=e[r]}function A(t,e,n){var r=t.elm_handlers||{};for(var o in n){var i=r[o],c=n[o];if("undefined"==typeof c)t.removeEventListener(o,i),r[o]=void 0;else if("undefined"==typeof i){var i=q(e,c);t.addEventListener(o,i),r[o]=i}else i.info=c}t.elm_handlers=r}function q(t,e){function n(e){var r=n.info,o=s(we.run,r.decoder,e);if("Ok"===o.ctor){var i=r.options;i.stopPropagation&&e.stopPropagation(),i.preventDefault&&e.preventDefault();for(var c=o._0,u=t;u;){var a=u.tagger;if("function"==typeof a)c=a(c);else for(var f=a.length;f--;)c=a[f](c);u=u.parent}}}return n.info=e,n}function N(t,e){for(var n in e){var r=e[n];"undefined"==typeof r?t.removeAttribute(n):t.setAttribute(n,r)}}function C(t,e){for(var n in e){var r=e[n],o=r.namespace,i=r.value;"undefined"==typeof i?t.removeAttributeNS(o,n):t.setAttributeNS(o,n,i)}}function O(t,e){var n=[];return B(t,e,n,0),n}function R(t,e,n){return{index:e,type:t,data:n,domNode:void 0,eventNode:void 0}}function B(t,e,n,r){if(t!==e){var o=t.type,i=e.type;if(o!==i)return void n.push(R("p-redraw",r,e));switch(i){case"thunk":for(var c=t.args,u=e.args,a=c.length,s=t.func===e.func&&a===u.length;s&&a--;)s=c[a]===u[a];if(s)return void(e.node=t.node);e.node=e.thunk();var f=[];return B(t.node,e.node,f,0),void(f.length>0&&n.push(R("p-thunk",r,f)));case"tagger":for(var l=t.tagger,d=e.tagger,_=!1,h=t.node;"tagger"===h.type;)_=!0,"object"!=typeof l?l=[l,h.tagger]:l.push(h.tagger),h=h.node;for(var p=e.node;"tagger"===p.type;)_=!0,"object"!=typeof d?d=[d,p.tagger]:d.push(p.tagger),p=p.node;return _&&l.length!==d.length?void n.push(R("p-redraw",r,e)):((_?L(l,d):l===d)||n.push(R("p-tagger",r,d)),void B(h,p,n,r+1));case"text":if(t.text!==e.text)return void n.push(R("p-text",r,e.text));return;case"node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void n.push(R("p-redraw",r,e));var v=j(t.facts,e.facts);return"undefined"!=typeof v&&n.push(R("p-facts",r,v)),void I(t,e,n,r);case"keyed-node":if(t.tag!==e.tag||t.namespace!==e.namespace)return void n.push(R("p-redraw",r,e));var v=j(t.facts,e.facts);return"undefined"!=typeof v&&n.push(R("p-facts",r,v)),void D(t,e,n,r);case"custom":if(t.impl!==e.impl)return void n.push(R("p-redraw",r,e));var v=j(t.facts,e.facts);"undefined"!=typeof v&&n.push(R("p-facts",r,v));var g=e.impl.diff(t,e);if(g)return void n.push(R("p-custom",r,g));return}}}function L(t,e){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function j(t,e,n){var r;for(var o in t)if(o!==lt&&o!==dt&&o!==_t&&o!==ht)if(o in e){var i=t[o],c=e[o];i===c&&"value"!==o||n===dt&&k(i,c)||(r=r||{},r[o]=c)}else r=r||{},r[o]="undefined"==typeof n?"string"==typeof t[o]?"":null:n===lt?"":n===dt||n===_t?void 0:{namespace:t[o].namespace,value:void 0};else{var u=j(t[o],e[o]||{},o);u&&(r=r||{},r[o]=u)}for(var a in e)a in t||(r=r||{},r[a]=e[a]);return r}function I(t,e,n,r){var o=t.children,i=e.children,c=o.length,u=i.length;c>u?n.push(R("p-remove-last",r,c-u)):c<u&&n.push(R("p-append",r,i.slice(c)));for(var a=r,s=c<u?c:u,f=0;f<s;f++){a++;var l=o[f];B(l,i[f],n,a),a+=l.descendantsCount||0}}function D(t,e,n,r){for(var o=[],i={},c=[],u=t.children,a=e.children,s=u.length,f=a.length,l=0,d=0,_=r;l<s&&d<f;){var h=u[l],p=a[d],v=h._0,g=p._0,m=h._1,y=p._1;if(v!==g){var b=l+1<s,w=d+1<f;if(b)var k=u[l+1],E=k._0,T=k._1,S=g===E;if(w)var x=a[d+1],A=x._0,q=x._1,N=v===A;if(b&&w&&N&&S)_++,B(m,q,o,_),M(i,o,v,y,d,c),_+=m.descendantsCount||0,_++,P(i,o,v,T,_),_+=T.descendantsCount||0,l+=2,d+=2;else if(w&&N)_++,M(i,o,g,y,d,c),B(m,q,o,_),_+=m.descendantsCount||0,l+=1,d+=2;else if(b&&S)_++,P(i,o,v,m,_),_+=m.descendantsCount||0,_++,B(T,y,o,_),_+=T.descendantsCount||0,l+=2,d+=1;else{if(!b||!w||E!==A)break;_++,P(i,o,v,m,_),M(i,o,g,y,d,c),_+=m.descendantsCount||0,_++,B(T,q,o,_),_+=T.descendantsCount||0,l+=2,d+=2}}else _++,B(m,y,o,_),_+=m.descendantsCount||0,l++,d++}for(;l<s;){_++;var h=u[l],m=h._1;P(i,o,h._0,m,_),_+=m.descendantsCount||0,l++}for(var C;d<f;){C=C||[];var p=a[d];M(i,o,p._0,p._1,void 0,C),d++}(o.length>0||c.length>0||"undefined"!=typeof C)&&n.push(R("p-reorder",r,{patches:o,inserts:c,endInserts:C}))}function M(t,e,n,r,o,i){var c=t[n];if("undefined"==typeof c)return c={tag:"insert",vnode:r,index:o,data:void 0},i.push({index:o,entry:c}),void(t[n]=c);if("remove"===c.tag){i.push({index:o,entry:c}),c.tag="move";var u=[];return B(c.vnode,r,u,c.index),c.index=o,void(c.data.data={patches:u,entry:c})}M(t,e,n+vt,r,o,i)}function P(t,e,n,r,o){var i=t[n];if("undefined"==typeof i){var c=R("p-remove",o,void 0);return e.push(c),void(t[n]={tag:"remove",vnode:r,index:o,data:c})}if("insert"===i.tag){i.tag="move";var u=[];B(r,i.vnode,u,o);var c=R("p-remove",o,{patches:u,entry:i});return void e.push(c)}P(t,e,n+vt,r,o)}function U(t,e,n,r){F(t,e,n,0,0,e.descendantsCount,r)}function F(t,e,n,r,o,i,c){for(var u=n[r],a=u.index;a===o;){var s=u.type;if("p-thunk"===s)U(t,e.node,u.data,c);else if("p-reorder"===s){u.domNode=t,u.eventNode=c;var f=u.data.patches;f.length>0&&F(t,e,f,0,o,i,c)}else if("p-remove"===s){u.domNode=t,u.eventNode=c;var l=u.data;if("undefined"!=typeof l){l.entry.data=t;var f=l.patches;f.length>0&&F(t,e,f,0,o,i,c)}}else u.domNode=t,u.eventNode=c;if(r++,!(u=n[r])||(a=u.index)>i)return r}switch(e.type){case"tagger":for(var d=e.node;"tagger"===d.type;)d=d.node;return F(t,d,n,r,o+1,i,t.elm_event_node_ref);case"node":for(var _=e.children,h=t.childNodes,p=0;p<_.length;p++){o++;var v=_[p],g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(r=F(h[p],v,n,r,o,g,c),!(u=n[r])||(a=u.index)>i))return r;o=g}return r;case"keyed-node":for(var _=e.children,h=t.childNodes,p=0;p<_.length;p++){o++;var v=_[p]._1,g=o+(v.descendantsCount||0);if(o<=a&&a<=g&&(r=F(h[p],v,n,r,o,g,c),!(u=n[r])||(a=u.index)>i))return r;o=g}return r;case"text":case"thunk":throw new Error("should never traverse `text` or `thunk` nodes like this")}}function J(t,e,n,r){return 0===n.length?t:(U(t,e,n,r),W(t,n))}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n],o=r.domNode,i=H(o,r);o===t&&(t=i)}return t}function H(t,e){switch(e.type){case"p-redraw":return z(t,e.data,e.eventNode);case"p-facts":return S(t,e.eventNode,e.data),t;case"p-text":return t.replaceData(0,t.length,e.data),t;case"p-thunk":return W(t,e.data);case"p-tagger":return"undefined"!=typeof t.elm_event_node_ref?t.elm_event_node_ref.tagger=e.data:t.elm_event_node_ref={tagger:e.data,parent:e.eventNode},t;case"p-remove-last":for(var n=e.data;n--;)t.removeChild(t.lastChild);return t;case"p-append":for(var r=e.data,n=0;n<r.length;n++)t.appendChild(T(r[n],e.eventNode));return t;case"p-remove":var o=e.data;if("undefined"==typeof o)return t.parentNode.removeChild(t),t;var i=o.entry;return"undefined"!=typeof i.index&&t.parentNode.removeChild(t),i.data=W(t,o.patches),t;case"p-reorder":return K(t,e);case"p-custom":var c=e.data;return c.applyPatch(t,c.data);default:throw new Error("Ran into an unknown patch!")}}function z(t,e,n){var r=t.parentNode,o=T(e,n);return"undefined"==typeof o.elm_event_node_ref&&(o.elm_event_node_ref=t.elm_event_node_ref),r&&o!==t&&r.replaceChild(o,t),o}function K(t,e){var n=e.data,r=G(n.endInserts,e);t=W(t,n.patches);for(var o=n.inserts,i=0;i<o.length;i++){var c=o[i],u=c.entry,a="move"===u.tag?u.data:T(u.vnode,e.eventNode);t.insertBefore(a,t.childNodes[c.index])}return"undefined"!=typeof r&&t.appendChild(r),t}function G(t,e){if("undefined"!=typeof t){for(var n=pt.createDocumentFragment(),r=0;r<t.length;r++){var o=t[r],i=o.entry;n.appendChild("move"===i.tag?i.data:T(i.vnode,e.eventNode))}return n}}function Q(t){return e(function(e,n){return function(r){return function(o,i,c){var u=t(r,i);"undefined"==typeof c?Z(n,o,i,u):nt(s(e,c,n),o,i,u)}}})}function X(t){var n=v.Tuple2(v.Tuple0,Ze);return s(gt,fr,{init:n,view:function(){return t},update:e(function(){return n}),subscriptions:function(){return rn}})()}function V(t,e){return function(t,n,r){if("undefined"==typeof n)return t;var o="The `"+e+"` module does not need flags.\nInitialize it with no arguments and you should be all set!";Y(o,r)}}function $(t,e){return function(n,r,o){if("undefined"==typeof t){var i="Are you trying to sneak a Never value into Elm? Trickster!\nIt looks like "+e+".main is defined with `programWithFlags` but has type `Program Never`.\nUse `program` instead if you do not want flags.";Y(i,o)}var c=s(we.run,t,r);if("Ok"===c.ctor)return n(c._0);var i="Trying to initialize the `"+e+"` module with an unexpected flag.\nI tried to convert it to an Elm value, but ran into this problem:\n\n"+c._0;Y(i,o)}}function Y(t,e){throw e&&(e.innerHTML='<div style="padding-left:1em;"><h2 style="font-weight:normal;"><b>Oops!</b> Something went wrong when starting your Elm program.</h2><pre style="padding-left:1em;">'+t+"</pre></div>"),new Error(t)}function Z(t,e,n,r){e.embed=function(e,n){for(;e.lastChild;)e.removeChild(e.lastChild);return Ve.initialize(r(t.init,n,e),t.update,t.subscriptions,tt(e,t.view))},e.fullscreen=function(e){return Ve.initialize(r(t.init,e,document.body),t.update,t.subscriptions,tt(document.body,t.view))}}function tt(t,e){return function(n,r){var o={tagger:n,parent:void 0},i=e(r),c=T(i,o);return t.appendChild(c),et(c,e,i,o)}}function et(t,e,n,r){function o(){switch(c){case"NO_REQUEST":throw new Error("Unexpected draw callback.\nPlease report this to <https://github.com/elm-lang/virtual-dom/issues>.");case"PENDING_REQUEST":yt(o),c="EXTRA_REQUEST";var n=e(i),a=O(u,n);return t=J(t,u,a,r),void(u=n);case"EXTRA_REQUEST":return void(c="NO_REQUEST")}}var i,c="NO_REQUEST",u=n;return function(t){"NO_REQUEST"===c&&yt(o),c="PENDING_REQUEST",i=t}}function nt(t,e,n,r){e.fullscreen=function(e){var o={doc:void 0};return Ve.initialize(r(t.init,e,document.body),t.update(rt(o)),t.subscriptions,ot(n,document.body,o,t.view,t.viewIn,t.viewOut))},e.embed=function(e,o){var i={doc:void 0};return Ve.initialize(r(t.init,o,e),t.update(rt(i)),t.subscriptions,ot(n,e,i,t.view,t.viewIn,t.viewOut))}}function rt(t){return $e.nativeBinding(function(e){var n=t.doc;if(n){var r=n.getElementsByClassName("debugger-sidebar-messages")[0];r&&(r.scrollTop=r.scrollHeight)}e($e.succeed(v.Tuple0))})}function ot(t,e,n,r,o,i){return function(c,u){var a={tagger:c,parent:void 0},s={tagger:c,parent:void 0},f=r(u),l=T(f,a);e.appendChild(l);var d=et(l,r,f,a),_=o(u)._1,h=T(_,s);e.appendChild(h);var p=ut(a,h,o),v=et(h,p,_,s),g=it(u,i,s,e,t,n);return function(t){d(t),v(t),g(t)}}}function it(t,e,n,r,o,i){var c,u;return function(t){if(t.isDebuggerOpen){if(!i.doc)return c=e(t),void(u=ct(o,i,c,n));pt=i.doc;var r=e(t),a=O(c,r);u=J(u,c,a,n),c=r,pt=document}}}function ct(t,e,n,r){function o(){e.doc=void 0,s.close()}var i=900,c=360,u=screen.width-i,a=screen.height-c,s=window.open("","","width="+i+",height="+c+",left="+u+",top="+a);pt=s.document,e.doc=pt,pt.title="Debugger - "+t,pt.body.style.margin="0",pt.body.style.padding="0";var f=T(n,r);return pt.body.appendChild(f),pt.addEventListener("keydown",function(t){t.metaKey&&82===t.which&&window.location.reload(),38===t.which&&(r.tagger({ctor:"Up"}),t.preventDefault()),40===t.which&&(r.tagger({ctor:"Down"}),t.preventDefault())}),window.addEventListener("unload",o),s.addEventListener("unload",function(){e.doc=void 0,window.removeEventListener("unload",o),r.tagger({ctor:"Close"})}),pt=document,f}function ut(t,e,n){var r,o=ft(e),i="Normal",c=t.tagger,u=function(){};return function(e){var a=n(e),s=a._0.ctor;return t.tagger="Normal"===s?c:u,i!==s&&(at("removeEventListener",o,i),at("addEventListener",o,s),"Normal"===i&&(r=document.body.style.overflow,document.body.style.overflow="hidden"),"Normal"===s&&(document.body.style.overflow=r),i=s),a._1}}function at(t,e,n){switch(n){case"Normal":return;case"Pause":return st(t,e,bt);case"Message":return st(t,e,wt)}}function st(t,e,n){for(var r=0;r<n.length;r++)document.body[t](n[r],e,!0)}function ft(t){return function(e){if("keydown"!==e.type||!e.metaKey||82!==e.which){for(var n="scroll"===e.type||"wheel"===e.type,r=e.target;null!==r;){if("elm-overlay-message-details"===r.className&&n)return;if(r===t&&!n)return;r=r.parentNode}e.stopPropagation(),e.preventDefault()}}}var lt="STYLE",dt="EVENT",_t="ATTR",ht="ATTR_NS",pt="undefined"!=typeof document?document:{},vt="_elmW6BL",gt=Q(V),mt=Q($),yt="undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(t){setTimeout(t,1e3/60)},bt=["click","dblclick","mousemove","mouseup","mousedown","mouseenter","mouseleave","touchstart","touchend","touchcancel","touchmove","pointerdown","pointerup","pointerover","pointerout","pointerenter","pointerleave","pointermove","pointercancel","dragstart","drag","dragend","dragenter","dragover","dragleave","drop","keyup","keydown","keypress","input","change","focus","blur"],wt=bt.concat("wheel","scroll");return{node:o,text:t,custom:u,map:e(a),on:n(w),style:g,property:e(m),attribute:e(y),attributeNS:n(b),mapProperty:e(E),lazy:e(d),lazy2:n(_),lazy3:r(h),keyedNode:n(c),program:gt,programWithFlags:mt,staticProgram:X}}(),_r=function(t){return s(dr.programWithFlags,lr,t)},hr=function(t){return s(dr.program,fr,t)},pr=(dr.keyedNode,dr.lazy3,dr.lazy2,dr.lazy,{stopPropagation:!1,preventDefault:!1}),vr=dr.on,gr=e(function(t,e){return f(vr,t,pr,e)}),mr=(dr.style,dr.mapProperty,dr.attributeNS,dr.attribute),yr=dr.property,br=dr.map,wr=dr.text,kr=dr.node,Er=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),_r),Tr=hr,Sr=br,xr=wr,Ar=kr,qr=(Ar("body"),Ar("section"),Ar("nav")),Nr=(Ar("article"),Ar("aside"),Ar("h1")),Cr=Ar("h2"),Or=(Ar("h3"),Ar("h4"),Ar("h5"),Ar("h6"),Ar("header"),Ar("footer"),Ar("address"),Ar("main"),Ar("p")),Rr=(Ar("hr"),Ar("pre"),Ar("blockquote"),Ar("ol"),Ar("ul"),Ar("li"),Ar("dl"),Ar("dt"),Ar("dd"),Ar("figure"),Ar("figcaption"),Ar("div")),Br=Ar("a"),Lr=(Ar("em"),Ar("strong")),jr=(Ar("small"),Ar("s"),Ar("cite"),Ar("q"),Ar("dfn"),Ar("abbr"),Ar("time"),Ar("code"),Ar("var"),Ar("samp"),Ar("kbd"),Ar("sub"),Ar("sup"),Ar("i"),Ar("b"),Ar("u"),Ar("mark"),Ar("ruby"),Ar("rt"),Ar("rp"),Ar("bdi"),Ar("bdo"),Ar("span")),Ir=Ar("br"),Dr=(Ar("wbr"),Ar("ins"),Ar("del"),Ar("img"),Ar("iframe"),Ar("embed"),Ar("object"),Ar("param"),Ar("video"),Ar("audio"),Ar("source"),Ar("track"),Ar("canvas"),Ar("math"),Ar("table"),Ar("caption"),Ar("colgroup"),Ar("col"),Ar("tbody"),Ar("thead"),Ar("tfoot"),Ar("tr"),Ar("td"),Ar("th"),Ar("form"),Ar("fieldset"),Ar("legend"),Ar("label"),Ar("input"),Ar("button")),Mr=(Ar("select"),Ar("datalist"),Ar("optgroup"),Ar("option"),Ar("textarea"),Ar("keygen"),Ar("output"),Ar("progress"),Ar("meter"),Ar("details"),Ar("summary"),Ar("menuitem"),Ar("menu"),mr),Pr=yr,Ur=e(function(t,e){return s(Pr,t,Ae(e))}),Fr=function(t){return s(Ur,"className",t)},Jr=function(t){return s(Ur,"id",t)},Wr=function(t){return s(Ur,"href",t)},Hr=(e(function(t,e){return s(Pr,t,Se(e))}),s(Fe,"keyCode",Ke),s(Je,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"checked",_1:{ctor:"[]"}}},Ge),s(Je,{ctor:"::",_0:"target",_1:{ctor:"::",_0:"value",_1:{ctor:"[]"}}},Qe),pr),zr=gr,Kr=(v.update(Hr,{preventDefault:!0}),function(t){return s(zr,"click",Re(t))}),Gr=(e(function(t,e){return{stopPropagation:t,preventDefault:e}}),function(){function t(t){return encodeURIComponent(t)}function n(t){try{return I(decodeURIComponent(t))}catch(t){return L}}function r(t,e){return $e.nativeBinding(function(n){var r=new XMLHttpRequest;o(r,e),r.addEventListener("error",function(){n($e.fail({ctor:"NetworkError"}))}),r.addEventListener("timeout",function(){n($e.fail({ctor:"Timeout"}))}),r.addEventListener("load",function(){n(u(r,t.expect.responseToResult))});try{r.open(t.method,t.url,!0)}catch(e){return n($e.fail({ctor:"BadUrl",_0:t.url}))}return i(r,t),c(r,t.body),function(){r.abort()}})}function o(t,e){"Nothing"!==e.ctor&&t.addEventListener("progress",function(t){t.lengthComputable&&$e.rawSpawn(e._0({bytes:t.loaded,bytesExpected:t.total}))})}function i(t,e){function n(e){t.setRequestHeader(e._0,e._1)}s($,n,e.headers),t.responseType=e.expect.responseType,t.withCredentials=e.withCredentials,"Just"===e.timeout.ctor&&(t.timeout=e.timeout._0)}function c(t,e){switch(e.ctor){case"EmptyBody":return void t.send();case"StringBody":return t.setRequestHeader("Content-Type",e._0),void t.send(e._1);case"FormDataBody":return void t.send(e._0)}}function u(t,e){var n=a(t);if(t.status<200||300<=t.status)return n.body=t.responseText,$e.fail({ctor:"BadStatus",_0:n});var r=e(n);return"Ok"===r.ctor?$e.succeed(r._0):(n.body=t.responseText,$e.fail({ctor:"BadPayload",_0:r._0,_1:n}))}function a(t){return{status:{code:t.status,message:t.statusText},headers:l(t.getAllResponseHeaders()),url:t.responseURL,body:t.response}}function l(t){var e=Yt;if(!t)return e;for(var n=t.split("\r\n"),r=n.length;r--;){var o=n[r],i=o.indexOf(": ");if(i>0){var c=o.substring(0,i),u=o.substring(i+2);e=f(pe,c,function(t){return I("Just"===t.ctor?u+", "+t._0:u)},e)}}return e}function d(t){return{responseType:"text",responseToResult:t}}function _(t,e){return{responseType:e.responseType,responseToResult:function(n){var r=e.responseToResult(n);return s(wt,t,r)}}}function h(t){for(var e=new FormData;"[]"!==t.ctor;){var n=t._0;e.append(n._0,n._1),t=t._1}return{ctor:"FormDataBody",_0:e}}return{toTask:e(r),expectStringResponse:d,mapExpect:e(_),multipart:h,encodeUri:t,decodeUri:n}}()),Qr=(e(function(t,e){return v.update(e,{expect:s(Gr.mapExpect,t,e.expect)})}),c(function(t,e,n,r,o,i,c){return{method:t,headers:e,url:n,body:r,expect:o,timeout:i,withCredentials:c}}),function(t){return{ctor:"Request",_0:t}}),Xr=(e(function(t,e){return{ctor:"StringBody",_0:t,_1:e}}),{ctor:"EmptyBody"}),Vr=(e(function(t,e){return{ctor:"Header",_0:t,_1:e}}),Gr.decodeUri),$r=Gr.encodeUri,Yr=Gr.expectStringResponse,Zr=function(t){return Yr(function(e){return s(Le,t,e.body)})},to=(Yr(function(t){return bt(t.body)}),Gr.multipart,Xr),eo=Qr,no=(n(function(t,e,n){return eo({method:"POST",headers:{ctor:"[]"},url:t,body:e,expect:Zr(n),timeout:L,withCredentials:!1})}),e(function(t,e){return eo({method:"GET",headers:{ctor:"[]"},url:t,body:to,expect:Zr(e),timeout:L,withCredentials:!1})})),ro=function(t){var e=t;return s(Gr.toTask,e._0,L)},oo=e(function(t,e){return s(qn,t,ro(e))}),io=(r(function(t,e,n,r){return{url:t,status:e,headers:n,body:r}}),e(function(t,e){return{ctor:"BadPayload",_0:t,_1:e}}),e(function(t,e){return{ctor:"StringPart",_0:t,_1:e}}),function(){function t(t){return $e.nativeBinding(function(e){0!==t&&history.go(t),e($e.succeed(v.Tuple0))})}function e(t){return $e.nativeBinding(function(e){history.pushState({},"",t),e($e.succeed(i()))})}function n(t){return $e.nativeBinding(function(e){history.replaceState({},"",t),e($e.succeed(i()))})}function r(t){return $e.nativeBinding(function(e){document.location.reload(t),e($e.succeed(v.Tuple0))})}function o(t){return $e.nativeBinding(function(e){try{window.location=t}catch(t){document.location.reload(!1)}e($e.succeed(v.Tuple0))})}function i(){var t=document.location;return{href:t.href,host:t.host,hostname:t.hostname,protocol:t.protocol,origin:t.origin,port_:t.port,pathname:t.pathname,search:t.search,hash:t.hash,username:t.username,password:t.password}}function c(){return window.navigator.userAgent.indexOf("Trident")!==-1}return{go:t,setLocation:o,reloadPage:r,pushState:e,replaceState:n,getLocation:i,isInternetExplorer11:c}}()),co=io.replaceState,uo=io.pushState,ao=io.go,so=io.reloadPage,fo=io.setLocation,lo=lo||{};lo["&>"]=e(function(t,e){return s(vn,function(t){return e},t)});var _o=n(function(t,e,n){var r=function(e){var r=e;return s(un,t,r._0(n))};return s(lo["&>"],kn(s($,r,e)),yn({ctor:"_Tuple0"}))}),ho=n(function(t,e,n){var r=n;switch(r.ctor){case"Jump":return ao(r._0);case"New":return s(vn,s(_o,t,e),uo(r._0));case"Modify":return s(vn,s(_o,t,e),co(r._0));case"Visit":return fo(r._0);default:return so(r._0)}}),po=function(t){var e=t;return"Normal"===e.ctor?Wn(e._0):s(lo["&>"],Wn(e._0),Wn(e._1))},vo=n(function(t,e,n){return s(lo["&>"],f(_o,t,n.subs,e),yn(n))}),go=Ve.leaf("Navigation"),mo=Ve.leaf("Navigation"),yo=e(function(t,e){return{subs:t,popWatcher:e}}),bo=yn(s(yo,{ctor:"[]"},L)),wo=function(t){return{ctor:"Reload",_0:t}},ko=(mo(wo(!1)),mo(wo(!0)),function(t){return{ctor:"Visit",_0:t}}),Eo=function(t){return{ctor:"Modify",_0:t}},To=function(t){return mo(Eo(t))},So=function(t){return{ctor:"New",_0:t}},xo=function(t){return mo(So(t))},Ao=function(t){return{ctor:"Jump",_0:t}},qo=function(t){return mo(Ao(0-t))},No=e(function(t,e){var n=e;switch(n.ctor){case"Jump":return Ao(n._0);case"New":return So(n._0);case"Modify":return Eo(n._0);case"Visit":return ko(n._0);default:return wo(n._0)}}),Co=function(t){return{ctor:"Monitor",_0:t}},Oo=(e(function(t,e){var n=e.init(io.getLocation({ctor:"_Tuple0"})),r=function(n){return nn({ctor:"::",_0:go(Co(t)),_1:{ctor:"::",_0:e.subscriptions(n),_1:{ctor:"[]"}}})};return Tr({init:n,view:e.view,update:e.update,subscriptions:r})}),e(function(t,e){var n=function(t){return s(e.init,t,io.getLocation({ctor:"_Tuple0"}))},r=function(n){return nn({ctor:"::",_0:go(Co(t)),_1:{ctor:"::",_0:e.subscriptions(n),_1:{ctor:"[]"}}})};return Er({init:n,view:e.view,update:e.update,subscriptions:r})})),Ro=e(function(t,e){var n=e;return Co(function(e){return t(n._0(e))})}),Bo=e(function(t,e){return{ctor:"InternetExplorer",_0:t,_1:e}}),Lo=function(t){return{ctor:"Normal",_0:t}},jo=function(t){var e=function(e){return s(cn,t,io.getLocation({ctor:"_Tuple0"}))};return io.isInternetExplorer11({ctor:"_Tuple0"})?f(wn,Bo,Hn(f(Yn,"popstate",Ne,e)),Hn(f(Yn,"hashchange",Ne,e))):s(bn,Lo,Hn(f(Yn,"popstate",Ne,e)))},Io=r(function(t,e,n,r){var o=r,i=o.popWatcher,c=function(){var e={ctor:"_Tuple2",_0:n,_1:i};t:do{if("[]"===e._0.ctor){if("Just"===e._1.ctor)return s(lo["&>"],po(e._1._0),yn(s(yo,n,L)));break t}if("Nothing"===e._1.ctor)return s(bn,function(t){return s(yo,n,I(t))},jo(t));break t}while(!1);return yn(s(yo,n,i))}();return s(lo["&>"],kn(s($,s(ho,t,n),e)),c)});Ve.effectManagers.Navigation={pkg:"elm-lang/navigation",init:bo,onEffects:Io,onSelfMsg:vo,tag:"fx",cmdMap:No,subMap:Ro};var Do=(e(function(t,e){var n=s(et,e.path,t);return v.update(e,{path:n})}),e(function(t,e){var n=s(be,t,e.query);return v.update(e,{query:n})}),n(function(t,e,n){var r=s(ge,t,e);return v.update(n,{query:r})}),n(function(t,e,n){var r=Ct(e)?s(be,t,n.query):f(ve,t,e,n.query);return v.update(n,{query:r})}),function(t){var e=Bt(t.query),n=s($,function(t){var e=t;return{ctor:"_Tuple2",_0:$r(e._0),_1:$r(e._1)}},e),r=s($,function(t){var e=t;return s(y["++"],e._0,s(y["++"],"=",e._1))},n);return Zt(t.query)?"":s(y["++"],"?",s(At,"&",r))}),Mo=function(t){var e=s(qt,"=",t),n=s(B,"",X(e)),r=s(B,"",Vr(n)),o=s(B,"",X(s(F,1,e))),i=s(B,"",Vr(o));return{ctor:"_Tuple2",_0:r,_1:i}},Po=function(t){var e=s(qt,"&",t);return Ct(t)?{ctor:"[]"}:s($,Mo,e)},Uo=function(t){return ye(Po(t))},Fo=function(t){return s(B,"",X(s(qt,"#",s(B,"",X(s(F,1,s(qt,"?",t)))))))},Jo=function(t){return Uo(Fo(t))},Wo=function(t){return s(B,"",X(s(F,1,s(qt,"#",t))))},Ho=function(t){return Wo(t)},zo=function(t){return s(qt,".",t)},Ko=function(t){var e=s(qt,"://",t),n=K(e);return 1===n?"":s(B,"",X(e))},Go=function(t){var e=Qn(":\\d+"),n=f(Kn,Xn(1),e,t);return function(e){var n=e;if("Ok"===n.ctor)return n._0;var r=Ko(t);switch(r){case"http":return 80;case"https":return 443;case"ftp":return 21;case"sftp":return 22;default:return 0}}(kt(s(St,1,s(B,"",X(s($,function(t){return t.match},n))))))},Qo=(e(function(t,e){var n=s(qt,t,e),r=X(n),o=K(n);switch(o){case 0:return"";case 1:return"";default:return s(B,"",r)}}),e(function(t,e){var n=s(qt,t,e);return s(B,"",X(n))})),Xo=e(function(t,e){var n=s(qt,t,e);return s(B,"",X(tt(n)))}),Vo=function(t){var e="localhost",n="((\\w|-)+\\.)+(\\w|-)+",r=s(y["++"],"(",s(y["++"],n,s(y["++"],"|",s(y["++"],e,")"))));return s(B,"",X(s($,function(t){return t.match},f(Kn,Xn(1),Qn(r),s(Qo,"/",s(Xo,"//",t))))))},$o=function(t){return zo(Vo(t))},Yo=function(t){var e=Vo(t);return l(zn,Xn(1),Qn(":\\d+"),function(t){return""},l(zn,Xn(1),Qn(e),function(t){return""},s(Qo,"#",s(Qo,"?",s(Xo,"//",t)))))},Zo=function(t){return s(Gn,Qn("^/"),Yo(t))},ti=function(t){return s(Gn,Qn("/$"),Yo(t))},ei=(e(function(t,e){var n=s(qt,t,e),r=K(n);switch(r){case 0:return"";case 1:return"";default:return s(B,"",X(tt(n)))}}),function(t){return!Ct(t)}),ni=function(t){return s($,B(""),s($,Vr,s(Y,ei,s(qt,"/",t))))},ri=function(t){return ni(Yo(t))},oi=function(t){return{host:$o(t),hash:Ho(t),password:"",path:ri(t),hasLeadingSlash:Zo(t),hasTrailingSlash:ti(t),port_:Go(t),protocol:Ko(t),query:Jo(t),username:""}},ii=function(t){return s(y["++"],"/",s(y["++"],s(At,"/",t.path),t.hasTrailingSlash&&!Q(t.path)?"/":""))},ci=e(function(t,e){return v.eq(t.path,e.path)&&v.eq(t.hasTrailingSlash,e.hasTrailingSlash)&&v.eq(t.hash,e.hash)&&v.eq(Bt(t.query),Bt(e.query))}),ui=e(function(t,e){return s(ci,oi(e.url),t)?L:I(e)}),ai=e(function(t,e){return v.update(e,{url:t(e.url)})}),si=e(function(t,e){return s(ai,s(Et,"?",e.url)?function(e){return s(y["++"],ii(t),e)}:s(Et,"#",e.url)?function(e){return s(y["++"],ii(t),s(y["++"],Do(t),e))}:function(t){return t},e)}),fi=function(t){return function(){var e=t.entry;return"NewEntry"===e.ctor?xo:To}()(t.url)},li=function(t){return s(Oo,t.locationToMessage,{init:t.init,update:t.update,view:t.view,subscriptions:t.subscriptions})},di=(n(function(t,e,n){var r=n;return"RouterMsg"===r.ctor?t(r._0):e(r._0)}),function(t){return{delta2url:t.delta2url,location2messages:t.location2messages,update:t.update,subscriptions:t.subscriptions,view:t.view}}),_i=(i(function(t,e,n,r,o,i){return{delta2url:t,location2messages:e,init:n,update:r,subscriptions:o,view:i}}),i(function(t,e,n,r,o,i){return{delta2url:t,location2messages:e,init:n,update:r,subscriptions:o,view:i}}),o(function(t,e,n,r,o){return{delta2url:t,location2messages:e,update:n,subscriptions:r,view:o}}),e(function(t,e){return{entry:t,url:e}})),hi=(e(function(t,e){return{reportedUrl:t,expectedUrlChanges:e}}),o(function(t,e,n,r,o){return{locationToMessage:t,init:e,update:n,view:r,subscriptions:o}}),o(function(t,e,n,r,o){return{locationToMessage:t,init:e,update:n,view:r,subscriptions:o}}),{ctor:"NewEntry"}),pi=e(function(t,e){return{ctor:"WrappedModel",_0:t,_1:e}}),vi=(e(function(t,e){var n=e;return s(pi,t(n._0),n._1)}),function(t){return{ctor:"UserMsg",_0:t}}),gi=e(function(t,e){var n=e;return s(Sr,vi,t.view(n._0))}),mi=e(function(t,e){var n=e;return s(on,vi,t.subscriptions(n._0))}),yi=r(function(t,e,n,r){var o={expectedUrlChanges:0,reportedUrl:oi(r.href)},i=f(hn,e.update,e.location2messages(r),t(n)),c=i._0,u=i._1;return{ctor:"_Tuple2",_0:s(pi,c,o),_1:s(en,vi,u)}}),bi=(n(function(t,e,n){var r={expectedUrlChanges:0,reportedUrl:oi(n.href)},o=f(hn,e.update,e.location2messages(n),t),i=o._0,c=o._1;return{ctor:"_Tuple2",_0:s(pi,i,r),_1:s(en,vi,c)}}),n(function(t,e,n){var r=n,o=r._0,i=r._1,c=e;if("RouterMsg"===c.ctor){var u=c._0,a={reportedUrl:oi(u.href),expectedUrlChanges:v.cmp(i.expectedUrlChanges,0)>0?i.expectedUrlChanges-1:0};if(v.cmp(i.expectedUrlChanges,0)>0)return{ctor:"_Tuple2",_0:s(pi,o,a),_1:Ze};var l=f(hn,t.update,t.location2messages(u),{ctor:"_Tuple2",_0:o,_1:Ze}),d=l._0,_=l._1;return{ctor:"_Tuple2",_0:s(pi,d,a),_1:s(en,vi,_)}}var h=s(t.update,c._0,o),d=h._0,p=h._1,g=s(j,ui(i.reportedUrl),s(D,si(i.reportedUrl),s(t.delta2url,o,d))),m=g;if("Just"===m.ctor){var y=m._0;return{ctor:"_Tuple2",_0:s(pi,d,{reportedUrl:oi(y.url),expectedUrlChanges:i.expectedUrlChanges+1}),_1:s(en,vi,Ye({ctor:"::",_0:fi(y),_1:{ctor:"::",_0:p,_1:{ctor:"[]"}}}))}}return{ctor:"_Tuple2",_0:s(pi,d,i),_1:s(en,vi,p)}})),wi=function(t){return{ctor:"RouterMsg",_0:t}},ki=function(t){var e=di(t);return{locationToMessage:wi,init:s(yi,t.init,e),update:bi(e),view:gi(e),subscriptions:mi(e)}},Ei=function(t){return li(ki(t))},Ti=e(function(t,e){var r=e,o=r._0,i=t?"$":"#",c=v.eq(o.hash,"")?"":s(y["++"],i,$r(o.hash)),u=n(function(t,e,n){return{ctor:"::",_0:s(y["++"],$r(t),s(y["++"],"=",$r(e))),_1:n}}),a=s(At,"/",s($,$r,o.path)),l=t?"^":"?",d=Zt(o.query)?"":s(y["++"],l,s(At,"&",f(Lt,u,{ctor:"[]"},o.query))),_=t?"#!/":"/";return{entry:o.entry,url:s(y["++"],_,s(y["++"],a,s(y["++"],d,c)))}}),Si=(Ti(!1),Ti(!0),e(function(t,e){var n=e;return s(Pt,t,n._0.query)}),function(t){var e=t;return e._0.path}),xi=function(t){return{ctor:"Builder",_0:t}},Ai=(xi({entry:hi,path:{ctor:"[]"},query:Yt,hash:""}),e(function(t,e){var n=e,r=n._0;return xi(v.update(r,{path:t(r.path)}))}),e(function(t,e){var n=e;return xi(v.update(n._0,{path:t}))}),e(function(t,e){var n=e,r=n._0;return xi(v.update(r,{query:t(r.query)}))})),qi=(e(function(t,e){return Ai(s(ve,t,e))}),e(function(t,e){return Ai(s(pe,t,e))}),e(function(t,e){var n=e;return xi(v.update(n._0,{query:t}))}),e(function(t,e){var n=e,r=n._0;return xi(v.update(r,{hash:t(r.hash)}))}),e(function(t,e){var n=e;return xi(v.update(n._0,{hash:t}))}),function(t){var e=oi(l(zn,Xn(1),Qn("\\^"),g("?"),l(zn,Xn(1),Qn("$"),g("#"),l(zn,Xn(1),Qn("^!"),g(""),function(t){
return t.hash}(oi(t))))));return xi({entry:hi,path:e.path,query:e.query,hash:e.hash})}),Ni=function(t){var e=dt({ctor:"::",_0:"N",_1:{ctor:"::",_0:"NE",_1:{ctor:"::",_0:"E",_1:{ctor:"::",_0:"SE",_1:{ctor:"::",_0:"S",_1:{ctor:"::",_0:"SW",_1:{ctor:"::",_0:"W",_1:{ctor:"::",_0:"NW",_1:{ctor:"[]"}}}}}}}}}),n=s(y["%"],E(8*t/360),8),r=s(ft,n,e);return"Just"===r.ctor?r._0:""},Ci=function(t){return v.cmp(t,1e3)>0?s(y["++"],b(E(t/1e3))," km"):s(y["++"],b(E(t))," m")},Oi=e(function(t,e){return t-e*w(k(t/e))}),Ri=e(function(t,e){return{latitude:t,longitude:e}}),Bi=function(t){return s(Ri,C(t.latitude),C(t.longitude))},Li=e(function(t,e){var n=6371e3,r=Bi(t),o=Bi(e),i=r.latitude-o.latitude,c=r.longitude-o.longitude,u=q(i/2)*q(i/2)+N(o.latitude)*N(r.latitude)*q(c/2)*q(c/2),a=2*s(A,x(u),x(1-u));return n*a}),ji=e(function(t,e){return Ci(s(Li,t,e))}),Ii=e(function(t,e){var n=Bi(t),r=Bi(e),o=r.longitude-n.longitude,i=q(o)*N(r.latitude),c=N(n.latitude)*q(r.latitude)-q(n.latitude)*N(r.latitude)*N(o),u=s(A,i,c)/S*180;return s(Oi,u,360)}),Di=e(function(t,e){return Ni(s(Ii,t,e))}),Mi=e(function(t,e){return s(y["++"],s(ji,t,e),s(y["++"]," ",s(Di,t,e)))}),Pi=a(function(t,e,n,r,o,i,c,u,a){return{id:t,shortName:e,longName:n,description:r,location:o,facilities:i,access:c,parkId:u,revision:a}}),Ui=o(function(t,e,n,r,o){return{toilets:t,picnicTables:e,barbecues:n,showers:r,drinkingWater:o}}),Fi=n(function(t,e,n){return{caravans:t,trailers:e,cars:n}}),Ji={ctor:"NoCaravans"},Wi={ctor:"Caravans"},Hi={ctor:"NoTrailers"},zi={ctor:"Trailers"},Ki={ctor:"NoCars"},Gi={ctor:"Cars"},Qi={ctor:"NoToilets"},Xi={ctor:"FlushToilets"},Vi={ctor:"NonFlushToilets"},$i={ctor:"NoPicnicTables"},Yi={ctor:"PicnicTables"},Zi={ctor:"NoBarbecues"},tc={ctor:"GasElectricBarbecues"},ec={ctor:"WoodBringYourOwnBarbecues"},nc={ctor:"WoodSuppliedBarbecues"},rc={ctor:"WoodBarbecues"},oc={ctor:"NoShowers"},ic={ctor:"ColdShowers"},cc={ctor:"HotShowers"},uc={ctor:"NoDrinkingWater"},ac={ctor:"DrinkingWater"},sc={text:L,campsites:Yt},fc=(e(function(t,e){return{text:t,campsites:e}}),i(function(t,e,n,r,o,i){return{id:t,shortName:e,longName:n,description:r,campsiteIds:o,revision:i}})),lc=(a(function(t,e,n,r,o,i,c,u,a){return{campsites:t,parks:e,location:n,errors:r,starredCampsites:o,page:i,adminModel:c,standalone:u,version:a}}),{ctor:"UnknownPage"}),dc={ctor:"AdminPage"},_c={ctor:"AboutPage"},hc=function(t){return{ctor:"ParkPage",_0:t}},pc=function(t){return{ctor:"CampsitePage",_0:t}},vc={ctor:"CampsitesPage"},gc=Ve.outgoingPort("put",function(t){return t}),mc=Ve.outgoingPort("destroy",function(t){return null}),yc=Ve.incomingPort("destroySuccess",s(Ce,function(t){return Re({ok:t})},s(Fe,"ok",Ge))),bc=Ve.incomingPort("destroyError",Re({})),wc=Ve.incomingPort("putSuccess",s(Ce,function(t){return s(Ce,function(e){return s(Ce,function(n){return Re({ok:t,id:e,rev:n})},s(Fe,"rev",Qe))},s(Fe,"id",Qe))},s(Fe,"ok",Ge))),kc=Ve.incomingPort("putError",s(Ce,function(t){return s(Ce,function(e){return s(Ce,function(n){return s(Ce,function(r){return Re({status:t,name:e,message:n,error:r})},s(Fe,"error",Ge))},s(Fe,"message",Qe))},s(Fe,"name",Pe({ctor:"::",_0:qe(L),_1:{ctor:"::",_0:s(Me,I,Qe),_1:{ctor:"[]"}}})))},s(Fe,"status",Pe({ctor:"::",_0:qe(L),_1:{ctor:"::",_0:s(Me,I,Ke),_1:{ctor:"[]"}}})))),Ec=function(t){return nn({ctor:"::",_0:kc(function(e){return t(yt(e))}),_1:{ctor:"::",_0:wc(function(e){return t(bt(e))}),_1:{ctor:"[]"}}})},Tc=Ve.incomingPort("change",s(Ce,function(t){return s(Ce,function(e){return s(Ce,function(n){return s(Ce,function(r){return Re({id:t,changes:e,doc:n,seq:r})},s(Fe,"seq",Ke))},s(Fe,"doc",Ne))},s(Fe,"changes",We(s(Ce,function(t){return Re({rev:t})},s(Fe,"rev",Qe)))))},s(Fe,"id",Qe))),Sc=Ve.outgoingPort("bulkDocs",function(t){return P.toArray(t).map(function(t){return t})}),xc=(r(function(t,e,n,r){return{status:t,name:e,message:n,error:r}}),n(function(t,e,n){return{ok:t,id:e,rev:n}}),r(function(t,e,n,r){return{id:t,changes:e,doc:n,seq:r}}),s(fn,L,f(dn,"campsites",We(s(Me,function(t){return s(y["++"],"c",b(t))},Ke)),f(dn,"description",Qe,f(dn,"longName",Qe,f(dn,"shortName",Qe,f(dn,"id",s(Me,function(t){return s(y["++"],"p",b(t))},Ke),an(fc)))))))),Ac=s(Me,function(t){return I(t?Gi:Ki)},Ge),qc=s(Me,function(t){return I(t?zi:Hi)},Ge),Nc=s(Me,function(t){return I(t?Wi:Ji)},Ge),Cc=l(Ie,Fi,s(Fe,"caravans",Nc),s(Fe,"trailers",qc),s(Fe,"car",Ac)),Oc=s(Me,function(t){return I(t?ac:uc)},Ge),Rc=s(Me,function(t){return v.eq(t,"hot")?I(cc):v.eq(t,"cold")?I(ic):v.eq(t,"none")?I(oc):L},Qe),Bc=s(Me,function(t){return v.eq(t,"wood")?I(rc):v.eq(t,"wood_supplied")?I(nc):v.eq(t,"wood_bring_your_own")?I(ec):v.eq(t,"gas_electric")?I(tc):v.eq(t,"none")?I(Zi):L},Qe),Lc=s(Me,function(t){return I(t?Yi:$i)},Ge),jc=s(Me,function(t){return v.eq(t,"non_flush")?I(Vi):v.eq(t,"flush")?I(Xi):v.eq(t,"none")?I(Qi):L},Qe),Ic=_(je,Ui,s(Fe,"toilets",jc),s(Fe,"picnicTables",Lc),s(Fe,"barbecues",Bc),s(Fe,"showers",Rc),s(Fe,"drinkingWater",Oc)),Dc=Ue(f(De,Ri,s(Fe,"latitude",ze),s(Fe,"longitude",ze))),Mc=s(fn,L,f(dn,"park",s(Me,function(t){return s(y["++"],"p",b(t))},Ke),s(sn,Cc,s(sn,Ic,s(sn,Dc,f(dn,"description",Qe,f(dn,"longName",Qe,f(dn,"shortName",Qe,f(dn,"id",s(Me,function(t){return s(y["++"],"c",b(t))},Ke),an(Pi)))))))))),Pc=e(function(t,e){return{parks:t,campsites:e}}),Uc=f(De,Pc,s(Fe,"parks",We(xc)),s(Fe,"campsites",We(Mc))),Fc=function(t){var e=t;return"Just"===e.ctor?Ae(e._0):Te},Jc=function(t){return Ee({ctor:"::",_0:{ctor:"_Tuple2",_0:"_id",_1:Ae(t.id)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"_rev",_1:Fc(t.revision)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"type",_1:Ae("park")},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"shortName",_1:Ae(t.shortName)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"longName",_1:Ae(t.longName)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"description",_1:Ae(t.description)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"campsiteIds",_1:ke(s($,Ae,t.campsiteIds))},_1:{ctor:"[]"}}}}}}}})},Wc=function(t){var e=t;return"Just"===e.ctor?Se("Cars"===e._0.ctor?!0:!1):Te},Hc=function(t){var e=t;return"Just"===e.ctor?Se("Trailers"===e._0.ctor?!0:!1):Te},zc=function(t){var e=t;return"Just"===e.ctor?Se("Caravans"===e._0.ctor?!0:!1):Te},Kc=function(t){return Ee({ctor:"::",_0:{ctor:"_Tuple2",_0:"caravans",_1:zc(t.caravans)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"trailers",_1:Hc(t.trailers)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"cars",_1:Wc(t.cars)},_1:{ctor:"[]"}}}})},Gc=function(t){var e=t;return"Just"===e.ctor?Se("DrinkingWater"===e._0.ctor?!0:!1):Te},Qc=function(t){var e=t;if("Just"!==e.ctor)return Te;switch(e._0.ctor){case"HotShowers":return Ae("hot");case"ColdShowers":return Ae("cold");default:return Ae("no")}},Xc=function(t){var e=t;if("Just"!==e.ctor)return Te;switch(e._0.ctor){case"WoodBarbecues":return Ae("wood");case"WoodSuppliedBarbecues":return Ae("wood_supplied");case"WoodBringYourOwnBarbecues":return Ae("wood_bring_your_own");case"GasElectricBarbecues":return Ae("gas_electric");default:return Ae("no")}},Vc=function(t){var e=t;return"Just"===e.ctor?Se("PicnicTables"===e._0.ctor?!0:!1):Te},$c=function(t){var e=t;if("Just"!==e.ctor)return Te;switch(e._0.ctor){case"NonFlushToilets":return Ae("non_flush");case"FlushToilets":return Ae("flush");default:return Ae("no")}},Yc=function(t){return Ee({ctor:"::",_0:{ctor:"_Tuple2",_0:"toilets",_1:$c(t.toilets)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"picnicTables",_1:Vc(t.picnicTables)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"barbecues",_1:Xc(t.barbecues)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"showers",_1:Qc(t.showers)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"drinkingWater",_1:Gc(t.drinkingWater)},_1:{ctor:"[]"}}}}}})},Zc=function(t){var e=t;if("Just"===e.ctor){var n=e._0;return Ee({ctor:"::",_0:{ctor:"_Tuple2",_0:"latitude",_1:xe(n.latitude)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"longitude",_1:xe(n.longitude)},_1:{ctor:"[]"}}})}return Te},tu=function(t){return Ee({ctor:"::",_0:{ctor:"_Tuple2",_0:"_id",_1:Ae(t.id)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"_rev",_1:Fc(t.revision)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"type",_1:Ae("campsite")},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"shortName",_1:Ae(t.shortName)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"longName",_1:Ae(t.longName)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"description",_1:Ae(t.description)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"location",_1:Zc(t.location)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"facilities",_1:Yc(t.facilities)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"access",_1:Kc(t.access)},_1:{ctor:"::",_0:{ctor:"_Tuple2",_0:"parkId",_1:Ae(t.parkId)},_1:{ctor:"[]"}}}}}}}}}}})},eu=function(t){var e=t;switch(e.ctor){case"BadUrl":return s(y["++"],"Bad URL: ",e._0);case"Timeout":return"Timeout";case"NetworkError":return"Network Error";case"BadStatus":return"Bad Status";default:return s(y["++"],"Bad payload: ",e._0)}},nu=function(t){return!v.eq(t.shortName,"Lane Cove River")},ru=function(t){return nu(t)?v.update(t,{shortName:"Lane Cove River"}):v.update(t,{shortName:"Lane Cove River - I've been updated!"})},ou=function(t){return s(Pt,"c126",t)},iu={ctor:"ToggleLaneCoveName"},cu=function(t){return{ctor:"DestroyError",_0:t}},uu=function(t){return{ctor:"DestroySuccess",_0:t}},au={ctor:"Destroy"},su=function(t){return{ctor:"Put",_0:t}},fu=function(t){return nn({ctor:"::",_0:Ec(su),_1:{ctor:"::",_0:yc(uu),_1:{ctor:"::",_0:bc(cu),_1:{ctor:"[]"}}}})},lu=function(t){return{ctor:"NewData",_0:t}},du=function(){var t="https://raw.githubusercontent.com/mlandauer/thats-camping-react/master/data.json",e=s(no,t,Uc);return s(oo,lu,e)}(),_u=e(function(t,e){var n=t;switch(n.ctor){case"LoadData":return{ctor:"_Tuple2",_0:v.update(e,{text:I("We should be loading data now")}),_1:du};case"NewData":if("Err"===n._0.ctor)return{ctor:"_Tuple2",_0:v.update(e,{text:I(eu(n._0._0))}),_1:Ze};var r=n._0._0;return{ctor:"_Tuple2",_0:e,_1:Sc(s(y["++"],s($,Jc,r.parks),s($,tu,r.campsites)))};case"Destroy":return{ctor:"_Tuple2",_0:e,_1:mc({ctor:"_Tuple0"})};case"DestroySuccess":return{ctor:"_Tuple2",_0:v.update(e,{text:I("Destroyed local database")}),_1:Ze};case"DestroyError":return{ctor:"_Tuple2",_0:v.update(e,{text:I("Error destroying local database")}),_1:Ze};case"Put":return"Ok"===n._0.ctor?{ctor:"_Tuple2",_0:v.update(e,{text:I("Added data")}),_1:Ze}:{ctor:"_Tuple2",_0:v.update(e,{text:I(s(y["++"],"Error: ",n._0._0.message))}),_1:Ze};default:var o=ou(e.campsites);if("Just"===o.ctor){var i=tu(ru(o._0));return{ctor:"_Tuple2",_0:e,_1:gc(s(Xe,"data",i))}}return{ctor:"_Tuple2",_0:e,_1:Ze}}}),hu={ctor:"LoadData"},pu=Re(f(Fi,L,L,L)),vu=s(Me,function(t){return I(t?ac:uc)},Ge),gu=s(Me,function(t){return v.eq(t,"hot")?I(cc):v.eq(t,"cold")?I(ic):v.eq(t,"no")?I(oc):L},Qe),mu=s(Me,function(t){return v.eq(t,"wood")?I(rc):v.eq(t,"wood_supplied")?I(nc):v.eq(t,"wood_bring_your_own")?I(ec):v.eq(t,"gas_electric")?I(tc):v.eq(t,"no")?I(Zi):L},Qe),yu=s(Me,function(t){return I(t?Yi:$i)},Ge),bu=s(Me,function(t){return v.eq(t,"non_flush")?I(Vi):v.eq(t,"flush")?I(Xi):v.eq(t,"no")?I(Qi):L},Qe),wu=_(je,Ui,s(Fe,"toilets",bu),s(Fe,"picnicTables",yu),s(Fe,"barbecues",mu),s(Fe,"showers",gu),s(Fe,"drinkingWater",vu)),ku=f(De,Ri,s(Fe,"latitude",ze),s(Fe,"longitude",ze)),Eu=f(dn,"_rev",He(Qe),f(dn,"parkId",Qe,f(dn,"access",pu,f(dn,"facilities",wu,f(dn,"location",He(ku),f(dn,"description",Qe,f(dn,"longName",Qe,f(dn,"shortName",Qe,f(dn,"_id",Qe,an(Pi)))))))))),Tu=f(dn,"_rev",He(Qe),f(dn,"campsiteIds",We(Qe),f(dn,"description",Qe,f(dn,"longName",Qe,f(dn,"shortName",Qe,f(dn,"_id",Qe,an(fc))))))),Su=function(t){return{ctor:"Campsite",_0:t}},xu=function(t){return{ctor:"Park",_0:t}},Au=function(t){var e=t;switch(e){case"campsite":return s(Me,Su,Eu);case"park":return s(Me,xu,Tu);default:return Oe("Unsupported type")}},qu=s(Ce,Au,s(Fe,"type",Qe)),Nu=function(t){var e=t;switch(e.ctor){case"CampsitesPage":return"#/campsites";case"CampsitePage":return s(y["++"],"#/campsites/",e._0);case"ParkPage":return s(y["++"],"#/parks/",e._0);case"AboutPage":return"#/about";case"AdminPage":return"#/admin";default:return"#/404"}},Cu=e(function(t,e){return I(s(_i,hi,Nu(e.page)))}),Ou=function(t){var e=t;switch(e.ctor){case"PermissionDenied":return s(y["++"],"Permission denied: ",e._0);case"LocationUnavailable":return s(y["++"],"Location unavailable: ",e._0);default:return s(y["++"],"Timeout: ",e._0)}},Ru=(e(function(t,e){return{version:t,standalone:e}}),function(t){return{ctor:"ToggleStarCampsite",_0:t}}),Bu=function(t){return{ctor:"Change",_0:t}},Lu=function(t){return{ctor:"AdminMsg",_0:t}},ju=e(function(t,e){var n=t;switch(n.ctor){case"UpdateLocation":if("Err"===n._0.ctor)return{ctor:"_Tuple2",_0:v.update(e,{errors:{ctor:"::",_0:Ou(n._0._0),_1:e.errors}}),_1:Ze};var r=n._0._0;return{ctor:"_Tuple2",_0:v.update(e,{location:I(s(Ri,r.latitude,r.longitude))}),_1:Ze};case"ChangePage":return{ctor:"_Tuple2",_0:v.update(e,{page:n._0}),_1:Ze};case"PageBack":return{ctor:"_Tuple2",_0:e,_1:qo(1)};case"AdminMsg":var o=s(_u,n._0,e.adminModel),i=o._0,c=o._1;return{ctor:"_Tuple2",_0:v.update(e,{adminModel:i}),_1:s(en,Lu,c)};case"Change":var u=s(Be,qu,n._0.doc),a=u;if("Ok"===a.ctor){if("Park"===a._0.ctor){var l=a._0._0;return{ctor:"_Tuple2",_0:v.update(e,{parks:f(ve,l.id,l,e.parks)}),_1:Ze}}var d=a._0._0,_=e.adminModel,h=f(ve,d.id,d,e.campsites);return{ctor:"_Tuple2",_0:v.update(e,{campsites:h,adminModel:v.update(_,{campsites:h})}),_1:Ze}}return{ctor:"_Tuple2",_0:e,_1:Ze};default:var p=n._0,g=s(G,p,e.starredCampsites)?s(Y,function(t){return!v.eq(t,p)},e.starredCampsites):{ctor:"::",_0:p,_1:e.starredCampsites};return{ctor:"_Tuple2",_0:v.update(e,{starredCampsites:g}),_1:Ze}}}),Iu={ctor:"PageBack"},Du=function(t){return{ctor:"ChangePage",_0:t}},Mu=function(t){var e=Si(qi(t.href));t:do{if("::"!==e.ctor)return{ctor:"::",_0:Du(vc),_1:{ctor:"[]"}};if("::"===e._1.ctor){if("[]"!==e._1._1.ctor)break t;switch(e._0){case"campsites":return{ctor:"::",_0:Du(pc(e._1._0)),_1:{ctor:"[]"}};case"parks":return{ctor:"::",_0:Du(hc(e._1._0)),_1:{ctor:"[]"}};default:break t}}else switch(e._0){case"campsites":return{ctor:"::",_0:Du(vc),_1:{ctor:"[]"}};case"about":return{ctor:"::",_0:Du(_c),_1:{ctor:"[]"}};case"admin":return{ctor:"::",_0:Du(dc),_1:{ctor:"[]"}};default:break t}}while(!1);return{ctor:"::",_0:Du(lc),_1:{ctor:"[]"}}},Pu=function(t){return{ctor:"UpdateLocation",_0:t}},Uu=function(t){return{ctor:"_Tuple2",_0:{campsites:Yt,parks:Yt,location:L,errors:{ctor:"[]"},page:vc,adminModel:sc,standalone:t.standalone,version:t.version,starredCampsites:{ctor:"[]"}},_1:s(qn,Pu,ur)}},Fu=e(function(t,e){return s(Rr,s(y["++"],{ctor:"::",_0:Fr(s(y["++"],"star star-",t?"on":"off")),_1:{ctor:"[]"}},function(){var t=e;return"Just"===t.ctor?{ctor:"::",_0:Kr(t._0),_1:{ctor:"[]"}}:{ctor:"[]"}}()),{ctor:"::",_0:s(jr,{ctor:"::",_0:Fr(s(y["++"],"glyphicon glyphicon-",t?"star":"star-empty")),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"[]"}})}),Ju=function(t){for(;;){var e=t;if("[]"===e.ctor)return{ctor:"[]"};var n=e._1,r=e._0;if("Just"===r.ctor)return{ctor:"::",_0:r._0,_1:Ju(n)};var o=n;t=o}},Wu=e(function(t,e){var n=f(M,Mi,t,e);return"Just"===n.ctor?n._0:""}),Hu=e(function(t,e){return s(Pt,t.parkId,e)}),zu=n(function(t,e,n){var r=f(M,Li,t,n.location),o=f(M,Li,t,e.location),i=o;if("Just"===i.ctor){var c=r;return"Just"===c.ctor?s(T,i._0,c._0):R}var u=r;return"Just"===u.ctor?O:s(T,e.shortName,n.shortName)}),Ku=e(function(t,e){return s(U,zu(t),e)}),Gu=n(function(t,e,n){return s(Br,{ctor:"::",_0:Wr(Nu(t)),_1:e},n)}),Qu=o(function(t,e,n,r,o){return f(Gu,pc(r.id),{ctor:"::",_0:Fr("list-group-item"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("campsite"),_1:{ctor:"[]"}},s(y["++"],{ctor:"::",_0:s(Fu,o,L),_1:{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("pull-right distance"),_1:{ctor:"[]"}},{ctor:"::",_0:xr(s(Wu,t,r.location)),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("name"),_1:{ctor:"[]"}},{ctor:"::",_0:xr(r.shortName),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}},n?{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("park"),_1:{ctor:"[]"}},{ctor:"::",_0:xr(s(B,"",s(D,function(t){return t.shortName},s(Hu,r,e)))),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}:{ctor:"[]"})),_1:{ctor:"[]"}})}),Xu=o(function(t,e,n,r,o){return s(Rr,{ctor:"::",_0:Fr("list-group"),_1:{ctor:"[]"}},s($,function(e){return d(Qu,t,n,r,e,s(G,e.id,o))},s(Ku,t,e)))}),Vu=f(Gu,_c,{ctor:"::",_0:Fr("btn navbar-link navbar-text pull-right"),_1:{ctor:"[]"}},{ctor:"::",_0:s(jr,{ctor:"::",_0:Fr("glyphicon glyphicon-info-sign"),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"[]"}}),$u=s(Dr,{ctor:"::",_0:Kr(Iu),_1:{ctor:"::",_0:Fr("btn btn-link navbar-link navbar-text pull-left"),_1:{ctor:"[]"}}},{ctor:"::",_0:s(jr,{ctor:"::",_0:Fr("glyphicon glyphicon-menu-left"),_1:{ctor:"[]"}},{ctor:"[]"}),_1:{ctor:"[]"}}),Yu=n(function(t,e,n){return s(qr,{ctor:"::",_0:Fr("navbar navbar-default navbar-fixed-top"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("container"),_1:{ctor:"[]"}},s(y["++"],e?{ctor:"::",_0:$u,_1:{ctor:"[]"}}:{ctor:"[]"},s(y["++"],n?{ctor:"::",_0:Vu,_1:{ctor:"[]"}}:{ctor:"[]"},{ctor:"::",_0:s(Nr,{ctor:"[]"},{ctor:"::",_0:xr(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}))),_1:{ctor:"[]"}})}),Zu=function(t){return s(Rr,{ctor:"::",_0:Fr("campsite-list"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Yu,"About",!0,!1),_1:{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("content"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("container"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr("About That's Camping"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr("Find campsites near you in New South Wales, Australia. It covers camping on public, common land such as National Parks, State Forests and Local Council land."),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr("It works "),_1:{ctor:"::",_0:s(Lr,{ctor:"[]"},{ctor:"::",_0:xr("completely offline"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:xr(", even when you're far far away from a mobile phone tower. When does that ever happen while camping?"),_1:{ctor:"[]"}}}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr("Made by "),_1:{ctor:"::",_0:s(Br,{ctor:"::",_0:Wr("https://twitter.com/matthewlandauer"),_1:{ctor:"[]"}},{ctor:"::",_0:xr("Matthew Landauer"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:xr(" based on an iOS app. It's free and "),_1:{ctor:"::",_0:s(Br,{ctor:"::",_0:Wr("https://github.com/mlandauer/thats-camping-elm"),_1:{ctor:"[]"}},{ctor:"::",_0:xr("open source"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:xr(" because that's the way it ought to be."),_1:{ctor:"[]"}}}}}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr("You're currently using version "),_1:{ctor:"::",_0:s(Br,{ctor:"::",_0:Wr(s(y["++"],"https://github.com/mlandauer/thats-camping-elm/commit/",t)),_1:{ctor:"[]"}},{ctor:"::",_0:xr(t),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr("Things you might want to do"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:s(Br,{ctor:"::",_0:Wr("https://github.com/mlandauer/thats-camping-elm/issues"),_1:{ctor:"[]"}},{ctor:"::",_0:xr("Suggest a "),_1:{ctor:"::",_0:s(Lr,{ctor:"[]"},{ctor:"::",_0:xr("feature"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:xr(" or report an "),_1:{ctor:"::",_0:s(Lr,{ctor:"[]"},{ctor:"::",_0:xr("issue"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}}}}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},ta=(o(function(t,e,n,r,o){return{campsites:t,parks:e,location:n,errors:r,starredCampsites:o}}),function(t){return s(Rr,{ctor:"[]"},s($,function(t){return s(Or,{ctor:"[]"},{ctor:"::",_0:xr(t),_1:{ctor:"[]"}})},t))}),ea=function(t){return s(Rr,{ctor:"::",_0:Fr("campsite-list"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Yu,"Camping near you",!1,!0),_1:{ctor:"::",_0:Q(t.campsites)?s(Rr,{ctor:"::",_0:Fr("centering-box"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr("Getting some wonderful campsites for you"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}):s(Rr,{ctor:"::",_0:Fr("content"),_1:{ctor:"[]"}},{ctor:"::",_0:ta(t.errors),_1:{ctor:"::",_0:d(Xu,t.location,t.campsites,t.parks,!0,t.starredCampsites),_1:{ctor:"[]"}}}),_1:{ctor:"[]"}}})},na=(n(function(t,e,n){return{campsite:t,park:e,starred:n}}),function(t){return s(rt,s(Ir,{ctor:"[]"},{ctor:"[]"}),s($,function(t){return xr(t)},s(qt,"\n",t)))}),ra=function(t){return l(zn,Vn,Qn("\r\n"),function(t){return"\n"},t)},oa=function(t){return s(Rr,{ctor:"[]"},s($,function(t){return s(Or,{ctor:"[]"},na(t))},s(qt,"\n\n",ra(t))))},ia=function(t){return tt(function(){var e=tt(t);return"[]"===e.ctor?{ctor:"[]"}:"[]"===e._1.ctor?{ctor:"::",_0:e._0,_1:{ctor:"[]"}}:s(y["++"],{ctor:"::",_0:e._0,_1:{ctor:"::",_0:" and ",_1:{ctor:"[]"}}},s(rt,", ",e._1))}())},ca=function(t){var n=t;return"[]"===n.ctor?L:I(f(H,e(function(t,e){return s(y["++"],t,e)}),"",ia(n)))},ua=n(function(t,e,n){var r=t;if("Just"===r.ctor){var o=r._0,i=n;return I("Just"===i.ctor?s(y["++"],o,s(y["++"]," ",s(y["++"],e,s(y["++"]," ",i._0)))):o)}var c=n;return"Just"===c.ctor?I(c._0):L}),aa=function(t){return s(y["++"],Tt(s(xt,1,t)),s(St,1,t))},sa=o(function(t,e,n,r,o){return s(D,function(t){return aa(s(y["++"],t,"."))},f(ua,s(D,function(e){return s(y["++"],t,s(y["++"]," ",e))},e),n,s(D,function(t){return s(y["++"],r,s(y["++"]," ",t))},o)))}),fa=r(function(t,e,n,r){var o=r;if("Just"===o.ctor){var i=o._0;return v.eq(e(i),t)?I(n(i)):L}return L}),la=function(t){return"car camping"},da=function(t){return"trailers"},_a=function(t){return"caravans"},ha=function(t){return"drinking water"},pa=function(t){var e=t;switch(e.ctor){case"HotShowers":return"hot showers";case"ColdShowers":return"cold showers";default:return"showers"}},va=function(t){var e=t;switch(e.ctor){case"WoodBarbecues":return"wood BBQs";case"WoodSuppliedBarbecues":return"wood BBQs";case"WoodBringYourOwnBarbecues":return"wood BBQs";case"GasElectricBarbecues":return"gas/electric BBQs";default:return"BBQs"}},ga=function(t){return"picnic tables"},ma=function(t){var e=t;switch(e.ctor){case"FlushToilets":return"flush toilets";case"NonFlushToilets":return"non-flush toilets";default:return"toilets"}},ya=function(t){var e=t;return"Cars"===e.ctor},ba=function(t){var e=t;return"Trailers"===e.ctor},wa=function(t){var e=t;return"Caravans"===e.ctor},ka=e(function(t,e){return Ju({ctor:"::",_0:l(fa,t,wa,_a,e.caravans),_1:{ctor:"::",_0:l(fa,t,ba,da,e.trailers),_1:{ctor:"::",_0:l(fa,t,ya,la,e.cars),_1:{ctor:"[]"}}}})}),Ea=function(t){var e=t;return"DrinkingWater"===e.ctor},Ta=function(t){var e=t;switch(e.ctor){case"HotShowers":return!0;case"ColdShowers":return!0;default:return!1}},Sa=function(t){var e=t;switch(e.ctor){case"WoodBarbecues":return!0;case"WoodSuppliedBarbecues":return!0;case"WoodBringYourOwnBarbecues":return!0;case"GasElectricBarbecues":return!0;default:return!1}},xa=function(t){var e=t;return"PicnicTables"===e.ctor},Aa=function(t){var e=t;switch(e.ctor){case"FlushToilets":return!0;case"NonFlushToilets":return!0;default:return!1}},qa=e(function(t,e){return Ju({ctor:"::",_0:l(fa,t,Aa,ma,e.toilets),_1:{ctor:"::",_0:l(fa,t,xa,ga,e.picnicTables),_1:{ctor:"::",_0:l(fa,t,Sa,va,e.barbecues),_1:{ctor:"::",_0:l(fa,t,Ta,pa,e.showers),_1:{ctor:"::",_0:l(fa,t,Ea,ha,e.drinkingWater),_1:{ctor:"[]"}}}}}})}),Na=function(t){var e=t;return"Just"!==e.ctor},Ca=function(t){return s(y["++"],"https://maps.google.com/maps?daddr=",s(y["++"],b(t.latitude),s(y["++"],",",b(t.longitude))))},Oa=function(t){return s(B,"",d(sa,"for",ca(s(ka,!0,t)),"but","not for",ca(s(ka,!1,t))))},Ra=function(t){return s(B,"",d(sa,"has",ca(s(qa,!0,t)),"but","no",ca(s(qa,!1,t))))},Ba=function(t){return s(Rr,{ctor:"::",_0:Fr("campsite-detail-page"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Yu,t.campsite.shortName,!0,!1),_1:{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("content"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("container"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("campsite-detail"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Fu,t.starred,I(Ru(t.campsite.id))),_1:{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr(t.campsite.longName),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},function(){var e=t.park;if("Just"===e.ctor){var n=e._0;return{ctor:"::",_0:xr("in "),_1:{ctor:"::",_0:f(Gu,hc(n.id),{ctor:"[]"},{ctor:"::",_0:xr(n.longName),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:xr("."),_1:{ctor:"[]"}}}}}return{ctor:"[]"}}()),_1:{ctor:"::",_0:oa(t.campsite.description),_1:{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr("Facilities"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr(Ra(t.campsite.facilities)),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr("Access"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr(Oa(t.campsite.access)),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Br,s(y["++"],{ctor:"::",_0:Wr(s(B,"#",s(D,Ca,t.campsite.location))),_1:{ctor:"::",_0:Fr("directions btn btn-default"),_1:{ctor:"[]"}}},Na(t.campsite.location)?{ctor:"::",_0:s(Mr,"disabled","disabled"),_1:{ctor:"[]"}}:{ctor:"[]"}),{ctor:"::",_0:xr("Directions to campsite"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}}}}}}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})},La=(o(function(t,e,n,r,o){return{park:t,campsites:e,parks:n,location:r,starredCampsites:o}}),function(t){return s(Rr,{ctor:"::",_0:Fr("park-detail-page"),_1:{ctor:"[]"}},{ctor:"::",_0:f(Yu,t.park.shortName,!0,!1),_1:{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("content"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("park-details"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("container"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr(t.park.longName),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:oa(t.park.description),_1:{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("park-campsite-list"),_1:{ctor:"[]"}},{ctor:"::",_0:d(Xu,t.location,t.campsites,t.parks,!1,t.starredCampsites),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}})}),ja=function(t){return s(Rr,{ctor:"::",_0:Fr("content"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("container"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Cr,{ctor:"[]"},{ctor:"::",_0:xr("Database admin page"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr("Here you can do actions on the local PouchDB database"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Rr,{ctor:"::",_0:Fr("btn-group-vertical"),_1:{ctor:"[]"}},{ctor:"::",_0:s(Dr,{ctor:"::",_0:Fr("btn btn-default"),_1:{ctor:"::",_0:Kr(au),_1:{ctor:"[]"}}},{ctor:"::",_0:xr("Destroy local database"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Dr,{ctor:"::",_0:Fr("btn btn-default"),_1:{ctor:"::",_0:Kr(hu),_1:{ctor:"[]"}}},{ctor:"::",_0:xr("Load local database campsite data from Github"),_1:{ctor:"[]"}}),_1:{ctor:"::",_0:s(Dr,{ctor:"::",_0:Fr("btn btn-default"),_1:{ctor:"::",_0:Kr(iu),_1:{ctor:"[]"}}},{ctor:"::",_0:xr(s(y["++"],s(B,!1,s(D,nu,ou(t.campsites)))?"Reset":"Change"," name of Lane Cover River campsite")),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr("Or you can go "),_1:{ctor:"::",_0:f(Gu,vc,{ctor:"[]"},{ctor:"::",_0:xr("back to the main campsites list"),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}),_1:{ctor:"::",_0:s(Or,{ctor:"[]"},{ctor:"::",_0:xr(s(B,"",t.text)),_1:{ctor:"[]"}}),_1:{ctor:"[]"}}}}}}),_1:{ctor:"[]"}})},Ia=s(Or,{ctor:"[]"},{ctor:"::",_0:xr("This is a 404"),_1:{ctor:"[]"}}),Da=e(function(t,e){return Ju(s($,function(t){return s(Pt,t,e)},t.campsiteIds))}),Ma=function(t){return s(Rr,{ctor:"::",_0:Jr("app"),_1:{ctor:"::",_0:Fr(t.standalone?"fullscreen":""),_1:{ctor:"[]"}}},{ctor:"::",_0:function(){var e=t.page;switch(e.ctor){case"CampsitesPage":return ea({campsites:Rt(t.campsites),parks:t.parks,location:t.location,errors:t.errors,starredCampsites:t.starredCampsites});case"CampsitePage":var n=e._0,r=s(Pt,n,t.campsites);if("Just"===r.ctor){var o=r._0;return Ba({campsite:o,park:s(Pt,o.parkId,t.parks),starred:s(G,n,t.starredCampsites)})}return Ia;case"ParkPage":var i=s(Pt,e._0,t.parks);if("Just"===i.ctor){var c=i._0;return La({park:c,campsites:s(Da,c,t.campsites),parks:t.parks,location:t.location,starredCampsites:t.starredCampsites})}return Ia;case"AboutPage":return Zu(t.version);case"AdminPage":return s(Sr,Lu,ja(t.adminModel));default:return Ia}}(),_1:{ctor:"[]"}})},Pa=function(t){return nn({ctor:"::",_0:Tc(Bu),_1:{ctor:"::",_0:s(on,Lu,fu(t.adminModel)),_1:{ctor:"[]"}}})},Ua=Ei({delta2url:Cu,location2messages:Mu,init:Uu,view:Ma,update:ju,subscriptions:Pa})(s(Ce,function(t){return s(Ce,function(e){return Re({standalone:t,version:e})},s(Fe,"version",Qe))},s(Fe,"standalone",Ge))),Fa={};if(Fa.App=Fa.App||{},"undefined"!=typeof Ua&&Ua(Fa.App,"App",void 0),"function"==typeof define&&define.amd)return void define([],function(){return Fa});if("object"==typeof t)return void(t.exports=Fa);var Ja=this.Elm;if("undefined"==typeof Ja)return void(this.Elm=Fa);for(var Wa in Fa){if(Wa in Ja)throw new Error("There are two Elm modules called `"+Wa+"` on this page! Rename one of them.");Ja[Wa]=Fa[Wa]}}).call(this)},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function o(t){return"number"==typeof t}function i(t){return"object"==typeof t&&null!==t}function c(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!o(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,o,u,a,s;if(this._events||(this._events={}),"error"===t&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(n=this._events[t],c(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(i(n))for(u=Array.prototype.slice.call(arguments,1),s=n.slice(),o=s.length,a=0;a<o;a++)s[a].apply(this,u);return!0},n.prototype.addListener=function(t,e){var o;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?i(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,i(this._events[t])&&!this._events[t].warned&&(o=c(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[t].length>o&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),o||(o=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var o=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,o,c,u;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],c=n.length,o=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(i(n)){for(u=c;u-- >0;)if(n[u]===e||n[u].listener&&n[u].listener===e){o=u;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[];
},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e){},function(t,e){},function(t,e,n){t.exports=n.p+"apple-touch-icon.png"},function(t,e,n){t.exports=n.p+"index.html"},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){"use strict";function r(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,t!==r&&a(this,t)}function i(t,e,n){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function c(t,e,n){h(function(){var r;try{r=e(n)}catch(e){return p.reject(t,e)}r===t?p.reject(t,new TypeError("Cannot resolve promise with itself")):p.resolve(t,r)})}function u(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function a(t,e){function n(e){i||(i=!0,p.reject(t,e))}function r(e){i||(i=!0,p.resolve(t,e))}function o(){e(r,n)}var i=!1,c=s(o);"error"===c.status&&n(c.value)}function s(t,e){var n={};try{n.value=t(e),n.status="success"}catch(t){n.status="error",n.value=t}return n}function f(t){return t instanceof this?t:p.resolve(new this(r),t)}function l(t){var e=new this(r);return p.reject(e,t)}function d(t){function e(t,e){function r(t){c[e]=t,++u!==o||i||(i=!0,p.resolve(s,c))}n.resolve(t).then(r,function(t){i||(i=!0,p.reject(s,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var c=new Array(o),u=0,a=-1,s=new this(r);++a<o;)e(t[a],a);return s}function _(t){function e(t){n.resolve(t).then(function(t){i||(i=!0,p.resolve(u,t))},function(t){i||(i=!0,p.reject(u,t))})}var n=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var o=t.length,i=!1;if(!o)return this.resolve([]);for(var c=-1,u=new this(r);++c<o;)e(t[c]);return u}var h=n(0),p={},v=["REJECTED"],g=["FULFILLED"],m=["PENDING"];t.exports=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===g||"function"!=typeof e&&this.state===v)return this;var n=new this.constructor(r);if(this.state!==m){var o=this.state===g?t:e;c(n,o,this.outcome)}else this.queue.push(new i(n,t,e));return n},i.prototype.callFulfilled=function(t){p.resolve(this.promise,t)},i.prototype.otherCallFulfilled=function(t){c(this.promise,this.onFulfilled,t)},i.prototype.callRejected=function(t){p.reject(this.promise,t)},i.prototype.otherCallRejected=function(t){c(this.promise,this.onRejected,t)},p.resolve=function(t,e){var n=s(u,e);if("error"===n.status)return p.reject(t,n.value);var r=n.value;if(r)a(t,r);else{t.state=g,t.outcome=e;for(var o=-1,i=t.queue.length;++o<i;)t.queue[o].callFulfilled(e)}return t},p.reject=function(t,e){t.state=v,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t},o.resolve=f,o.reject=l,o.all=d,o.race=_},function(t,e,n){"use strict";(function(e){function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function o(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!=typeof Blob&&t instanceof Blob}function i(t){if("function"==typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}function c(t){if(t instanceof ArrayBuffer)return i(t);var e=t.size,n=t.type;return"function"==typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}function u(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&no.call(n)==ro}function a(t){var e,n,r;if(!t||"object"!=typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=a(t[n]);return e}if(t instanceof Date)return t.toISOString();if(o(t))return c(t);if(!u(t))return t;e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=a(t[n]);"undefined"!=typeof i&&(e[n]=i)}return e}function s(t){var e=!1;return Gr(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function f(t){return Gr(function(e){e=a(e);var n=this,r="function"==typeof e[e.length-1]&&e.pop(),o=new eo(function(r,o){var i;try{var c=s(function(t,e){t?o(t):r(e)});e.push(c),i=t.apply(n,e),i&&"function"==typeof i.then&&r(i)}catch(t){o(t)}});return r&&o.then(function(t){r(null,t)},r),o})}function l(t,e){function n(t,e,n){if(oo.enabled){for(var r=[t.name,e],o=0;o<n.length-1;o++)r.push(n[o]);oo.apply(null,r);var i=n[n.length-1];n[n.length-1]=function(n,r){var o=[t.name,e];o=o.concat(n?["error",n]:["success",r]),oo.apply(null,o),i(n,r)}}}return f(Gr(function(r){if(this._closed)return eo.reject(new Error("database is closed"));if(this._destroyed)return eo.reject(new Error("database is destroyed"));var o=this;return n(o,t,r),this.taskqueue.isReady?e.apply(this,r):new eo(function(e,n){o.taskqueue.addTask(function(i){i?n(i):e(o[t].apply(o,r))})})}))}function d(t,e){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];i in t&&(n[i]=t[i])}return n}function _(t){return"$"+t}function h(t){return t.substring(1)}function p(){this._store={}}function v(t){if(this._store=new p,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}function g(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}function m(t){return t}function y(t){return[{ok:t}]}function b(t,e,n){function r(){var t=[];_.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t})}function o(){++l===f&&r()}function i(t,e,n){_[t]={id:e,docs:n},o()}function c(){if(!(p>=h.length)){var t=Math.min(p+ao,h.length),e=h.slice(p,t);u(e,p),p+=e.length}}function u(n,r){n.forEach(function(n,o){var u=r+o,a=s.get(n),f=d(a[0],["atts_since","attachments"]);f.open_revs=a.map(function(t){return t.rev}),f.open_revs=f.open_revs.filter(m);var l=m;0===f.open_revs.length&&(delete f.open_revs,l=y),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(f[t]=e[t])}),t.get(n,f,function(t,e){var r;r=t?[{error:t}]:l(e),i(u,n,r),c()})})}var a=e.docs,s=new co;a.forEach(function(t){s.has(t.id)?s.get(t.id).push(t):s.set(t.id,[t])});var f=s.size,l=0,_=new Array(f),h=[];s.forEach(function(t,e){h.push(e)});var p=0;c()}function w(){return"undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage&&"undefined"!=typeof chrome.storage.local}function k(){return uo}function E(t){w()?chrome.storage.onChanged.addListener(function(e){null!=e.db_name&&t.emit(e.dbName.newValue)}):k()&&("undefined"!=typeof addEventListener?addEventListener("storage",function(e){t.emit(e.key)}):window.attachEvent("storage",function(e){t.emit(e.key)}))}function T(){Xr.EventEmitter.call(this),this._listeners={},E(this)}function S(t){if("undefined"!==console&&t in console){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function x(t,e){var n=6e5;t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>n&&(t=n>>1,e=n);var r=Math.random(),o=e-t;return~~(o*r+t)}function A(t){var e=0;return t||(e=2e3),x(t,e)}function q(t,e){S("info","The above "+t+" is totally normal. "+e)}function N(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}function C(t,e){function n(e){for(var n in t)"function"!=typeof t[n]&&(this[n]=t[n]);void 0!==e&&(this.reason=e)}return n.prototype=N.prototype,new n(e)}function O(t){if("object"!=typeof t){var e=t;t=yo,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function R(t,e,n){try{return!t(e,n)}catch(t){var r="Filter function threw: "+t.toString();return C(Eo,r)}}function B(t){var e={},n=t.filter&&"function"==typeof t.filter;return e.query=t.query_params,function(r){r.doc||(r.doc={});var o=n&&R(t.filter,r.doc,e);if("object"==typeof o)return o;if(o)return!1;if(t.include_docs){if(!t.attachments)for(var i in r.doc._attachments)r.doc._attachments.hasOwnProperty(i)&&(r.doc._attachments[i].stub=!0)}else delete r.doc;return!0}}function L(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function j(){}function I(t){var e;if(t?"string"!=typeof t?e=C(vo):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=C(mo)):e=C(go),e)throw e}function D(t,e){return"listenerCount"in t?t.listenerCount(e):Xr.EventEmitter.listenerCount(t,e)}function M(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function P(t){var e=M(t);return e?e.join("/"):null}function U(t){for(var e=Bo.exec(t),n={},r=14;r--;){var o=Co[r],i=e[r]||"",c=["user","password"].indexOf(o)!==-1;n[o]=c?decodeURIComponent(i):i}return n[Oo]={},n[Co[12]].replace(Ro,function(t,e,r){e&&(n[Oo][e]=r)}),n}function F(t,e,n){return new eo(function(r,o){t.get(e,function(i,c){if(i){if(404!==i.status)return o(i);c={}}var u=c._rev,a=n(c);return a?(a._id=e,a._rev=u,void r(J(t,a,n))):r({updated:!1,rev:u})})})}function J(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(r){if(409!==r.status)throw r;return F(t,e._id,n)})}function W(t){return 0|Math.random()*t}function H(t,e){e=e||Lo.length;var n="",r=-1;if(t){for(;++r<t;)n+=Lo[W(e)];return n}for(;++r<36;)switch(r){case 8:case 13:case 18:case 23:n+="-";break;case 19:n+=Lo[3&W(16)|8];break;default:n+=Lo[W(16)]}return n}function z(t){for(var e,n,r,o,i=t.rev_tree.slice();o=i.pop();){var c=o.ids,u=c[2],a=o.pos;if(u.length)for(var s=0,f=u.length;s<f;s++)i.push({pos:a+1,ids:u[s]});else{var l=!!c[1].deleted,d=c[0];e&&!(r!==l?r:n!==a?n<a:e<d)||(e=d,n=a,r=l)}}return n+"-"+e}function K(t,e){for(var n,r=t.slice();n=r.pop();)for(var o=n.pos,i=n.ids,c=i[2],u=e(0===c.length,o,i[0],n.ctx,i[1]),a=0,s=c.length;a<s;a++)r.push({pos:o+1,ids:c[a],ctx:u})}function G(t,e){return t.pos-e.pos}function Q(t){var e=[];K(t,function(t,n,r,o,i){t&&e.push({rev:n+"-"+r,pos:n,opts:i})}),e.sort(G).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function X(t){for(var e=z(t),n=Q(t.rev_tree),r=[],o=0,i=n.length;o<i;o++){var c=n[o];c.rev===e||c.opts.deleted||r.push(c.rev)}return r}function V(t){var e=[];return K(t.rev_tree,function(t,n,r,o,i){"available"!==i.status||t||(e.push(n+"-"+r),i.status="missing")}),e}function $(t){for(var e,n=[],r=t.slice();e=r.pop();){var o=e.pos,i=e.ids,c=i[0],u=i[1],a=i[2],s=0===a.length,f=e.history?e.history.slice():[];f.push({id:c,opts:u}),s&&n.push({pos:o+1-f.length,ids:f});for(var l=0,d=a.length;l<d;l++)r.push({pos:o+1,ids:a[l],history:f})}return n.reverse()}function Y(t,e){return t.pos-e.pos}function Z(t,e,n){for(var r,o=0,i=t.length;o<i;)r=o+i>>>1,n(t[r],e)<0?o=r+1:i=r;return o}function tt(t,e,n){var r=Z(t,e,n);t.splice(r,0,e)}function et(t,e){for(var n,r,o=e,i=t.length;o<i;o++){var c=t[o],u=[c.id,c.opts,[]];r?(r[2].push(u),r=u):n=r=u}return n}function nt(t,e){return t[0]<e[0]?-1:1}function rt(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var o=n.pop(),i=o.tree1,c=o.tree2;(i[1].status||c[1].status)&&(i[1].status="available"===i[1].status||"available"===c[1].status?"available":"missing");for(var u=0;u<c[2].length;u++)if(i[2][0]){for(var a=!1,s=0;s<i[2].length;s++)i[2][s][0]===c[2][u][0]&&(n.push({tree1:i[2][s],tree2:c[2][u]}),a=!0);a||(r="new_branch",tt(i[2],c[2][u],nt))}else r="new_leaf",i[2][0]=c[2][u]}return{conflicts:r,tree:t}}function ot(t,e,n){var r,o=[],i=!1,c=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var u=0,a=t.length;u<a;u++){var s=t[u];if(s.pos===e.pos&&s.ids[0]===e.ids[0])r=rt(s.ids,e.ids),o.push({pos:s.pos,ids:r.tree}),i=i||r.conflicts,c=!0;else if(n!==!0){var f=s.pos<e.pos?s:e,l=s.pos<e.pos?e:s,d=l.pos-f.pos,_=[],h=[];for(h.push({ids:f.ids,diff:d,parent:null,parentIdx:null});h.length>0;){var p=h.pop();if(0!==p.diff)for(var v=p.ids[2],g=0,m=v.length;g<m;g++)h.push({ids:v[g],diff:p.diff-1,parent:p.ids,parentIdx:g});else p.ids[0]===l.ids[0]&&_.push(p)}var y=_[0];y?(r=rt(y.ids,l.ids),y.parent[2][y.parentIdx]=r.tree,o.push({pos:f.pos,ids:f.ids}),i=i||r.conflicts,c=!0):o.push(s)}else o.push(s)}return c||o.push(e),o.sort(Y),{tree:o,conflicts:i||"internal_node"}}function it(t,e){for(var n,r=$(t),o={},i=0,c=r.length;i<c;i++){for(var u=r[i],a=u.ids,s=Math.max(0,a.length-e),f={pos:u.pos+s,ids:et(a,s)},l=0;l<s;l++){var d=u.pos+l+"-"+a[l].id;o[d]=!0}n=n?ot(n,f,!0).tree:[f]}return K(n,function(t,e,n){delete o[e+"-"+n]}),{tree:n,revs:Object.keys(o)}}function ct(t,e,n){var r=ot(t,e),o=it(r.tree,n);return{tree:o.tree,stemmedRevs:o.revs,conflicts:r.conflicts}}function ut(t,e){for(var n,r=t.slice(),o=e.split("-"),i=parseInt(o[0],10),c=o[1];n=r.pop();){if(n.pos===i&&n.ids[0]===c)return!0;for(var u=n.ids[2],a=0,s=u.length;a<s;a++)r.push({pos:n.pos+1,ids:u[a]})}return!1}function at(t){return t.ids}function st(t,e){e||(e=z(t));for(var n,r=e.substring(e.indexOf("-")+1),o=t.rev_tree.map(at);n=o.pop();){if(n[0]===r)return!!n[1].deleted;o=o.concat(n[2])}}function ft(t){return/^_local/.test(t)}function lt(t,e){for(var n,r=e.rev_tree.slice();n=r.pop();){var o=n.pos,i=n.ids,c=i[0],u=i[1],a=i[2],s=0===a.length,f=n.history?n.history.slice():[];if(f.push({id:c,pos:o,opts:u}),s)for(var l=0,d=f.length;l<d;l++){var _=f[l],h=_.pos+"-"+_.id;if(h===t)return o+"-"+c}for(var p=0,v=a.length;p<v;p++)r.push({pos:o+1,ids:a[p],history:f})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}function dt(t){return Yr('"use strict";\nreturn '+t+";",{})}function _t(t){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Yr(e,{})}function ht(t,e){try{t.emit("change",e)}catch(t){S("error",'Error in .on("change", function):',t)}}function pt(t,e,n){function r(){o.cancel()}Xr.EventEmitter.call(this);var o=this;this.db=t,e=e?a(e):{};var i=e.complete=s(function(e,n){e?D(o,"error")>0&&o.emit("error",e):o.emit("complete",n),o.removeAllListeners(),t.removeListener("destroyed",r)});n&&(o.on("complete",function(t){n(null,t)}),o.on("error",n)),t.once("destroyed",r),e.onChange=function(t){o.isCancelled||ht(o,t)};var c=new eo(function(t,n){e.complete=function(e,r){e?n(e):t(r)}});o.once("cancel",function(){t.removeListener("destroyed",r),e.complete(null,{status:"cancelled"})}),this.then=c.then.bind(c),this.catch=c.catch.bind(c),this.then(function(t){i(null,t)},i),t.taskqueue.isReady?o.doChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):o.isCancelled?o.emit("cancel"):o.doChanges(e)})}function vt(t,e,n){var r=[{rev:t._rev}];"all_docs"===n.style&&(r=Q(e.rev_tree).map(function(t){return{rev:t.rev}}));var o={id:e.id,changes:r,doc:t};return st(e,t._rev)&&(o.deleted=!0),n.conflicts&&(o.doc._conflicts=X(e),o.doc._conflicts.length||delete o.doc._conflicts),o}function gt(t,e){return t<e?-1:t>e?1:0}function mt(t){return function(e,n){e||n[0]&&n[0].error?t(e||n[0]):t(null,n.length?n[0]:n)}}function yt(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),o=0;o<r.length;o++){var i=r[o];n._attachments[i]=d(n._attachments[i],["data","digest","content_type","length","revpos","stub"])}}}function bt(t,e){var n=gt(t._id,e._id);if(0!==n)return n;var r=t._revisions?t._revisions.start:0,o=e._revisions?e._revisions.start:0;return gt(r,o)}function wt(t){var e={},n=[];return K(t,function(t,r,o,i){var c=r+"-"+o;return t&&(e[c]=0),void 0!==i&&n.push({from:i,to:c}),c}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function kt(t,e,n){var r="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;if(e.descending&&r.reverse(),!r.length)return t._allDocs({limit:0},n);var o={offset:e.skip};return eo.all(r.map(function(n){var r=fo({key:n,deleted:"ok"},e);return["limit","skip","keys"].forEach(function(t){delete r[t]}),new eo(function(e,i){t._allDocs(r,function(t,r){return t?i(t):(o.total_rows=r.total_rows,void e(r.rows[0]||{key:n,error:"not_found"}))})})})).then(function(t){return o.rows=t,o})}function Et(t){var e=t._compactionQueue[0],n=e.opts,r=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(n.last_seq=e.last_seq),t._compact(n,function(e,n){e?r(e):r(null,n),$r(function(){t._compactionQueue.shift(),t._compactionQueue.length&&Et(t)})})})}function Tt(t){return"_"===t.charAt(0)&&t+"is not a valid attachment name, attachment names cannot start with '_'"}function St(){Xr.EventEmitter.call(this)}function xt(){this.isReady=!1,this.failed=!1,this.queue=[]}function At(t,e){var n=t.match(/([a-z\-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=Nt.adapters,o=Nt.preferredAdapters,i=Nt.prefix,c=e.adapter;if(!c)for(var u=0;u<o.length;++u){c=o[u];{if(!("idb"===c&&"websql"in r&&k()&&localStorage["_pouch__websqldb_"+i+t]))break;S("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}}var a=r[c],s=!(a&&"use_prefix"in a)||a.use_prefix;return{name:s?i+t:t,adapter:c}}function qt(t){function e(){t.removeListener("closed",r),t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.removeListener("closed",r),t.emit("destroyed")}function r(){t.removeListener("destroyed",e),o.delete(t.name)}var o=t.constructor._destructionListeners;t.once("destroyed",e),t.once("closed",r),o.has(t.name)||o.set(t.name,[]),o.get(t.name).push(n)}function Nt(t,e){if(!(this instanceof Nt))return new Nt(t,e);var n=this;if(e=e||{},t&&"object"==typeof t&&(e=t,t=e.name,delete e.name),this.__opts=e=a(e),n.auto_compaction=e.auto_compaction,n.prefix=Nt.prefix,"string"!=typeof t)throw new Error("Missing/invalid DB name");var r=(e.prefix||"")+t,o=At(r,e);if(e.name=o.name,e.adapter=e.adapter||o.adapter,n.name=t,n._adapter=e.adapter,Qr("pouchdb:adapter")("Picked adapter: "+e.adapter),!Nt.adapters[e.adapter]||!Nt.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);St.call(n),n.taskqueue=new xt,n.adapter=e.adapter,Nt.adapters[e.adapter].call(n,e,function(t){return t?n.taskqueue.fail(t):(qt(n),n.emit("created",n),Nt.emit("created",n.name),void n.taskqueue.ready(n))})}function Ct(t){Object.keys(Xr.EventEmitter.prototype).forEach(function(e){"function"==typeof Xr.EventEmitter.prototype[e]&&(t[e]=jo[e].bind(jo))});var e=t._destructionListeners=new co;t.on("destroyed",function(t){e.get(t).forEach(function(t){t()}),e.delete(t)})}function Ot(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}function Rt(t){if(!/^\d+\-./.test(t))return C(Ao);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function Bt(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,o=[r[0],e,[]],i=1,c=r.length;i<c;i++)o=[r[i],{status:"missing"},[o]];return[{pos:n,ids:o}]}function Lt(t,e){var n,r,o,i={status:"available"};if(t._deleted&&(i.deleted=!0),e)if(t._id||(t._id=H()),r=H(32,16).toLowerCase(),t._rev){if(o=Rt(t._rev),o.error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,i,[]]]]}],n=o.prefix+1}else t._rev_tree=[{pos:1,ids:[r,i,[]]}],n=1;else if(t._revisions&&(t._rev_tree=Bt(t._revisions,i),n=t._revisions.start,r=t._revisions.ids[0]),!t._rev_tree){if(o=Rt(t._rev),o.error)return o;n=o.prefix,r=o.id,t._rev_tree=[{pos:n,ids:[r,i,[]]}]}I(t._id),t._rev=n+"-"+r;var c={metadata:{},data:{}};for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var a="_"===u[0];if(a&&!Mo[u]){var s=C(ko,u);throw s.message=ko.message+": "+u,s}a&&!Po[u]?c.metadata[u.slice(1)]=t[u]:c.data[u]=t[u]}return c}function jt(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(i){if("TypeError"!==i.name)throw i;for(var n="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,r=new n,o=0;o<t.length;o+=1)r.append(t[o]);return r.getBlob(e.type)}}function It(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),o=0;o<e;o++)r[o]=t.charCodeAt(o);return n}function Dt(t,e){return jt([It(t)],{type:e})}function Mt(t,e){return Dt(Uo(t),e)}function Pt(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,o=0;o<r;o++)e+=String.fromCharCode(n[o]);return e}function Ut(t,e){if("undefined"==typeof FileReader)return e(Pt((new FileReaderSync).readAsArrayBuffer(t)));var n=new FileReader,r="function"==typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";return r?e(n):void e(Pt(n))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function Ft(t,e){Ut(t,function(t){e(t)})}function Jt(t,e){Ft(t,function(t){e(Fo(t))})}function Wt(t,e){if("undefined"==typeof FileReader)return e((new FileReaderSync).readAsArrayBuffer(t));var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}function Ht(t){return Fo(t)}function zt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function Kt(t,e,n,r,o){(n>0||r<e.size)&&(e=zt(e,n,r)),Wt(e,function(e){t.append(e),o()})}function Gt(t,e,n,r,o){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),o()}function Qt(t,e){function n(){Jo(o)}function r(){var t=f.end(!0),n=Ht(t);e(n),f.destroy()}function o(){var e=s*u,o=e+u;s++,s<a?l(f,t,e,o,n):l(f,t,e,o,r)}var i="string"==typeof t,c=i?t.length:t.size,u=Math.min(Wo,c),a=Math.ceil(c/u),s=0,f=i?new Zr:new Zr.ArrayBuffer,l=i?Gt:Kt;o()}function Xt(t){return Zr.hash(t)}function Vt(t){try{return Uo(t)}catch(t){var e=C(bo,"Attachment is not a valid base64 string");return{error:e}}}function $t(t,e,n){var r=Vt(t.data);return r.error?n(r.error):(t.length=r.length,"blob"===e?t.data=Dt(r,t.content_type):"base64"===e?t.data=Fo(r):t.data=r,void Qt(r,function(e){t.digest="md5-"+e,n()}))}function Yt(t,e,n){Qt(t.data,function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,"binary"===e?Ft(t.data,function(e){t.data=e,n()}):"base64"===e?Jt(t.data,function(e){t.data=e,n()}):n()})}function Zt(t,e,n){return t.stub?n():void("string"==typeof t.data?$t(t,e,n):Yt(t,e,n))}function te(t,e,n){function r(){i++,t.length===i&&(o?n(o):n())}if(!t.length)return n();var o,i=0;t.forEach(function(t){function n(t){o=t,c++,c===i.length&&r()}var i=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],c=0;if(!i.length)return r();for(var u in t.data._attachments)t.data._attachments.hasOwnProperty(u)&&Zt(t.data._attachments[u],e,n)})}function ee(t,e,n,r,o,i,c,u){if(ut(e.rev_tree,n.metadata.rev))return r[o]=n,i();var a=e.winningRev||z(e),s="deleted"in e?e.deleted:st(e,a),f="deleted"in n.metadata?n.metadata.deleted:st(n.metadata),l=/^1-/.test(n.metadata.rev);if(s&&!f&&u&&l){var d=n.data;d._rev=a,d._id=n.metadata.id,n=Lt(d,u)}var _=ct(e.rev_tree,n.metadata.rev_tree[0],t),h=u&&(s&&f||!s&&"new_leaf"!==_.conflicts||s&&!f&&"new_branch"===_.conflicts);if(h){var p=C(po);return r[o]=p,i()}var v=n.metadata.rev;n.metadata.rev_tree=_.tree,n.stemmedRevs=_.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var g,m=z(n.metadata),y=st(n.metadata,m),b=s===y?0:s<y?-1:1;g=v===m?y:st(n.metadata,v),c(n,m,y,g,!0,b,o,i)}function ne(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function re(t,e,n,r,o,i,c,u,a){function s(t,e,n){var r=z(t.metadata),o=st(t.metadata,r);if("was_delete"in u&&o)return i[e]=C(ho,"deleted"),n();var a=l&&ne(t);if(a){var s=C(po);return i[e]=s,n()}var f=o?0:1;c(t,r,o,o,!1,f,e,n)}function f(){++_===h&&a&&a()}t=t||1e3;var l=u.new_edits,d=new co,_=0,h=e.length;e.forEach(function(t,e){if(t._id&&ft(t._id)){var r=t._deleted?"_removeLocal":"_putLocal";return void n[r](t,{ctx:o},function(t,n){i[e]=t||n,f()})}var c=t.metadata.id;d.has(c)?(h--,d.get(c).push([t,e])):d.set(c,[[t,e]])}),d.forEach(function(e,n){function o(){++a<e.length?u():f()}function u(){var u=e[a],f=u[0],d=u[1];if(r.has(n))ee(t,r.get(n),f,i,d,o,c,l);else{var _=ct([],f.metadata.rev_tree[0],t);f.metadata.rev_tree=_.tree,f.stemmedRevs=_.stemmedRevs||[],s(f,d,o)}}var a=0;u()})}function oe(t){try{return JSON.parse(t)}catch(e){return to.parse(t)}}function ie(t){try{return JSON.stringify(t)}catch(e){return to.stringify(t)}}function ce(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(C(So,n,e.type))}}function ue(t,e,n){return{data:ie(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function ae(t){if(!t)return null;var e=oe(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function se(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function fe(t,e,n,r){n?r(t?"string"!=typeof t?t:Mt(t,e):jt([""],{type:e})):t?"string"!=typeof t?Ut(t,function(t){r(Fo(t))}):r(t):r("")}function le(t,e,n,r){function o(){++u===c.length&&r&&r()}function i(t,e){var r=t._attachments[e],i=r.digest,c=n.objectStore(Go).get(i);c.onsuccess=function(t){r.body=t.target.result.body,o()}}var c=Object.keys(t._attachments||{});if(!c.length)return r&&r();var u=0;c.forEach(function(n){e.attachments&&e.include_docs?i(t,n):(t._attachments[n].stub=!0,o())})}function de(t,e){return eo.all(t.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return eo.all(n.map(function(n){var r=t.doc._attachments[n];if("body"in r){var o=r.body,i=r.content_type;return new eo(function(c){fe(o,i,e,function(e){t.doc._attachments[n]=fo(d(r,["digest","content_type"]),{data:e}),c()})})}}))}}))}function _e(t,e,n){function r(){s--,s||o()}function o(){i.length&&i.forEach(function(t){var e=a.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::",!1,!1));e.onsuccess=function(e){var n=e.target.result;n||u.delete(t)}})}var i=[],c=n.objectStore(Ko),u=n.objectStore(Go),a=n.objectStore(Qo),s=t.length;t.forEach(function(t){var n=c.index("_doc_id_rev"),o=e+"::"+t;n.getKey(o).onsuccess=function(t){var e=t.target.result;if("number"!=typeof e)return r();c.delete(e);var n=a.index("seq").openCursor(IDBKeyRange.only(e));n.onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];i.push(n),a.delete(e.primaryKey),e.continue()}else r()}}})}function he(t,e,n){try{return{txn:t.transaction(e,n)}}catch(t){return{error:t}}}function pe(t,e,n,r,o,i){function c(){var t=[zo,Ko,Go,Vo,Qo,Xo],e=he(o,t,"readwrite");return e.error?i(e.error):(y=e.txn,y.onabort=ce(i),y.ontimeout=ce(i),y.oncomplete=l,b=y.objectStore(zo),w=y.objectStore(Ko),k=y.objectStore(Go),E=y.objectStore(Qo),T=y.objectStore(Xo),T.get(Xo).onsuccess=function(t){x=t.target.result,s()},void _(function(t){return t?(I=!0,i(t)):void f()}))}function u(){R=!0,s()}function a(){re(t.revs_limit,A,r,j,y,L,h,n,u)}function s(){x&&R&&(x.docCount+=B,T.put(x))}function f(){function t(){++n===A.length&&a()}function e(e){var n=ae(e.target.result);n&&j.set(n.id,n),t()}if(A.length)for(var n=0,r=0,o=A.length;r<o;r++){var i=A[r];if(i._id&&ft(i._id))t();else{var c=b.get(i.metadata.id);c.onsuccess=e}}}function l(){I||(Yo.notify(r._meta.name),i(null,L))}function d(t,e){var n=k.get(t);n.onsuccess=function(n){if(n.target.result)e();else{var r=C(qo,"unknown stub attachment with digest "+t);r.status=412,e(r)}}}function _(t){function e(){++o===n.length&&t(r)}var n=[];if(A.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,o=0;n.forEach(function(t){d(t,function(t){t&&!r&&(r=t),e()})})}function h(t,e,n,r,o,i,c,u){t.metadata.winningRev=e,t.metadata.deleted=n;var a=t.data;a._id=t.metadata.id,a._rev=t.metadata.rev,r&&(a._deleted=!0);var f=a._attachments&&Object.keys(a._attachments).length;return f?v(t,e,n,o,c,u):(B+=i,s(),void p(t,e,n,o,c,u))}function p(t,e,n,o,i,c){function u(i){var c=t.stemmedRevs||[];o&&r.auto_compaction&&(c=c.concat(V(t.metadata))),c&&c.length&&_e(c,t.metadata.id,y),l.seq=i.target.result;var u=ue(l,e,n),a=b.put(u);a.onsuccess=s}function a(t){t.preventDefault(),t.stopPropagation();var e=w.index("_doc_id_rev"),n=e.getKey(f._doc_id_rev);n.onsuccess=function(t){var e=w.put(f,t.target.result);e.onsuccess=u}}function s(){L[i]={ok:!0,id:l.id,rev:l.rev},j.set(t.metadata.id,t.metadata),g(t,l.seq,c)}var f=t.data,l=t.metadata;f._doc_id_rev=l.id+"::"+l.rev,delete f._id,delete f._rev;var d=w.put(f);d.onsuccess=u,d.onerror=a}function v(t,e,n,r,o,i){function c(){s===f.length&&p(t,e,n,r,o,i)}function u(){s++,c()}var a=t.data,s=0,f=Object.keys(a._attachments);f.forEach(function(n){var r=t.data._attachments[n];if(r.stub)s++,c();else{var o=r.data;delete r.data,r.revpos=parseInt(e,10);var i=r.digest;m(i,o,u)}})}function g(t,e,n){function r(){++i===c.length&&n()}function o(n){var o=t.data._attachments[n].digest,i=E.put({seq:e,digestSeq:o+"::"+e});i.onsuccess=r,i.onerror=function(t){t.preventDefault(),t.stopPropagation(),r()}}var i=0,c=Object.keys(t.data._attachments||{});if(!c.length)return n();for(var u=0;u<c.length;u++)o(c[u])}function m(t,e,n){var r=k.count(t);r.onsuccess=function(r){var o=r.target.result;if(o)return n();var i={digest:t,body:e},c=k.put(i);c.onsuccess=n}}for(var y,b,w,k,E,T,S,x,A=e.docs,q=0,N=A.length;q<N;q++){var O=A[q];O._id&&ft(O._id)||(O=A[q]=Lt(O,n.new_edits),O.error&&!S&&(S=O))}if(S)return i(S);var R=!1,B=0,L=new Array(A.length),j=new co,I=!1,D=r._meta.blobSupport?"blob":"base64";te(A,D,function(t){return t?i(t):void c()})}function ve(t,e,n,r,o){function i(t){f=t.target.result,s&&o(s,f,l)}function c(t){s=t.target.result,f&&o(s,f,l)}function u(){if(!s.length)return o();var n,u=s[s.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(u,e.upper,!0,e.upperOpen)}catch(t){if("DataError"===t.name&&0===t.code)return o()}else n=IDBKeyRange.lowerBound(u,!0);e=n,s=null,f=null,t.getAll(e,r).onsuccess=i,t.getAllKeys(e,r).onsuccess=c}function a(t){var e=t.target.result;return e?void o([e.key],[e.value],e):o()}var s,f,l,d="function"==typeof t.getAll&&"function"==typeof t.getAllKeys&&r>1&&!n;d?(l={continue:u},t.getAll(e,r).onsuccess=i,t.getAllKeys(e,r).onsuccess=c):n?t.openCursor(e,"prev").onsuccess=a:t.openCursor(e).onsuccess=a}function ge(t,e,n){function r(t){var e=t.target.result;e?(o.push(e.value),e.continue()):n({target:{result:o}})}if("function"==typeof t.getAll)return void(t.getAll(e).onsuccess=n);var o=[];t.openCursor(e).onsuccess=r}function me(t,e,n,r,o){try{if(t&&e)return o?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return o?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return o?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(t){return{error:t}}return null}function ye(t,e,n){function r(e,n,r){var o=e.id+"::"+r;S.get(o).onsuccess=function(r){if(n.doc=se(r.target.result),t.conflicts){var o=X(e);o.length&&(n.doc._conflicts=o)}le(n.doc,t,b)}}function o(e,n){var o={id:n.id,key:n.id,value:{rev:e}},i=n.deleted;"ok"===t.deleted?(x.push(o),i?(o.value.deleted=!0,o.doc=null):t.include_docs&&r(n,o,e)):!i&&_--<=0&&(x.push(o),t.include_docs&&r(n,o,e))}function i(t){for(var e=0,n=t.length;e<n&&x.length!==h;e++){var r=t[e],i=ae(r),c=i.winningRev;o(c,i)}}function c(t,e,n){n&&(i(e),x.length<h&&n.continue())}function u(e){var n=e.target.result;t.descending&&(n=n.reverse()),i(n)}function a(){n(null,{total_rows:w,offset:t.skip,rows:x})}function s(){t.attachments?de(x,t.binary).then(a):a()}var f="startkey"in t&&t.startkey,l="endkey"in t&&t.endkey,d="key"in t&&t.key,_=t.skip||0,h="number"==typeof t.limit?t.limit:-1,p=t.inclusive_end!==!1,v=me(f,l,p,d,t.descending),g=v&&v.error;
if(g&&("DataError"!==g.name||0!==g.code))return n(C(So,g.name,g.message));var m=[zo,Ko,Xo];t.attachments&&m.push(Go);var y=he(e,m,"readonly");if(y.error)return n(y.error);var b=y.txn;b.oncomplete=s,b.onabort=ce(n);var w,k=b.objectStore(zo),E=b.objectStore(Ko),T=b.objectStore(Xo),S=E.index("_doc_id_rev"),x=[];return T.get(Xo).onsuccess=function(t){w=t.target.result.docCount},g||0===h?void 0:h===-1?ge(k,v,u):void ve(k,v,t.descending,h+_,c)}function be(t){return new eo(function(e){var n=jt([""]),r=t.objectStore($o).put(n,"key");r.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)},t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})}function we(t,e){var n=t.objectStore(zo).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}function ke(t,e,n,r){try{t(e,n)}catch(t){r.emit("error",t)}}function Ee(){!Zo&&ti.length&&(Zo=!0,ti.shift()())}function Te(t,e,n){ti.push(function(){t(function(t,r){ke(e,t,r,n),Zo=!1,$r(function(){Ee(n)})})}),Ee()}function Se(t,e,n,r){function o(e,n,r){function o(e,n){var r=t.processChange(n,e,t);d=r.seq=e.seq;var o=w(r);return"object"==typeof o?t.complete(o):void(o&&(b++,h&&y.push(r),t.attachments&&t.include_docs?le(n,t,p,function(){de([r],t.binary).then(function(){t.onChange(r)})}):t.onChange(r)))}function i(){for(var t=0,e=u.length;t<e&&b!==_;t++){var n=u[t];if(n){var i=a[t];o(i,n)}}b!==_&&r.continue()}if(r&&e.length){var u=new Array(e.length),a=new Array(e.length),s=0;n.forEach(function(t,n){var r=se(t),o=e[n];c(r,o,function(t,r){a[n]=t,u[n]=r,++s===e.length&&i()})})}}function i(t,e,n,r){if(n.seq!==e)return r();if(n.winningRev===t._rev)return r(n,t);var o=t._id+"::"+n.winningRev,i=m.get(o);i.onsuccess=function(t){r(n,se(t.target.result))}}function c(t,e,n){if(l&&!l.has(t._id))return n();var r=k.get(t._id);return r?i(t,e,r,n):void(g.get(t._id).onsuccess=function(o){r=ae(o.target.result),k.set(t._id,r),i(t,e,r,n)})}function u(){t.complete(null,{results:y,last_seq:d})}function s(){!t.continuous&&t.attachments?de(y).then(u):u()}if(t=a(t),t.continuous){var f=n+":"+H();return Yo.addListener(n,f,e,t),Yo.notify(n),{cancel:function(){Yo.removeListener(n,f)}}}var l=t.doc_ids&&new io(t.doc_ids);t.since=t.since||0;var d=t.since,_="limit"in t?t.limit:-1;0===_&&(_=1);var h;h="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var p,v,g,m,y=[],b=0,w=B(t),k=new co,E=[zo,Ko];t.attachments&&E.push(Go);var T=he(r,E,"readonly");if(T.error)return t.complete(T.error);p=T.txn,p.onabort=ce(t.complete),p.oncomplete=s,v=p.objectStore(Ko),g=p.objectStore(zo),m=v.index("_doc_id_rev");var S=t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null;ve(v,S,t.descending,_,o)}function xe(t,e){var n=this;Te(function(e){Ae(n,t,e)},e,n.constructor)}function Ae(t,e,n){function r(t){var e=t.createObjectStore(zo,{keyPath:"id"});t.createObjectStore(Ko,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(Go,{keyPath:"digest"}),t.createObjectStore(Xo,{keyPath:"id",autoIncrement:!1}),t.createObjectStore($o),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(Vo,{keyPath:"_id"});var n=t.createObjectStore(Qo,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function o(t,e){var n=t.objectStore(zo);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var r=t.target.result;if(r){var o=r.value,i=st(o);o.deletedOrLocal=i?"1":"0",n.put(o),r.continue()}else e()}}function i(t){t.createObjectStore(Vo,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(t,e){var n=t.objectStore(Vo),r=t.objectStore(zo),o=t.objectStore(Ko),i=r.openCursor();i.onsuccess=function(t){var i=t.target.result;if(i){var c=i.value,u=c.id,a=ft(u),s=z(c);if(a){var f=u+"::"+s,l=u+"::",d=u+"::~",_=o.index("_doc_id_rev"),h=IDBKeyRange.bound(l,d,!1,!1),p=_.openCursor(h);p.onsuccess=function(t){if(p=t.target.result){var e=p.value;e._doc_id_rev===f&&n.put(e),o.delete(p.primaryKey),p.continue()}else r.delete(i.primaryKey),i.continue()}}else i.continue()}else e&&e()}}function u(t){var e=t.createObjectStore(Qo,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function a(t,e){var n=t.objectStore(Ko),r=t.objectStore(Go),o=t.objectStore(Qo),i=r.count();i.onsuccess=function(t){var r=t.target.result;return r?void(n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var r=n.value,i=n.primaryKey,c=Object.keys(r._attachments||{}),u={},a=0;a<c.length;a++){var s=r._attachments[c[a]];u[s.digest]=!0}var f=Object.keys(u);for(a=0;a<f.length;a++){var l=f[a];o.put({seq:i,digestSeq:l+"::"+i})}n.continue()}):e()}}function s(t){function e(t){return t.data?ae(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(Ko),r=t.objectStore(zo),o=r.openCursor();o.onsuccess=function(t){function o(){var t=u.id+"::",e=u.id+"::",r=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),o=0;r.onsuccess=function(t){var e=t.target.result;if(!e)return u.seq=o,i();var n=e.primaryKey;n>o&&(o=n),e.continue()}}function i(){var t=ue(u,u.winningRev,u.deleted),e=r.put(t);e.onsuccess=function(){c.continue()}}var c=t.target.result;if(c){var u=e(c.value);return u.winningRev=u.winningRev||z(u),u.seq?i():void o()}}}var l=e.name,d=null;t._meta=null,t.type=function(){return"idb"},t._id=f(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(n,r,o){pe(e,n,r,t,d,o)},t._get=function(t,e,n){function r(){n(c,{doc:o,metadata:i,ctx:u})}var o,i,c,u=e.ctx;if(!u){var a=he(d,[zo,Ko,Go],"readonly");if(a.error)return n(a.error);u=a.txn}u.objectStore(zo).get(t).onsuccess=function(t){if(i=ae(t.target.result),!i)return c=C(ho,"missing"),r();var n;if(e.rev)n=e.latest?lt(e.rev,i):e.rev;else{n=i.winningRev;var a=st(i);if(a)return c=C(ho,"deleted"),r()}var s=u.objectStore(Ko),f=i.id+"::"+n;s.index("_doc_id_rev").get(f).onsuccess=function(t){return o=t.target.result,o&&(o=se(o)),o?void r():(c=C(ho,"missing"),r())}}},t._getAttachment=function(t,e,n,r,o){var i;if(r.ctx)i=r.ctx;else{var c=he(d,[zo,Ko,Go],"readonly");if(c.error)return o(c.error);i=c.txn}var u=n.digest,a=n.content_type;i.objectStore(Go).get(u).onsuccess=function(t){var e=t.target.result.body;fe(e,a,r.binary,function(t){o(null,t)})}},t._info=function(e){var n,r,o=he(d,[Xo,Ko],"readonly");if(o.error)return e(o.error);var i=o.txn;i.objectStore(Xo).get(Xo).onsuccess=function(t){r=t.target.result.docCount},i.objectStore(Ko).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},i.oncomplete=function(){e(null,{doc_count:r,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){ye(t,d,e)},t._changes=function(e){Se(e,t,l,d)},t._close=function(t){d.close(),ei.delete(l),t()},t._getRevisionTree=function(t,e){var n=he(d,[zo],"readonly");if(n.error)return e(n.error);var r=n.txn,o=r.objectStore(zo).get(t);o.onsuccess=function(t){var n=ae(t.target.result);n?e(null,n.rev_tree):e(C(ho))}},t._doCompaction=function(t,e,n){var r=[zo,Ko,Go,Qo],o=he(d,r,"readwrite");if(o.error)return n(o.error);var i=o.txn,c=i.objectStore(zo);c.get(t).onsuccess=function(n){var r=ae(n.target.result);K(r.rev_tree,function(t,n,r,o,i){var c=n+"-"+r;e.indexOf(c)!==-1&&(i.status="missing")}),_e(e,t,i);var o=r.winningRev,c=r.deleted;i.objectStore(zo).put(ue(r,o,c))},i.onabort=ce(n),i.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=he(d,[Vo],"readonly");if(n.error)return e(n.error);var r=n.txn,o=r.objectStore(Vo).get(t);o.onerror=ce(e),o.onsuccess=function(t){var n=t.target.result;n?(delete n._doc_id_rev,e(null,n)):e(C(ho))}},t._putLocal=function(t,e,n){"function"==typeof e&&(n=e,e={}),delete t._revisions;var r=t._rev,o=t._id;r?t._rev="0-"+(parseInt(r.split("-")[1],10)+1):t._rev="0-1";var i,c=e.ctx;if(!c){var u=he(d,[Vo],"readwrite");if(u.error)return n(u.error);c=u.txn,c.onerror=ce(n),c.oncomplete=function(){i&&n(null,i)}}var a,s=c.objectStore(Vo);r?(a=s.get(o),a.onsuccess=function(o){var c=o.target.result;if(c&&c._rev===r){var u=s.put(t);u.onsuccess=function(){i={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,i)}}else n(C(po))}):(a=s.add(t),a.onerror=function(t){n(C(po)),t.preventDefault(),t.stopPropagation()},a.onsuccess=function(){i={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,i)})},t._removeLocal=function(t,e,n){"function"==typeof e&&(n=e,e={});var r=e.ctx;if(!r){var o=he(d,[Vo],"readwrite");if(o.error)return n(o.error);r=o.txn,r.oncomplete=function(){i&&n(null,i)}}var i,c=t._id,u=r.objectStore(Vo),a=u.get(c);a.onerror=ce(n),a.onsuccess=function(r){var o=r.target.result;o&&o._rev===t._rev?(u.delete(c),i={ok:!0,id:c,rev:"0-0"},e.ctx&&n(null,i)):n(C(ho))}},t._destroy=function(t,e){Yo.removeAllListeners(l);var n=ni.get(l);n&&n.result&&(n.result.close(),ei.delete(l));var r=indexedDB.deleteDatabase(l);r.onsuccess=function(){ni.delete(l),k()&&l in localStorage&&delete localStorage[l],e(null,{ok:!0})},r.onerror=ce(e)};var _=ei.get(l);if(_)return d=_.idb,t._meta=_.global,$r(function(){n(null,t)});var h;h=e.storage?qe(l,e.storage):indexedDB.open(l,Ho),ni.set(l,h),h.onupgradeneeded=function(t){function e(){var t=l[d-1];d++,t&&t(f,e)}var n=t.target.result;if(t.oldVersion<1)return r(n);var f=t.currentTarget.transaction;t.oldVersion<3&&i(n),t.oldVersion<4&&u(n);var l=[o,c,a,s],d=t.oldVersion;e()},h.onsuccess=function(e){function r(){"undefined"!=typeof u&&f&&(t._meta={name:l,instanceId:a,blobSupport:u},ei.set(l,{idb:d,global:t._meta}),n(null,t))}function o(){if("undefined"!=typeof c&&"undefined"!=typeof i){var t=l+"_id";t in i?a=i[t]:i[t]=a=H(),i.docCount=c,s.objectStore(Xo).put(i)}}d=e.target.result,d.onversionchange=function(){d.close(),ei.delete(l)},d.onabort=function(t){S("error","Database has a global failure",t.target.error),d.close(),ei.delete(l)};var i,c,u,a,s=d.transaction([Xo,$o,zo],"readwrite"),f=!1;s.objectStore(Xo).get(Xo).onsuccess=function(t){i=t.target.result||{id:Xo},o()},we(s,function(t){c=t,o()}),Do||(Do=be(s)),Do.then(function(t){u=t,r()}),s.oncomplete=function(){f=!0,r()}},h.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";S("error",t),n(C(So,t))}}function qe(t,e){try{return indexedDB.open(t,{version:Ho,storage:e})}catch(e){return indexedDB.open(t,Ho)}}function Ne(t){return decodeURIComponent(escape(t))}function Ce(t){return t<65?t-48:t-55}function Oe(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(Ce(t.charCodeAt(e++))<<4|Ce(t.charCodeAt(e++)));return r}function Re(t,e,n){for(var r="";e<n;)r+=String.fromCharCode(Ce(t.charCodeAt(e+2))<<12|Ce(t.charCodeAt(e+3))<<8|Ce(t.charCodeAt(e))<<4|Ce(t.charCodeAt(e+1))),e+=4;return r}function Be(t,e){return"UTF-8"===e?Ne(Oe(t,0,t.length)):Re(t,0,t.length)}function Le(t){return"'"+t+"'"}function je(t){return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"")}function Ie(t){return t.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,"")}function De(t){return delete t._id,delete t._rev,JSON.stringify(t)}function Me(t,e,n){return t=JSON.parse(t),t._id=e,t._rev=n,t}function Pe(t){for(var e="(";t--;)e+="?",t&&(e+=",");return e+")"}function Ue(t,e,n,r,o){return"SELECT "+t+" FROM "+("string"==typeof e?e:e.join(" JOIN "))+(n?" ON "+n:"")+(r?" WHERE "+("string"==typeof r?r:r.join(" AND ")):"")+(o?" ORDER BY "+o:"")}function Fe(t,e,n){function r(){++i===t.length&&o()}function o(){if(c.length){var t="SELECT DISTINCT digest AS digest FROM "+fi+" WHERE seq IN "+Pe(c.length);n.executeSql(t,c,function(t,e){for(var n=[],r=0;r<e.rows.length;r++)n.push(e.rows.item(r).digest);if(n.length){var o="DELETE FROM "+fi+" WHERE seq IN ("+c.map(function(){return"?"}).join(",")+")";t.executeSql(o,c,function(t){var e="SELECT digest FROM "+fi+" WHERE digest IN ("+n.map(function(){return"?"}).join(",")+")";t.executeSql(e,n,function(t,e){for(var r=new io,o=0;o<e.rows.length;o++)r.add(e.rows.item(o).digest);n.forEach(function(e){r.has(e)||(t.executeSql("DELETE FROM "+fi+" WHERE digest=?",[e]),t.executeSql("DELETE FROM "+ui+" WHERE digest=?",[e]))})})})}})}}if(t.length){var i=0,c=[];t.forEach(function(t){var o="SELECT seq FROM "+ci+" WHERE doc_id=? AND rev=?";n.executeSql(o,[e,t],function(t,e){if(!e.rows.length)return r();var n=e.rows.item(0).seq;c.push(n),t.executeSql("DELETE FROM "+ci+" WHERE seq=?",[n],r)})})}}function Je(t){return function(e){S("error","WebSQL threw an error",e);var n=e&&e.constructor.toString().match(/function ([^\(]+)/),r=n&&n[1]||e.type,o=e.target||e.message;t(C(xo,o,r))}}function We(t){if("size"in t)return 1e6*t.size;var e="undefined"!=typeof navigator&&/Android/.test(navigator.userAgent);return e?5e6:1}function He(t,e,n,r,o,i,c){function u(){return y?c(y):(i.notify(r._name),void c(null,b))}function a(t,e){var n="SELECT count(*) as cnt FROM "+ui+" WHERE digest=?";m.executeSql(n,[t],function(n,r){if(0===r.rows.item(0).cnt){var o=C(qo,"unknown stub attachment with digest "+t);e(o)}else e()})}function s(t){function e(){++o===n.length&&t(r)}var n=[];if(v.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(e){var r=t.data._attachments[e];r.stub&&n.push(r.digest)})}),!n.length)return t();var r,o=0;n.forEach(function(t){a(t,function(t){t&&!r&&(r=t),e()})})}function f(t,e,n,o,i,c,u,a){function s(){function e(t,e){function r(){return++i===c.length&&e(),!1}function o(e){var o="INSERT INTO "+fi+" (digest, seq) VALUES (?,?)",i=[n._attachments[e].digest,t];m.executeSql(o,i,r,r)}var i=0,c=Object.keys(n._attachments||{});if(!c.length)return e();for(var u=0;u<c.length;u++)o(c[u])}var n=t.data,r=o?1:0,i=n._id,c=n._rev,u=De(n),a="INSERT INTO "+ci+" (doc_id, rev, json, deleted) VALUES (?, ?, ?, ?);",s=[i,c,u,r];m.executeSql(a,s,function(t,n){var r=n.insertId;e(r,function(){d(t,r)})},function(){var t=Ue("seq",ci,null,"doc_id=? AND rev=?");return m.executeSql(t,[i,c],function(t,n){var o=n.rows.item(0).seq,a="UPDATE "+ci+" SET json=?, deleted=? WHERE doc_id=? AND rev=?;",s=[u,r,i,c];t.executeSql(a,s,function(t){e(o,function(){d(t,o)})})}),!1})}function f(t){h||(t?(h=t,a(h)):p===v.length&&s())}function l(t){p++,f(t)}function d(n,o){var c=t.metadata.id,s=t.stemmedRevs||[];i&&r.auto_compaction&&(s=V(t.metadata).concat(s)),s.length&&Fe(s,c,n),t.metadata.seq=o;var f=t.metadata.rev;delete t.metadata.rev;var l=i?"UPDATE "+ii+" SET json=?, max_seq=?, winningseq=(SELECT seq FROM "+ci+" WHERE doc_id="+ii+".id AND rev=?) WHERE id=?":"INSERT INTO "+ii+" (id, winningseq, max_seq, json) VALUES (?,?,?,?);",d=ie(t.metadata),_=i?[d,o,e,c]:[c,o,o,d];n.executeSql(l,_,function(){b[u]={ok:!0,id:t.metadata.id,rev:f},w.set(c,t.metadata),a()})}var h=null,p=0;t.data._id=t.metadata.id,t.data._rev=t.metadata.rev;var v=Object.keys(t.data._attachments||{});o&&(t.data._deleted=!0),v.forEach(function(n){var r=t.data._attachments[n];if(r.stub)p++,f();else{var o=r.data;delete r.data,r.revpos=parseInt(e,10);var i=r.digest;_(i,o,l)}}),v.length||s()}function l(){re(t.revs_limit,v,r,w,m,b,f,n)}function d(t){function e(){++n===v.length&&t()}if(!v.length)return t();var n=0;v.forEach(function(t){if(t._id&&ft(t._id))return e();var n=t.metadata.id;m.executeSql("SELECT json FROM "+ii+" WHERE id = ?",[n],function(t,r){if(r.rows.length){var o=oe(r.rows.item(0).json);w.set(n,o)}e()})})}function _(t,e,n){var r="SELECT digest FROM "+ui+" WHERE digest=?";m.executeSql(r,[t],function(o,i){return i.rows.length?n():(r="INSERT INTO "+ui+" (digest, body, escaped) VALUES (?,?,1)",void o.executeSql(r,[t,je(e)],function(){n()},function(){return n(),!1}))})}var h=n.new_edits,p=e.docs,v=p.map(function(t){if(t._id&&ft(t._id))return t;var e=Lt(t,h);return e}),g=v.filter(function(t){return t.error});if(g.length)return c(g[0]);var m,y,b=new Array(v.length),w=new co;te(v,"binary",function(t){return t?c(t):void o.transaction(function(t){m=t,s(function(t){t?y=t:d(l)})},Je(c),u)})}function ze(t){return t.websql(t.name,t.version,t.description,t.size)}function Ke(t){try{return{db:ze(t)}}catch(t){return{error:t}}}function Ge(t){var e=li.get(t.name);return e||(e=Ke(t),li.set(t.name,e)),e}function Qe(t,e,n,r,o){function i(){++a===u.length&&o&&o()}function c(t,o){var c=t._attachments[o],u={binary:e.binary,ctx:r};n._getAttachment(t._id,o,c,u,function(e,n){t._attachments[o]=fo(d(c,["digest","content_type"]),{data:n}),i()})}var u=Object.keys(t._attachments||{});if(!u.length)return o&&o();var a=0;u.forEach(function(n){e.attachments&&e.include_docs?c(t,n):(t._attachments[n].stub=!0,i())})}function Xe(t,e){function n(){k()&&(window.localStorage["_pouch__websqldb_"+b._name]=!0),e(null,b)}function r(t,e){t.executeSql(vi),t.executeSql("ALTER TABLE "+ci+" ADD COLUMN deleted TINYINT(1) DEFAULT 0",[],function(){t.executeSql(hi),t.executeSql("ALTER TABLE "+ii+" ADD COLUMN local TINYINT(1) DEFAULT 0",[],function(){t.executeSql("CREATE INDEX IF NOT EXISTS 'doc-store-local-idx' ON "+ii+" (local, id)");var n="SELECT "+ii+".winningseq AS seq, "+ii+".json AS metadata FROM "+ci+" JOIN "+ii+" ON "+ci+".seq = "+ii+".winningseq";t.executeSql(n,[],function(t,n){for(var r=[],o=[],i=0;i<n.rows.length;i++){var c=n.rows.item(i),u=c.seq,a=JSON.parse(c.metadata);st(a)&&r.push(u),ft(a.id)&&o.push(a.id)}t.executeSql("UPDATE "+ii+"SET local = 1 WHERE id IN "+Pe(o.length),o,function(){t.executeSql("UPDATE "+ci+" SET deleted = 1 WHERE seq IN "+Pe(r.length),r,e)})})})})}function o(t,e){var n="CREATE TABLE IF NOT EXISTS "+ai+" (id UNIQUE, rev, json)";t.executeSql(n,[],function(){var n="SELECT "+ii+".id AS id, "+ci+".json AS data FROM "+ci+" JOIN "+ii+" ON "+ci+".seq = "+ii+".winningseq WHERE local = 1";t.executeSql(n,[],function(t,n){function r(){if(!o.length)return e(t);var n=o.shift(),i=JSON.parse(n.data)._rev;t.executeSql("INSERT INTO "+ai+" (id, rev, json) VALUES (?,?,?)",[n.id,i,n.data],function(t){t.executeSql("DELETE FROM "+ii+" WHERE id=?",[n.id],function(t){t.executeSql("DELETE FROM "+ci+" WHERE seq=?",[n.seq],function(){r()})})})}for(var o=[],i=0;i<n.rows.length;i++)o.push(n.rows.item(i));r()})})}function i(t,e){function n(n){function r(){if(!n.length)return e(t);var o=n.shift(),i=Be(o.hex,y),c=i.lastIndexOf("::"),u=i.substring(0,c),a=i.substring(c+2),s="UPDATE "+ci+" SET doc_id=?, rev=? WHERE doc_id_rev=?";t.executeSql(s,[u,a,i],function(){r()})}r()}var r="ALTER TABLE "+ci+" ADD COLUMN doc_id";t.executeSql(r,[],function(t){var e="ALTER TABLE "+ci+" ADD COLUMN rev";t.executeSql(e,[],function(t){t.executeSql(pi,[],function(t){var e="SELECT hex(doc_id_rev) as hex FROM "+ci;t.executeSql(e,[],function(t,e){for(var r=[],o=0;o<e.rows.length;o++)r.push(e.rows.item(o));n(r)})})})})}function c(t,e){function n(t){var n="SELECT COUNT(*) AS cnt FROM "+ui;t.executeSql(n,[],function(t,n){function r(){var n=Ue(bi+", "+ii+".id AS id",[ii,ci],yi,null,ii+".id ");n+=" LIMIT "+c+" OFFSET "+i,i+=c,t.executeSql(n,[],function(t,n){function o(t,e){var n=i[t]=i[t]||[];n.indexOf(e)===-1&&n.push(e)}if(!n.rows.length)return e(t);for(var i={},c=0;c<n.rows.length;c++)for(var u=n.rows.item(c),a=Me(u.data,u.id,u.rev),s=Object.keys(a._attachments||{}),f=0;f<s.length;f++){var l=a._attachments[s[f]];o(l.digest,u.seq)}var d=[];if(Object.keys(i).forEach(function(t){var e=i[t];e.forEach(function(e){d.push([t,e])})}),!d.length)return r();var _=0;d.forEach(function(e){var n="INSERT INTO "+fi+" (digest, seq) VALUES (?,?)";t.executeSql(n,e,function(){++_===d.length&&r()})})})}var o=n.rows.item(0).cnt;if(!o)return e(t);var i=0,c=10;r()})}var r="CREATE TABLE IF NOT EXISTS "+fi+" (digest, seq INTEGER)";t.executeSql(r,[],function(t){t.executeSql(mi,[],function(t){t.executeSql(gi,[],n)})})}function u(t,e){var n="ALTER TABLE "+ui+" ADD COLUMN escaped TINYINT(1) DEFAULT 0";t.executeSql(n,[],e)}function s(t,e){var n="ALTER TABLE "+ii+" ADD COLUMN max_seq INTEGER";t.executeSql(n,[],function(t){var n="UPDATE "+ii+" SET max_seq=(SELECT MAX(seq) FROM "+ci+" WHERE doc_id=id)";t.executeSql(n,[],function(t){var n="CREATE UNIQUE INDEX IF NOT EXISTS 'doc-max-seq-idx' ON "+ii+" (max_seq)";t.executeSql(n,[],e)})})}function l(t,e){t.executeSql('SELECT HEX("a") AS hex',[],function(t,n){var r=n.rows.item(0).hex;y=2===r.length?"UTF-8":"UTF-16",e()})}function d(){for(;T.length>0;){var t=T.pop();t(null,w)}}function _(t,e){if(0===e){var n="CREATE TABLE IF NOT EXISTS "+si+" (dbid, db_version INTEGER)",a="CREATE TABLE IF NOT EXISTS "+ui+" (digest UNIQUE, escaped TINYINT(1), body BLOB)",f="CREATE TABLE IF NOT EXISTS "+fi+" (digest, seq INTEGER)",l="CREATE TABLE IF NOT EXISTS "+ii+" (id unique, json, winningseq, max_seq INTEGER UNIQUE)",_="CREATE TABLE IF NOT EXISTS "+ci+" (seq INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT, json, deleted TINYINT(1), doc_id, rev)",h="CREATE TABLE IF NOT EXISTS "+ai+" (id UNIQUE, rev, json)";t.executeSql(a),t.executeSql(h),t.executeSql(f,[],function(){t.executeSql(gi),t.executeSql(mi)}),t.executeSql(l,[],function(){t.executeSql(vi),t.executeSql(_,[],function(){t.executeSql(hi),t.executeSql(pi),t.executeSql(n,[],function(){var e="INSERT INTO "+si+" (db_version, dbid) VALUES (?,?)";w=H();var n=[oi,w];t.executeSql(e,n,function(){d()})})})})}else{var p=function(){var n=e<oi;n&&t.executeSql("UPDATE "+si+" SET db_version = "+oi);var r="SELECT dbid FROM "+si;t.executeSql(r,[],function(t,e){w=e.rows.item(0).dbid,d()})},v=[r,o,i,c,u,s,p],g=e,m=function(t){v[g-1](t,m),g++};m(t)}}function h(){A.transaction(function(t){l(t,function(){p(t)})},Je(e),n)}function p(t){var e="SELECT sql FROM sqlite_master WHERE tbl_name = "+si;t.executeSql(e,[],function(t,e){e.rows.length?/db_version/.test(e.rows.item(0).sql)?t.executeSql("SELECT db_version FROM "+si,[],function(t,e){var n=e.rows.item(0).db_version;_(t,n)}):t.executeSql("ALTER TABLE "+si+" ADD COLUMN db_version INTEGER",[],function(){_(t,1)}):_(t,0)})}function v(t,e){var n="SELECT MAX(seq) AS seq FROM "+ci;t.executeSql(n,[],function(t,n){var r=n.rows.item(0).seq||0;e(r)})}function g(t,e){var n=Ue("COUNT("+ii+".id) AS 'num'",[ii,ci],yi,ci+".deleted=0");t.executeSql(n,[],function(t,n){e(n.rows.item(0).num)})}function m(t,e,n,r,o){var i=Ue(bi,[ii,ci],yi,ii+".id=?"),c=[e];t.executeSql(i,c,function(t,e){if(!e.rows.length){var i=C(ho,"missing");return o(i)}var c=e.rows.item(0),u=oe(c.metadata);r(lt(n,u))})}var y,b=this,w=null,E=We(t),T=[];b._name=t.name;var S=fo({},t,{version:_i,description:t.name,size:E}),x=Ge(S);if(x.error)return Je(e)(x.error);var A=x.db;"function"!=typeof A.readTransaction&&(A.readTransaction=A.transaction),h(),b.type=function(){return"websql"},b._id=f(function(t){t(null,w)}),b._info=function(t){var e,n;A.readTransaction(function(t){v(t,function(t){e=t}),g(t,function(t){n=t})},Je(t),function(){t(null,{doc_count:n,update_seq:e,websql_encoding:y})})},b._bulkDocs=function(e,n,r){He(t,e,n,b,A,di,r)},b._get=function(t,e,n){function r(t){n(t,{doc:o,metadata:i,ctx:c})}var o,i,c=e.ctx;if(!c)return A.readTransaction(function(r){b._get(t,fo({ctx:r},e),n)});var u,a;if(e.rev){if(e.latest)return void m(c,t,e.rev,function(r){e.latest=!1,e.rev=r,b._get(t,e,n)},r);u=Ue(bi,[ii,ci],ii+".id="+ci+".doc_id",[ci+".doc_id=?",ci+".rev=?"]),a=[t,e.rev]}else u=Ue(bi,[ii,ci],yi,ii+".id=?"),a=[t];c.executeSql(u,a,function(t,n){if(!n.rows.length){var c=C(ho,"missing");return r(c)}var u=n.rows.item(0);if(i=oe(u.metadata),u.deleted&&!e.rev){var a=C(ho,"deleted");return r(a)}o=Me(u.data,i.id,u.rev),r()})},b._allDocs=function(t,e){var n,r=[],o="startkey"in t&&t.startkey,i="endkey"in t&&t.endkey,c="key"in t&&t.key,u="descending"in t&&t.descending,a="limit"in t?t.limit:-1,s="skip"in t?t.skip:0,f=t.inclusive_end!==!1,l=[],d=[];if(c!==!1)d.push(ii+".id = ?"),l.push(c);else if(o!==!1||i!==!1){if(o!==!1&&(d.push(ii+".id "+(u?"<=":">=")+" ?"),l.push(o)),i!==!1){var _=u?">":"<";f&&(_+="="),d.push(ii+".id "+_+" ?"),l.push(i)}c!==!1&&(d.push(ii+".id = ?"),l.push(c))}"ok"!==t.deleted&&d.push(ci+".deleted = 0"),A.readTransaction(function(e){if(g(e,function(t){n=t}),0!==a){var o=Ue(bi,[ii,ci],yi,d,ii+".id "+(u?"DESC":"ASC"));o+=" LIMIT "+a+" OFFSET "+s,e.executeSql(o,l,function(e,n){for(var o=0,i=n.rows.length;o<i;o++){var c=n.rows.item(o),u=oe(c.metadata),a=u.id,s=Me(c.data,a,c.rev),f=s._rev,l={id:a,key:a,value:{rev:f}};if(t.include_docs){if(l.doc=s,l.doc._rev=f,t.conflicts){var d=X(u);d.length&&(l.doc._conflicts=d)}Qe(l.doc,t,b,e)}if(c.deleted){if("ok"!==t.deleted)continue;l.value.deleted=!0,l.doc=null}r.push(l)}})}},Je(e),function(){e(null,{total_rows:n,offset:t.skip,rows:r})})},b._changes=function(t){function e(){var e=ii+".json AS metadata, "+ii+".max_seq AS maxSeq, "+ci+".json AS winningDoc, "+ci+".rev AS winningRev ",n=ii+" JOIN "+ci,a=ii+".id="+ci+".doc_id AND "+ii+".winningseq="+ci+".seq",s=["maxSeq > ?"],f=[t.since];t.doc_ids&&(s.push(ii+".id IN "+Pe(t.doc_ids.length)),f=f.concat(t.doc_ids));var l="maxSeq "+(r?"DESC":"ASC"),d=Ue(e,n,a,s,l),_=B(t);t.view||t.filter||(d+=" LIMIT "+o);var h=t.since||0;A.readTransaction(function(e){e.executeSql(d,f,function(e,n){function r(e){return function(){t.onChange(e)}}for(var a=0,s=n.rows.length;a<s;a++){var f=n.rows.item(a),l=oe(f.metadata);h=f.maxSeq;var d=Me(f.winningDoc,l.id,f.winningRev),p=t.processChange(d,l,t);p.seq=f.maxSeq;var v=_(p);if("object"==typeof v)return t.complete(v);if(v&&(u++,i&&c.push(p),t.attachments&&t.include_docs?Qe(d,t,b,e,r(p)):r(p)()),u===o)break}})},Je(t.complete),function(){t.continuous||t.complete(null,{results:c,last_seq:h})})}if(t=a(t),t.continuous){var n=b._name+":"+H();return di.addListener(b._name,n,b,t),di.notify(b._name),{cancel:function(){di.removeListener(b._name,n)}}}var r=t.descending;t.since=t.since&&!r?t.since:0;var o="limit"in t?t.limit:-1;0===o&&(o=1);var i;i="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var c=[],u=0;e()},b._close=function(t){t()},b._getAttachment=function(t,e,n,r,o){var i,c=r.ctx,u=n.digest,a=n.content_type,s="SELECT escaped, CASE WHEN escaped = 1 THEN body ELSE HEX(body) END AS body FROM "+ui+" WHERE digest=?";c.executeSql(s,[u],function(t,e){var n=e.rows.item(0),c=n.escaped?Ie(n.body):Be(n.body,y);i=r.binary?Dt(c,a):Fo(c),o(null,i)})},b._getRevisionTree=function(t,e){A.readTransaction(function(n){var r="SELECT json AS metadata FROM "+ii+" WHERE id = ?";n.executeSql(r,[t],function(t,n){if(n.rows.length){var r=oe(n.rows.item(0).metadata);e(null,r.rev_tree)}else e(C(ho))})})},b._doCompaction=function(t,e,n){return e.length?void A.transaction(function(n){var r="SELECT json AS metadata FROM "+ii+" WHERE id = ?";n.executeSql(r,[t],function(n,r){var o=oe(r.rows.item(0).metadata);K(o.rev_tree,function(t,n,r,o,i){var c=n+"-"+r;e.indexOf(c)!==-1&&(i.status="missing")});var i="UPDATE "+ii+" SET json = ? WHERE id = ?";n.executeSql(i,[ie(o),t])}),Fe(e,t,n)},Je(n),function(){n()}):n()},b._getLocal=function(t,e){A.readTransaction(function(n){var r="SELECT json, rev FROM "+ai+" WHERE id=?";n.executeSql(r,[t],function(n,r){if(r.rows.length){var o=r.rows.item(0),i=Me(o.json,t,o.rev);e(null,i)}else e(C(ho))})})},b._putLocal=function(t,e,n){function r(t){var r,s;i?(r="UPDATE "+ai+" SET rev=?, json=? WHERE id=? AND rev=?",s=[o,a,c,i]):(r="INSERT INTO "+ai+" (id, rev, json) VALUES (?,?,?)",s=[c,o,a]),t.executeSql(r,s,function(t,r){r.rowsAffected?(u={ok:!0,id:c,rev:o},e.ctx&&n(null,u)):n(C(po))},function(){return n(C(po)),!1})}"function"==typeof e&&(n=e,e={}),delete t._revisions;var o,i=t._rev,c=t._id;o=i?t._rev="0-"+(parseInt(i.split("-")[1],10)+1):t._rev="0-1";var u,a=De(t);e.ctx?r(e.ctx):A.transaction(r,Je(n),function(){u&&n(null,u)})},b._removeLocal=function(t,e,n){function r(r){var i="DELETE FROM "+ai+" WHERE id=? AND rev=?",c=[t._id,t._rev];r.executeSql(i,c,function(r,i){return i.rowsAffected?(o={ok:!0,id:t._id,rev:"0-0"},void(e.ctx&&n(null,o))):n(C(ho))})}"function"==typeof e&&(n=e,e={});var o;e.ctx?r(e.ctx):A.transaction(r,Je(n),function(){o&&n(null,o)})},b._destroy=function(t,e){di.removeAllListeners(b._name),A.transaction(function(t){var e=[ii,ci,ui,si,ai,fi];e.forEach(function(e){t.executeSql("DROP TABLE IF EXISTS "+e,[])})},Je(e),function(){k()&&(delete window.localStorage["_pouch__websqldb_"+b._name],delete window.localStorage[b._name]),e(null,{ok:!0})})}}function Ve(){try{return openDatabase("_pouch_validate_websql",1,"",1),!0}catch(t){return!1}}function $e(){if("undefined"==typeof indexedDB||null===indexedDB||!/iP(hone|od|ad)/.test(navigator.userAgent))return!0;var t=k(),e="_pouch__websqldb_valid_"+navigator.userAgent;if(t&&localStorage[e])return"1"===localStorage[e];var n=Ve();return t&&(localStorage[e]=n?"1":"0"),n}function Ye(){return"function"==typeof openDatabase&&$e()}function Ze(t,e,n,r){return openDatabase(t,e,n,r)}function tn(t,e){var n=fo({websql:Ze},t);Xe.call(this,n,e)}function en(){for(var t={},e=new eo(function(e,n){t.resolve=e,t.reject=n}),n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.promise=e,eo.resolve().then(function(){return fetch.apply(null,n)}).then(function(e){t.resolve(e)}).catch(function(e){t.reject(e)}),t}function nn(t,e){var n,r,o,i=new Headers,c={method:t.method,credentials:"include",headers:i};return t.json&&(i.set("Accept","application/json"),i.set("Content-Type",t.headers["Content-Type"]||"application/json")),t.body&&t.processData&&"string"!=typeof t.body?c.body=JSON.stringify(t.body):"body"in t?c.body=t.body:c.body=null,Object.keys(t.headers).forEach(function(e){t.headers.hasOwnProperty(e)&&i.set(e,t.headers[e])}),n=en(t.url,c),t.timeout>0&&(r=setTimeout(function(){n.reject(new Error("Load timeout for resource: "+t.url))},t.timeout)),n.promise.then(function(e){return o={statusCode:e.status},t.timeout>0&&clearTimeout(r),o.statusCode>=200&&o.statusCode<300?t.binary?e.blob():e.text():e.json()}).then(function(t){o.statusCode>=200&&o.statusCode<300?e(null,o,t):(t.status=o.statusCode,e(t))}).catch(function(t){t||(t=new Error("canceled")),e(t)}),{abort:n.reject}}function rn(t,e){var n,r,o=!1,i=function(){n.abort(),a()},c=function(){o=!0,n.abort(),a()},u={abort:i},a=function(){clearTimeout(r),u.abort=function(){},n&&(n.onprogress=void 0,n.upload&&(n.upload.onprogress=void 0),n.onreadystatechange=void 0,n=void 0)};n=t.xhr?new t.xhr:new XMLHttpRequest;try{n.open(t.method,t.url)}catch(t){return e(new Error(t.name||"Url is invalid"))}n.withCredentials=!("withCredentials"in t)||t.withCredentials,"GET"===t.method?delete t.headers["Content-Type"]:t.json&&(t.headers.Accept="application/json",t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json",t.body&&t.processData&&"string"!=typeof t.body&&(t.body=JSON.stringify(t.body))),t.binary&&(n.responseType="arraybuffer"),"body"in t||(t.body=null);for(var s in t.headers)t.headers.hasOwnProperty(s)&&n.setRequestHeader(s,t.headers[s]);return t.timeout>0&&(r=setTimeout(c,t.timeout),n.onprogress=function(){clearTimeout(r),4!==n.readyState&&(r=setTimeout(c,t.timeout))},"undefined"!=typeof n.upload&&(n.upload.onprogress=n.onprogress)),n.onreadystatechange=function(){if(4===n.readyState){var r={statusCode:n.status};if(n.status>=200&&n.status<300){var i;i=t.binary?jt([n.response||""],{type:n.getResponseHeader("Content-Type")}):n.responseText,e(null,r,i)}else{var c={};if(o)c=new Error("ETIMEDOUT"),c.code="ETIMEDOUT";else if("string"==typeof n.response)try{c=JSON.parse(n.response)}catch(t){}c.status=n.status,e(c)}a()}},t.body&&t.body instanceof Blob?Wt(t.body,function(t){n.send(t)}):n.send(t.body),u}function on(){try{return new XMLHttpRequest,!0}catch(t){return!1}}function cn(t,e){return ki||t.xhr?rn(t,e):nn(t,e)}function un(){return""}function an(t,e){function n(e,n,r){if(!t.binary&&t.json&&"string"==typeof e)try{e=JSON.parse(e)}catch(t){return r(t)}Array.isArray(e)&&(e=e.map(function(t){return t.error||t.missing?O(t):t})),t.binary&&Ei(e,n),r(null,e,n)}t=a(t);var r={method:"GET",headers:{},json:!0,processData:!0,timeout:1e4,cache:!1};return t=fo(r,t),t.json&&(t.binary||(t.headers.Accept="application/json"),t.headers["Content-Type"]=t.headers["Content-Type"]||"application/json"),t.binary&&(t.encoding=null,t.json=!1),t.processData||(t.json=!1),
cn(t,function(r,o,i){if(r)return e(O(r));var c,u=o.headers&&o.headers["content-type"],a=i||un();if(!t.binary&&(t.json||!t.processData)&&"object"!=typeof a&&(/json/.test(u)||/^[\s]*\{/.test(a)&&/\}[\s]*$/.test(a)))try{a=JSON.parse(a.toString())}catch(t){}o.statusCode>=200&&o.statusCode<300?n(a,o,e):(c=O(a),c.status=o.statusCode,e(c))})}function sn(t,e){var n=navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",r=n.indexOf("safari")!==-1&&n.indexOf("chrome")===-1,o=n.indexOf("msie")!==-1,i=n.indexOf("edge")!==-1,c=r||(o||i)&&"GET"===t.method,u=!("cache"in t)||t.cache,a=/^blob:/.test(t.url);if(!a&&(c||!u)){var s=t.url.indexOf("?")!==-1;t.url+=(s?"&":"?")+"_nonce="+Date.now()}return an(t,e)}function fn(t,e){return new eo(function(n,r){function o(){f++,t[l++]().then(c,u)}function i(){++d===_?s?r(s):n():a()}function c(){f--,i()}function u(t){f--,s=s||t,i()}function a(){for(;f<e&&l<_;)o()}var s,f=0,l=0,d=0,_=t.length;a()})}function ln(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];n.data=Mt(n.data,n.content_type)})}function dn(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function _n(t){return t._attachments&&Object.keys(t._attachments)?eo.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&"string"!=typeof n.data)return new eo(function(t){Jt(n.data,t)}).then(function(t){n.data=t})})):eo.resolve()}function hn(t){if(!t.prefix)return!1;var e=U(t.prefix).protocol;return"http"===e||"https"===e}function pn(t,e){if(hn(e)){var n=e.name.substr(e.prefix.length);t=e.prefix+encodeURIComponent(n)}var r=U(t);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),r.db.indexOf("%")===-1&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function vn(t,e){return gn(t,t.db+"/"+e)}function gn(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function mn(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function yn(t,e){function n(t,e,n){var r=t.ajax||{},o=fo(a(_),r,e);return Ai(o.method+" "+o.url),u._ajax(o,n)}function r(t,e){return new eo(function(r,o){n(t,e,function(t,e){return t?o(t):void r(e)})})}function o(t,e){return l(t,Gr(function(t){i().then(function(){return e.apply(this,t)}).catch(function(e){var n=t.pop();n(e)})}))}function i(){if(t.skipSetup||t.skip_setup)return eo.resolve();if(g)return g;var e={method:"GET",url:f};return g=r({},e).catch(function(t){return t&&t.status&&404===t.status?(q(404,"PouchDB is just detecting if the remote exists."),r({},{method:"PUT",url:f})):eo.reject(t)}).catch(function(t){return!(!t||!t.status||412!==t.status)||eo.reject(t)}),g.catch(function(){g=null}),g}function c(t){return t.split("/").map(encodeURIComponent).join("/")}var u=this,s=pn(t.name,t),f=vn(s,"");t=a(t);var _=t.ajax||{};if(t.auth||s.auth){var h=t.auth||s.auth,p=h.username+":"+h.password,v=Fo(unescape(encodeURIComponent(p)));_.headers=_.headers||{},_.headers.Authorization="Basic "+v}u._ajax=sn;var g;$r(function(){e(null,u)}),u.type=function(){return"http"},u.id=o("id",function(t){n({},{method:"GET",url:gn(s,"")},function(e,n){var r=n&&n.uuid?n.uuid+s.db:vn(s,"");t(null,r)})}),u.request=o("request",function(t,e){t.url=vn(s,t.url),n({},t,e)}),u.compact=o("compact",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t),n(t,{url:vn(s,"_compact"),method:"POST"},function(){function n(){u.info(function(r,o){o&&!o.compact_running?e(null,{ok:!0}):setTimeout(n,t.interval||200)})}n()})}),u.bulkGet=l("bulkGet",function(t,e){function r(e){var r={};t.revs&&(r.revs=!0),t.attachments&&(r.attachments=!0),t.latest&&(r.latest=!0),n(t,{url:vn(s,"_bulk_get"+mn(r)),method:"POST",body:{docs:t.docs}},e)}function o(){function n(t){return function(n,r){u[t]=r.results,++c===o&&e(null,{results:L(u)})}}for(var r=Si,o=Math.ceil(t.docs.length/r),c=0,u=new Array(o),a=0;a<o;a++){var s=d(t,["revs","attachments","latest"]);s.ajax=_,s.docs=t.docs.slice(a*r,Math.min(t.docs.length,(a+1)*r)),b(i,s,n(a))}}var i=this,c=gn(s,""),u=xi[c];"boolean"!=typeof u?r(function(t,n){t?(xi[c]=!1,q(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(xi[c]=!0,e(null,n))}):u?r(e):o()}),u._info=function(t){i().then(function(){n({},{method:"GET",url:vn(s,"")},function(e,n){return e?t(e):(n.host=vn(s,""),void t(null,n))})}).catch(t)},u.get=o("get",function(t,e,n){function o(t){function n(n){var i=o[n],u=dn(t._id)+"/"+c(n)+"?rev="+t._rev;return r(e,{method:"GET",url:vn(s,u),binary:!0}).then(function(t){return e.binary?t:new eo(function(e){Jt(t,e)})}).then(function(t){delete i.stub,delete i.length,i.data=t})}var o=t._attachments,i=o&&Object.keys(o);if(o&&i.length){var u=i.map(function(t){return function(){return n(t)}});return fn(u,5)}}function i(t){return Array.isArray(t)?eo.all(t.map(function(t){if(t.ok)return o(t.ok)})):o(t)}"function"==typeof e&&(n=e,e={}),e=a(e);var u={};e.revs&&(u.revs=!0),e.revs_info&&(u.revs_info=!0),e.latest&&(u.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),u.open_revs=e.open_revs),e.rev&&(u.rev=e.rev),e.conflicts&&(u.conflicts=e.conflicts),t=dn(t);var f={method:"GET",url:vn(s,t+mn(u))};r(e,f).then(function(t){return eo.resolve().then(function(){if(e.attachments)return i(t)}).then(function(){n(null,t)})}).catch(n)}),u.remove=o("remove",function(t,e,r,o){var i;"string"==typeof e?(i={_id:t,_rev:e},"function"==typeof r&&(o=r,r={})):(i=t,"function"==typeof e?(o=e,r={}):(o=r,r=e));var c=i._rev||r.rev;n(r,{method:"DELETE",url:vn(s,dn(i._id))+"?rev="+c},o)}),u.getAttachment=o("getAttachment",function(t,e,r,o){"function"==typeof r&&(o=r,r={});var i=r.rev?"?rev="+r.rev:"",u=vn(s,dn(t))+"/"+c(e)+i;n(r,{method:"GET",url:u,binary:!0},o)}),u.removeAttachment=o("removeAttachment",function(t,e,r,o){var i=vn(s,dn(t)+"/"+c(e))+"?rev="+r;n({},{method:"DELETE",url:i},o)}),u.putAttachment=o("putAttachment",function(t,e,r,o,i,u){"function"==typeof i&&(u=i,i=o,o=r,r=null);var a=dn(t)+"/"+c(e),f=vn(s,a);if(r&&(f+="?rev="+r),"string"==typeof o){var l;try{l=Uo(o)}catch(t){return u(C(bo,"Attachment is not a valid base64 string"))}o=l?Dt(l,i):""}var d={headers:{"Content-Type":i},method:"PUT",url:f,processData:!1,body:o,timeout:_.timeout||6e4};n({},d,u)}),u._bulkDocs=function(t,e,r){t.new_edits=e.new_edits,i().then(function(){return eo.all(t.docs.map(_n))}).then(function(){n(e,{method:"POST",url:vn(s,"_bulk_docs"),timeout:e.timeout,body:t},function(t,e){return t?r(t):(e.forEach(function(t){t.ok=!0}),void r(null,e))})}).catch(r)},u._put=function(t,e,r){i().then(function(){return _n(t)}).then(function(){n(e,{method:"PUT",url:vn(s,dn(t._id)),body:t},function(t,e){return t?r(t):void r(null,e)})}).catch(r)},u.allDocs=o("allDocs",function(t,e){"function"==typeof t&&(e=t,t={}),t=a(t);var n,o={},i="GET";t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),t.include_docs&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.key&&(o.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(o.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(o.endkey=JSON.stringify(t.endkey)),"undefined"!=typeof t.inclusive_end&&(o.inclusive_end=!!t.inclusive_end),"undefined"!=typeof t.limit&&(o.limit=t.limit),"undefined"!=typeof t.skip&&(o.skip=t.skip);var c=mn(o);"undefined"!=typeof t.keys&&(i="POST",n={keys:t.keys}),r(t,{method:i,url:vn(s,"_all_docs"+c),body:n}).then(function(n){t.include_docs&&t.attachments&&t.binary&&n.rows.forEach(ln),e(null,n)}).catch(e)}),u._changes=function(t){var e="batch_size"in t?t.batch_size:Ti;t=a(t),t.timeout="timeout"in t?t.timeout:"timeout"in _?_.timeout:3e4;var r,o=t.timeout?{timeout:t.timeout-5e3}:{},c="undefined"!=typeof t.limit&&t.limit;r="return_docs"in t?t.return_docs:!("returnDocs"in t)||t.returnDocs;var u=c;if(t.style&&(o.style=t.style),(t.include_docs||t.filter&&"function"==typeof t.filter)&&(o.include_docs=!0),t.attachments&&(o.attachments=!0),t.continuous&&(o.feed="longpoll"),t.conflicts&&(o.conflicts=!0),t.descending&&(o.descending=!0),"heartbeat"in t?t.heartbeat&&(o.heartbeat=t.heartbeat):t.continuous&&(o.heartbeat=1e4),t.filter&&"string"==typeof t.filter&&(o.filter=t.filter),t.view&&"string"==typeof t.view&&(o.filter="_view",o.view=t.view),t.query_params&&"object"==typeof t.query_params)for(var f in t.query_params)t.query_params.hasOwnProperty(f)&&(o[f]=t.query_params[f]);var l,d="GET";t.doc_ids&&(o.filter="_doc_ids",d="POST",l={doc_ids:t.doc_ids});var h,p,v=function(r,a){if(!t.aborted){o.since=r,"object"==typeof o.since&&(o.since=JSON.stringify(o.since)),t.descending?c&&(o.limit=u):o.limit=!c||u>e?e:u;var f={method:d,url:vn(s,"_changes"+mn(o)),timeout:t.timeout,body:l};p=r,t.aborted||i().then(function(){h=n(t,f,a)}).catch(a)}},g={results:[]},m=function(n,o){if(!t.aborted){var i=0;if(o&&o.results){i=o.results.length,g.last_seq=o.last_seq;var a={};a.query=t.query_params,o.results=o.results.filter(function(e){u--;var n=B(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&ln(e),r&&g.results.push(e),t.onChange(e)),n})}else if(n)return t.aborted=!0,void t.complete(n);o&&o.last_seq&&(p=o.last_seq);var s=c&&u<=0||o&&i<e||t.descending;(!t.continuous||c&&u<=0)&&s?t.complete(null,g):$r(function(){v(p,m)})}};return v(t.since||0,m),{cancel:function(){t.aborted=!0,h&&h.abort()}}},u.revsDiff=o("revsDiff",function(t,e,r){"function"==typeof e&&(r=e,e={}),n(e,{method:"POST",url:vn(s,"_revs_diff"),body:t},r)}),u._close=function(t){t()},u._destroy=function(t,e){n(t,{url:vn(s,""),method:"DELETE"},function(t,n){return t&&t.status&&404!==t.status?e(t):void e(null,n)})}}function bn(t,e,n){for(var r="",o=n-t.length;r.length<o;)r+=e;return r}function wn(t,e,n){var r=bn(t,e,n);return r+t}function kn(t,e){if(t===e)return 0;t=En(t),e=En(e);var n=Rn(t),r=Rn(e);if(n-r!==0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return Cn(t,e)}return Array.isArray(t)?Nn(t,e):On(t,e)}function En(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-(1/0)||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=En(e[r])}else{if(t instanceof Date)return t.toJSON();if(null!==t){t={};for(var o in e)if(e.hasOwnProperty(o)){var i=e[o];"undefined"!=typeof i&&(t[o]=En(i))}}}}return t}function Tn(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return Bn(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,o=n.length,i="";if(e)for(;++r<o;)i+=Sn(n[r]);else for(;++r<o;){var c=n[r];i+=Sn(c)+Sn(t[c])}return i}return""}function Sn(t){var e="\0";return t=En(t),Rn(t)+Oi+Tn(t)+e}function xn(t,e){var n,r=e,o="1"===t[e];if(o)n=0,e++;else{var i="0"===t[e];e++;var c="",u=t.substring(e,e+Ci),a=parseInt(u,10)+Ni;for(i&&(a=-a),e+=Ci;;){var s=t[e];if("\0"===s)break;c+=s,e++}c=c.split("."),n=1===c.length?parseInt(c,10):parseFloat(c[0]+"."+c[1]),i&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:e-r}}function An(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(n);else if(i===t.length-2){var c=t.pop();o[c]=n}else t.push(n)}}function qn(t){for(var e=[],n=[],r=0;;){var o=t[r++];if("\0"!==o)switch(o){case"1":e.push(null);break;case"2":e.push("1"===t[r]),r++;break;case"3":var i=xn(t,r);e.push(i.num),r+=i.length;break;case"4":for(var c="";;){var u=t[r];if("\0"===u)break;c+=u,r++}c=c.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(c);break;case"5":var a={element:[],index:e.length};e.push(a.element),n.push(a);break;case"6":var s={element:{},index:e.length};e.push(s.element),n.push(s);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+o)}else{if(1===e.length)return e.pop();An(e,n)}}}function Nn(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var o=kn(t[r],e[r]);if(0!==o)return o}return t.length===e.length?0:t.length>e.length?1:-1}function Cn(t,e){return t===e?0:t>e?1:-1}function On(t,e){for(var n=Object.keys(t),r=Object.keys(e),o=Math.min(n.length,r.length),i=0;i<o;i++){var c=kn(n[i],r[i]);if(0!==c)return c;if(c=kn(t[n[i]],e[r[i]]),0!==c)return c}return n.length===r.length?0:n.length>r.length?1:-1}function Rn(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function Bn(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,o=r?"0":"2",i=(r?-n:n)-Ni,c=wn(i.toString(),"0",Ci);o+=Oi+c;var u=Math.abs(parseFloat(e[0]));r&&(u=10-u);var a=u.toFixed(20);return a=a.replace(/\.?0+$/,""),o+=Oi+a}function Ln(){this.promise=new eo(function(t){t()})}function jn(t){var e,n=t.db,r=t.viewName,o=t.map,i=t.reduce,c=t.temporary,u=o.toString()+(i&&i.toString())+"undefined";if(!c&&(e=n._cachedViews=n._cachedViews||{},e[u]))return e[u];var a=n.info().then(function(t){function a(t){t.views=t.views||{};var e=r;e.indexOf("/")===-1&&(e=r+"/"+r);var n=t.views[e]=t.views[e]||{};if(!n[s])return n[s]=!0,t}var s=t.db_name+"-mrview-"+(c?"temp":Xt(u));return F(n,"_local/mrviews",a).then(function(){return n.registerDependentDatabase(s).then(function(t){var r=t.db;r.auto_compaction=!0;var c={name:s,db:r,sourceDB:n,adapter:n.adapter,mapFun:o,reduceFun:i};return c.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return c.seq=t?t.seq:0,e&&c.db.once("destroyed",function(){delete e[u]}),c})})})});return e&&(e[u]=a),a}function In(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,In)}catch(t){}}function Dn(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Dn)}catch(t){}}function Mn(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Mn)}catch(t){}}function Pn(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new Mn(e)}function Un(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];if("number"!=typeof o){if(!Array.isArray(o))throw Pn("_sum");e="number"==typeof e?[e]:e;for(var i=0,c=o.length;i<c;i++){var u=o[i];if("number"!=typeof u)throw Pn("_sum");"undefined"==typeof e[i]?e.push(u):e[i]+=u}}else"number"==typeof e?e+=o:e[0]+=o}return e}function Fn(t,e){return Yr("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:Un,log:Ri,isArray:Bi,toJSON:Li})}function Jn(t,e){return e&&t.then(function(t){$r(function(){e(null,t)})},function(t){$r(function(){e(t)})}),t}function Wn(t){return Gr(function(e){var n=e.pop(),r=t.apply(this,e);return"function"==typeof n&&Jn(r,n),r})}function Hn(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function zn(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}}function Kn(t){var e=new io(t),n=new Array(e.size),r=-1;return e.forEach(function(t){n[++r]=t}),n}function Gn(t){var e=new Array(t.size),n=-1;return t.forEach(function(t,r){e[++n]=r}),e}function Qn(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function Xn(t){return 1===t.length&&/^1-/.test(t[0].rev)}function Vn(t,e){try{t.emit("error",e)}catch(t){S("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),S("error",e)}}function $n(t,e,n){try{e(n)}catch(e){Vn(t,e)}}function Yn(t,e,n,r,o){try{return{output:e(n,r,o)}}catch(e){return Vn(t,e),{error:e}}}function Zn(t,e){var n=kn(t.key,e.key);return 0!==n?n:kn(t.value,e.value)}function tr(t,e,n){return n=n||0,"number"==typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function er(t){var e=t.value,n=e&&"object"==typeof e&&e._id||t.id;return n}function nr(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=Mt(n.data,n.content_type)})})}function rr(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&nr(e),e}}function or(t,e,n,r){var o=e[t];"undefined"!=typeof o&&(r&&(o=encodeURIComponent(JSON.stringify(o))),n.push(t+"="+o))}function ir(t){if("undefined"!=typeof t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function cr(t){return t.group_level=ir(t.group_level),t.limit=ir(t.limit),t.skip=ir(t.skip),t}function ur(t){if(t){if("number"!=typeof t)return new In('Invalid value for integer: "'+t+'"');if(t<0)return new In('Invalid value for positive integer: "'+t+'"')}}function ar(t,e){var n=t.descending?"endkey":"startkey",r=t.descending?"startkey":"endkey";if("undefined"!=typeof t[n]&&"undefined"!=typeof t[r]&&kn(t[n],t[r])>0)throw new In("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&t.reduce!==!1){if(t.include_docs)throw new In("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new In("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=ur(t[e]);if(n)throw n})}function sr(t,e,n){var r,o=[],i="GET";if(or("reduce",n,o),or("include_docs",n,o),or("attachments",n,o),or("limit",n,o),or("descending",n,o),or("group",n,o),or("group_level",n,o),or("skip",n,o),or("stale",n,o),or("conflicts",n,o),or("startkey",n,o,!0),or("start_key",n,o,!0),or("endkey",n,o,!0),or("end_key",n,o,!0),or("inclusive_end",n,o),or("key",n,o,!0),o=o.join("&"),o=""===o?"":"?"+o,"undefined"!=typeof n.keys){var c=2e3,u="keys="+encodeURIComponent(JSON.stringify(n.keys));u.length+o.length+1<=c?o+=("?"===o[0]?"&":"?")+u:(i="POST","string"==typeof e?r={keys:n.keys}:e.keys=n.keys)}if("string"==typeof e){var a=Qn(e);return t.request({method:i,url:"_design/"+a[0]+"/_view/"+a[1]+o,body:r}).then(rr(n))}return r=r||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?r[t]=e[t]:r[t]=e[t].toString()}),t.request({method:"POST",url:"_temp_view"+o,body:r}).then(rr(n))}function fr(t,e,n){return new eo(function(r,o){t._query(e,n,function(t,e){return t?o(t):void r(e)})})}function lr(t){return new eo(function(e,n){t._viewCleanup(function(t,r){return t?n(t):void e(r)})})}function dr(t){return function(e){if(404===e.status)return t;throw e}}function _r(t,e,n){function r(){return Xn(f)?eo.resolve(u):e.db.get(c).catch(dr(u))}function o(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):eo.resolve({rows:[]})}function i(t,e){for(var n=[],r=new io,o=0,i=e.rows.length;o<i;o++){var c=e.rows[o],u=c.doc;if(u&&(n.push(u),r.add(u._id),u._deleted=!s.has(u._id),!u._deleted)){var a=s.get(u._id);"value"in a&&(u.value=a.value)}}var f=Gn(s);return f.forEach(function(t){if(!r.has(t)){var e={_id:t},o=s.get(t);"value"in o&&(e.value=o.value),n.push(e)}}),t.keys=Kn(f.concat(t.keys)),n.push(t),n}var c="_local/doc_"+t,u={_id:c,keys:[]},a=n.get(t),s=a[0],f=a[1];return r().then(function(t){return o(t).then(function(e){return i(t,e)})})}function hr(t,e,n){var r="_local/lastSeq";return t.db.get(r).catch(dr({_id:r,seq:0})).then(function(r){var o=Gn(e);return eo.all(o.map(function(n){return _r(n,t,e)})).then(function(e){var o=L(e);return r.seq=n,o.push(r),t.db.bulkDocs({docs:o})})})}function pr(t){var e="string"==typeof t?t:t.name,n=ji[e];return n||(n=ji[e]=new Ln),n}function vr(t){return zn(pr(t),function(){return gr(t)})()}function gr(t){function e(t,e){var n={id:a._id,key:En(t)};"undefined"!=typeof e&&null!==e&&(n.value=En(e)),u.push(n)}function n(e,n){return function(){return hr(t,e,n)}}function r(){return t.sourceDB.changes({conflicts:!0,include_docs:!0,style:"all_docs",since:l,limit:Di}).then(o)}function o(t){var e=t.results;if(e.length){var o=i(e);if(d.add(n(o,l)),!(e.length<Di))return r()}}function i(e){for(var n=new co,r=0,o=e.length;r<o;r++){var i=e[r];if("_"!==i.doc._id[0]){u=[],a=i.doc,a._deleted||$n(t.sourceDB,s,a),u.sort(Zn);var f=c(u);n.set(i.doc._id,[f,i.changes])}l=i.seq}return n}function c(t){for(var e,n=new co,r=0,o=t.length;r<o;r++){var i=t[r],c=[i.key,i.id];r>0&&0===kn(i.key,e)&&c.push(r),n.set(Sn(c),i),e=i.key}return n}var u,a,s;if("function"==typeof t.mapFun&&2===t.mapFun.length){var f=t.mapFun;s=function(t){return f(t,e)}}else s=Fn(t.mapFun.toString(),e);var l=t.seq||0,d=new Ln;return r().then(function(){return d.finish()}).then(function(){t.seq=l})}function mr(t,e,n){0===n.group_level&&delete n.group_level;var r,o=n.group||n.group_level;r=Mi[t.reduceFun]?Mi[t.reduceFun]:Fn(t.reduceFun.toString());var i=[],c=isNaN(n.group_level)?Number.POSITIVE_INFINITY:n.group_level;e.forEach(function(t){var e=i[i.length-1],n=o?t.key:null;return o&&Array.isArray(n)&&(n=n.slice(0,c)),e&&0===kn(e.groupKey,n)?(e.keys.push([t.key,t.id]),void e.values.push(t.value)):void i.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var u=0,a=i.length;u<a;u++){var s=i[u],f=Yn(t.sourceDB,r,s.keys,s.values,!1);if(f.error&&f.error instanceof Mn)throw f.error;e.push({value:f.error?null:f.output,key:s.groupKey})}return{rows:tr(e,n.limit,n.skip)}}function yr(t,e){return zn(pr(t),function(){return br(t,e)})()}function br(t,e){function n(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return o=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"==typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var r=qn(t.doc._id);return{key:r[0],id:r[1],value:"value"in t.doc?t.doc.value:null}})})}function r(n){var r;if(r=i?mr(t,n,e):{total_rows:o,offset:c,rows:n},e.include_docs){var u=Kn(n.map(er));return t.sourceDB.allDocs({keys:u,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new co;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),n.forEach(function(t){var n=er(t),r=e.get(n);r&&(t.doc=r)}),r})}return r}var o,i=t.reduceFun&&e.reduce!==!1,c=e.skip||0;if("undefined"==typeof e.keys||e.keys.length||(e.limit=0,delete e.keys),"undefined"!=typeof e.keys){var u=e.keys,a=u.map(function(t){var e={startkey:Sn([t]),endkey:Sn([t,{}])};return n(e)});return eo.all(a).then(L).then(r)}var s={descending:e.descending};if(e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"undefined"!=typeof e.startkey&&(s.startkey=Sn(e.descending?[e.startkey,{}]:[e.startkey])),"undefined"!=typeof e.endkey){var f=e.inclusive_end!==!1;e.descending&&(f=!f),s.endkey=Sn(f?[e.endkey,{}]:[e.endkey])}if("undefined"!=typeof e.key){var l=Sn([e.key]),d=Sn([e.key,{}]);s.descending?(s.endkey=l,s.startkey=d):(s.startkey=l,s.endkey=d)}return i||("number"==typeof e.limit&&(s.limit=e.limit),s.skip=c),n(s).then(r)}function wr(t){return t.request({method:"POST",url:"_view_cleanup"})}function kr(t){return t.get("_local/mrviews").then(function(e){var n=new co;Object.keys(e.views).forEach(function(t){var e=Qn(t),r="_design/"+e[0],o=e[1],i=n.get(r);i||(i=new io,n.set(r,i)),i.add(o)});var r={keys:Gn(n),include_docs:!0};return t.allDocs(r).then(function(r){var o={};r.rows.forEach(function(t){var r=t.key.substring(8);n.get(t.key).forEach(function(n){var i=r+"/"+n;e.views[i]||(i=n);var c=Object.keys(e.views[i]),u=t.doc&&t.doc.views&&t.doc.views[n];c.forEach(function(t){o[t]=o[t]||u})})});var i=Object.keys(o).filter(function(t){return!o[t]}),c=i.map(function(e){return zn(pr(e),function(){return new t.constructor(e,t.__opts).destroy()})()});return eo.all(c).then(function(){return{ok:!0}})})},dr({ok:!0}))}function Er(t,e,n){if("http"===t.type())return sr(t,e,n);if("function"==typeof t._query)return fr(t,e,n);if("string"!=typeof e){ar(n,e);var r={db:t,viewName:"temp_view/temp_view",map:e.map,reduce:e.reduce,temporary:!0};return Ii.add(function(){return jn(r).then(function(t){function e(){return t.db.destroy()}return Hn(vr(t).then(function(){return yr(t,n)}),e)})}),Ii.finish()}var o=e,i=Qn(o),c=i[0],u=i[1];return t.get("_design/"+c).then(function(e){var r=e.views&&e.views[u];if(!r||"string"!=typeof r.map)throw new Dn("ddoc "+c+" has no view named "+u);ar(n,r);var i={db:t,viewName:o,map:r.map,reduce:r.reduce};return jn(i).then(function(t){return"ok"===n.stale||"update_after"===n.stale?("update_after"===n.stale&&$r(function(){vr(t)}),yr(t,n)):vr(t).then(function(){return yr(t,n)})})})}function Tr(t){return/^1-/.test(t)}function Sr(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}function xr(t,e){var n=Object.keys(e._attachments);return eo.all(n.map(function(n){return t.getAttachment(e._id,n,{rev:e._rev})}))}function Ar(t,e,n){var r="http"===e.type()&&"http"!==t.type(),o=Object.keys(n._attachments);return r?t.get(n._id).then(function(r){return eo.all(o.map(function(o){return Sr(r,n,o)?e.getAttachment(n._id,o):t.getAttachment(r._id,o)}))}).catch(function(t){if(404!==t.status)throw t;return xr(e,n)}):xr(e,n)}function qr(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n].missing;r.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0,latest:!0}}function Nr(t,e,n,r){function o(){var o=qr(n);if(o.docs.length)return t.bulkGet(o).then(function(n){if(r.cancelled)throw new Error("cancelled");return eo.all(n.results.map(function(n){return eo.all(n.docs.map(function(n){var r=n.ok;return n.error&&(d=!1),r&&r._attachments?Ar(e,t,r).then(function(t){var e=Object.keys(r._attachments);return t.forEach(function(t,n){var o=r._attachments[e[n]];delete o.stub,delete o.length,o.data=t}),r}):r}))})).then(function(t){l=l.concat(L(t).filter(Boolean))})})}function i(t){return t._attachments&&Object.keys(t._attachments).length>0}function c(t){return t._conflicts&&t._conflicts.length>0}function u(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(r.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){t.deleted||!t.doc||!Tr(t.value.rev)||i(t.doc)||c(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,l.push(t.doc),delete n[t.id])})})}function s(){var t=Object.keys(n).filter(function(t){var e=n[t].missing;return 1===e.length&&Tr(e[0])});if(t.length>0)return u(t)}function f(){return{ok:d,docs:l}}n=a(n);var l=[],d=!0;return eo.resolve().then(s).then(o).then(f)}function Cr(t,e,n,r,o){return t.get(e).catch(function(n){if(404===n.status)return"http"===t.type()&&q(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:Wi,version:Ji};throw n}).then(function(i){if(!o.cancelled&&i.last_seq!==n)return i.history=(i.history||[]).filter(function(t){return t.session_id!==r}),i.history.unshift({last_seq:n,session_id:r}),i.history=i.history.slice(0,Hi),i.version=Ji,i.replicator=Wi,i.session_id=r,i.last_seq=n,t.put(i).catch(function(i){if(409===i.status)return Cr(t,e,n,r,o);throw i})})}function Or(t,e,n,r){this.src=t,this.target=e,this.id=n,this.returnValue=r}function Rr(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:Br(t.history,e.history)}function Br(t,e){var n=t[0],r=t.slice(1),o=e[0],i=e.slice(1);if(!n||0===e.length)return{last_seq:zi,history:[]};var c=n.session_id;if(Lr(c,e))return{last_seq:n.last_seq,history:t};var u=o.session_id;return Lr(u,r)?{last_seq:o.last_seq,history:i}:Br(r,i)}function Lr(t,e){var n=e[0],r=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||Lr(t,r))}function jr(t){return"number"==typeof t.status&&4===Math.floor(t.status/100)}function Ir(t,e,n,r){if(t.retry===!1)return e.emit("error",n),void e.removeAllListeners();if("function"!=typeof t.back_off_function&&(t.back_off_function=A),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var o=function(){t.current_back_off=Gi},i=function(){e.removeListener("active",o)};e.once("paused",i),e.once("active",o)}t.current_back_off=t.current_back_off||Gi,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}function Dr(t){return Object.keys(t).sort(kn).reduce(function(e,n){return e[n]=t[n],e},{})}function Mr(t,e,n){var r=n.doc_ids?n.doc_ids.sort(kn):"",o=n.filter?n.filter.toString():"",i="",c="";return n.filter&&n.query_params&&(i=JSON.stringify(Dr(n.query_params))),n.filter&&"_view"===n.filter&&(c=n.view.toString()),eo.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+o+c+i+r;return new eo(function(t){Qt(e,t)})}).then(function(t){return t=t.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+t})}function Pr(t,e,n,r,o){function i(){return E?eo.resolve():Mr(t,e,n).then(function(n){k=n,E=new Or(t,e,k,r)})}function c(){if(I=[],0!==w.docs.length){var t=w.docs,i={timeout:n.timeout};return e.bulkDocs({docs:t,new_edits:!1},i).then(function(e){if(r.cancelled)throw h(),new Error("cancelled");var n=Object.create(null);e.forEach(function(t){t.error&&(n[t.id]=t)});var i=Object.keys(n).length;o.doc_write_failures+=i,o.docs_written+=t.length-i,t.forEach(function(t){var e=n[t._id];if(e){if(o.errors.push(e),"unauthorized"!==e.name&&"forbidden"!==e.name)throw e;r.emit("denied",a(e))}else I.push(t)})},function(e){throw o.doc_write_failures+=t.length,e})}}function u(){if(w.error)throw new Error("There was a problem getting docs.");o.last_seq=N=w.seq;var t=a(o);return I.length&&(t.docs=I,r.emit("change",t)),x=!0,E.writeCheckpoint(w.seq,D).then(function(){if(x=!1,r.cancelled)throw h(),new Error("cancelled");w=void 0,m()}).catch(function(t){throw b(t),t})}function s(){var t={};return w.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(r.cancelled)throw h(),new Error("cancelled");w.diffs=t})}function f(){return Nr(t,e,w.diffs,r).then(function(t){w.error=!t.ok,t.docs.forEach(function(t){delete w.diffs[t._id],o.docs_read++,w.docs.push(t)})})}function l(){if(!r.cancelled&&!w){if(0===T.length)return void d(!0);w=T.shift(),s().then(f).then(c).then(u).then(l).catch(function(t){_("batch processing terminated with error",t)})}}function d(t){return 0===S.changes.length?void(0!==T.length||w||((C&&M.live||A)&&(r.state="pending",r.emit("paused")),A&&h())):void((t||A||S.changes.length>=O)&&(T.push(S),S={seq:0,changes:[],docs:[]},"pending"!==r.state&&"stopped"!==r.state||(r.state="active",r.emit("active")),l()))}function _(t,e){q||(e.message||(e.message=t),o.ok=!1,o.status="aborting",T=[],S={seq:0,changes:[],docs:[]},h(e))}function h(i){q||r.cancelled&&(o.status="cancelled",x)||(o.status=o.status||"complete",o.end_time=new Date,o.last_seq=N,q=!0,i?(i.result=o,"unauthorized"===i.name||"forbidden"===i.name?(r.emit("error",i),r.removeAllListeners()):Ir(n,r,i,function(){Pr(t,e,n,r)})):(r.emit("complete",o),r.removeAllListeners()))}function p(t){if(r.cancelled)return h();var e=B(n)(t);e&&(S.seq=t.seq,S.changes.push(t),d(0===T.length&&M.live))}function v(t){if(L=!1,r.cancelled)return h();if(t.results.length>0)M.since=t.last_seq,m(),d(!0);else{var e=function(){C?(M.live=!0,m()):A=!0,d(!0)};w||0!==t.results.length?e():(x=!0,E.writeCheckpoint(t.last_seq,D).then(function(){x=!1,o.last_seq=N=t.last_seq,e()}).catch(b))}}function g(t){return L=!1,r.cancelled?h():void _("changes rejected",t)}function m(){function e(){i.cancel()}function o(){r.removeListener("cancel",e)}if(!L&&!A&&T.length<R){L=!0,r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",e);var i=t.changes(M).on("change",p);i.then(o,o),i.then(v).catch(g),n.retry&&(r._changes=i,r._abortChanges=e)}}function y(){i().then(function(){return r.cancelled?void h():E.getCheckpoint().then(function(t){N=t,M={since:N,limit:O,batch_size:O,style:"all_docs",doc_ids:j,return_docs:!0},n.filter&&("string"!=typeof n.filter?M.include_docs=!0:M.filter=n.filter),"heartbeat"in n&&(M.heartbeat=n.heartbeat),"timeout"in n&&(M.timeout=n.timeout),n.query_params&&(M.query_params=n.query_params),
n.view&&(M.view=n.view),m()})}).catch(function(t){_("getCheckpoint rejected with ",t)})}function b(t){x=!1,_("writeCheckpoint completed with error",t)}var w,k,E,T=[],S={seq:0,changes:[],docs:[]},x=!1,A=!1,q=!1,N=0,C=n.continuous||n.live||!1,O=n.batch_size||100,R=n.batches_limit||10,L=!1,j=n.doc_ids,I=[],D=H();o=o||{ok:!0,start_time:new Date,docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var M={};return r.ready(t,e),r.cancelled?void h():(r._addedListeners||(r.once("cancel",h),"function"==typeof n.complete&&(r.once("error",n.complete),r.once("complete",function(t){n.complete(null,t)})),r._addedListeners=!0),void("undefined"==typeof n.since?y():i().then(function(){return x=!0,E.writeCheckpoint(n.since,D)}).then(function(){return x=!1,r.cancelled?void h():(N=n.since,void y())}).catch(b)))}function Ur(){Xr.EventEmitter.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new eo(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function Fr(t,e){var n=e.PouchConstructor;return"string"==typeof t?new n(t,e):t}function Jr(t,e,n,r){if("function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw C(Eo,"`doc_ids` filter parameter is not a list.");n.complete=r,n=a(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var o=new Ur(n),i=Fr(t,n),c=Fr(e,n);return Pr(i,c,n,o),o}function Wr(t,e,n,r){return"function"==typeof n&&(r=n,n={}),"undefined"==typeof n&&(n={}),n=a(n),n.PouchConstructor=n.PouchConstructor||this,t=Fr(t,n),e=Fr(e,n),new Hr(t,e,n,r)}function Hr(t,e,n,r){function o(t){h.emit("change",{direction:"pull",change:t})}function i(t){h.emit("change",{direction:"push",change:t})}function c(t){h.emit("denied",{direction:"push",doc:t})}function u(t){h.emit("denied",{direction:"pull",doc:t})}function a(){h.pushPaused=!0,h.pullPaused&&h.emit("paused")}function s(){h.pullPaused=!0,h.pushPaused&&h.emit("paused")}function f(){h.pushPaused=!1,h.pullPaused&&h.emit("active",{direction:"push"})}function l(){h.pullPaused=!1,h.pushPaused&&h.emit("active",{direction:"pull"})}function d(t){return function(e,n){var r="change"===e&&(n===o||n===i),d="denied"===e&&(n===u||n===c),_="paused"===e&&(n===s||n===a),p="active"===e&&(n===l||n===f);(r||d||_||p)&&(e in g||(g[e]={}),g[e][t]=!0,2===Object.keys(g[e]).length&&h.removeAllListeners(e))}}function _(t,e,n){t.listeners(e).indexOf(n)==-1&&t.on(e,n)}var h=this;this.canceled=!1;var p=n.push?fo({},n,n.push):n,v=n.pull?fo({},n,n.pull):n;this.push=Jr(t,e,p),this.pull=Jr(e,t,v),this.pushPaused=!0,this.pullPaused=!0;var g={};n.live&&(this.push.on("complete",h.pull.cancel.bind(h.pull)),this.pull.on("complete",h.push.cancel.bind(h.push))),this.on("newListener",function(t){"change"===t?(_(h.pull,"change",o),_(h.push,"change",i)):"denied"===t?(_(h.pull,"denied",u),_(h.push,"denied",c)):"active"===t?(_(h.pull,"active",l),_(h.push,"active",f)):"paused"===t&&(_(h.pull,"paused",s),_(h.push,"paused",a))}),this.on("removeListener",function(t){"change"===t?(h.pull.removeListener("change",o),h.push.removeListener("change",i)):"denied"===t?(h.pull.removeListener("denied",u),h.push.removeListener("denied",c)):"active"===t?(h.pull.removeListener("active",l),h.push.removeListener("active",f)):"paused"===t&&(h.pull.removeListener("paused",s),h.push.removeListener("paused",a))}),this.pull.on("removeListener",d("pull")),this.push.on("removeListener",d("push"));var m=eo.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return h.emit("complete",e),r&&r(null,e),h.removeAllListeners(),e},function(t){if(h.cancel(),r?r(t):h.emit("error",t),h.removeAllListeners(),r)throw t});this.then=function(t,e){return m.then(t,e)},this.catch=function(t){return m.catch(t)}}function zr(t){t.replicate=Jr,t.sync=Wr,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return{from:function(e,n,r){return t.constructor.replicate(e,t,n,r)},to:function(e,n,r){return t.constructor.replicate(t,e,n,r)}}}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}}var Kr=r(n(11)),Gr=r(n(3)),Qr=r(n(13)),Xr=n(5),Vr=r(n(10)),$r=r(n(0)),Yr=r(n(17)),Zr=r(n(18)),to=r(n(19)),eo="function"==typeof Promise?Promise:Kr,no=Function.prototype.toString,ro=no.call(Object),oo=Qr("pouchdb:api");p.prototype.get=function(t){var e=_(t);return this._store[e]},p.prototype.set=function(t,e){var n=_(t);return this._store[n]=e,!0},p.prototype.has=function(t){var e=_(t);return e in this._store},p.prototype.delete=function(t){var e=_(t),n=e in this._store;return delete this._store[e],n},p.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var o=e[n],i=this._store[o];o=h(o),t(i,o)}},Object.defineProperty(p.prototype,"size",{get:function(){return Object.keys(this._store).length}}),v.prototype.add=function(t){return this._store.set(t,!0)},v.prototype.has=function(t){return this._store.has(t)},v.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})},Object.defineProperty(v.prototype,"size",{get:function(){return this._store.size}});var io,co;g()?(io=Set,co=Map):(io=v,co=p);var uo,ao=6;if(w())uo=!1;else try{localStorage.setItem("_pouch_check_localstorage",1),uo=!!localStorage.getItem("_pouch_check_localstorage")}catch(t){uo=!1}Vr(T,Xr.EventEmitter),T.prototype.addListener=function(t,e,n,r){function o(){function t(){c=!1}if(i._listeners[e]){if(c)return void(c="waiting");c=!0;var u=d(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary"]);n.changes(u).on("change",function(t){t.seq>r.since&&!r.cancelled&&(r.since=t.seq,r.onChange(t))}).on("complete",function(){"waiting"===c&&$r(o),c=!1}).on("error",t)}}if(!this._listeners[e]){var i=this,c=!1;this._listeners[e]=o,this.on(t,o)}},T.prototype.removeListener=function(t,e){e in this._listeners&&(Xr.EventEmitter.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},T.prototype.notifyLocalWindows=function(t){w()?chrome.storage.local.set({dbName:t}):k()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},T.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};var so;so="function"==typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};var fo=so;Vr(N,Error),N.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};var lo,_o=(new N(401,"unauthorized","Name or password is incorrect."),new N(400,"bad_request","Missing JSON list of 'docs'")),ho=new N(404,"not_found","missing"),po=new N(409,"conflict","Document update conflict"),vo=new N(400,"bad_request","_id field must contain a string"),go=new N(412,"missing_id","_id is required for puts"),mo=new N(400,"bad_request","Only reserved document ids may start with underscore."),yo=(new N(412,"precondition_failed","Database not open"),new N(500,"unknown_error","Database encountered an unknown error")),bo=new N(500,"badarg","Some query argument is invalid"),wo=(new N(400,"invalid_request","Request was invalid"),new N(400,"query_parse_error","Some query parameter is invalid")),ko=new N(500,"doc_validation","Bad special document member"),Eo=new N(400,"bad_request","Something wrong with the request"),To=new N(400,"bad_request","Document must be a JSON object"),So=(new N(404,"not_found","Database not found"),new N(500,"indexed_db_went_bad","unknown")),xo=new N(500,"web_sql_went_bad","unknown"),Ao=(new N(500,"levelDB_went_went_bad","unknown"),new N(403,"forbidden","Forbidden by design doc validate_doc_update function"),new N(400,"bad_request","Invalid rev format")),qo=(new N(412,"file_exists","The database could not be created, the file already exists."),new N(412,"missing_stub","A pre-existing attachment stub wasn't found")),No=(new N(413,"invalid_url","Provided URL is invalid"),j.name);lo=No?function(t){return t.name}:function(t){return t.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]};var Co=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Oo="queryKey",Ro=/(?:^|&)([^&=]*)=?([^&]*)/g,Bo=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Lo="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");Vr(pt,Xr.EventEmitter),pt.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},pt.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=a(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=vt,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"===t.since)return void this.db.info().then(function(r){return e.isCancelled?void n(null,{status:"cancelled"}):(t.since=r.update_seq,void e.doChanges(t))},n);if(t.view&&!t.filter&&(t.filter="_view"),t.filter&&"string"==typeof t.filter&&("_view"===t.filter?t.view=P(t.view):t.filter=P(t.filter),"http"!==this.db.type()&&!t.doc_ids))return this.filterChanges(t);"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&"function"==typeof r.cancel){var o=e.cancel;e.cancel=Gr(function(t){r.cancel(),o.apply(this,t)})}},pt.prototype.filterChanges=function(t){var e=this,n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var r=C(Eo,"`view` filter parameter not found or invalid.");return n(r)}var o=M(t.view);this.db.get("_design/"+o[0],function(r,i){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(O(r));var c=i&&i.views&&i.views[o[1]]&&i.views[o[1]].map;return c?(t.filter=_t(c),void e.doChanges(t)):n(C(ho,i.views?"missing json key: "+o[1]:"missing json key: views"))})}else{var i=M(t.filter);if(!i)return e.doChanges(t);this.db.get("_design/"+i[0],function(r,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(r)return n(O(r));var c=o&&o.filters&&o.filters[i[1]];return c?(t.filter=dt(c),void e.doChanges(t)):n(C(ho,o&&o.filters?"missing json key: "+i[1]:"missing json key: filters"))})}},Vr(St,Xr.EventEmitter),St.prototype.post=l("post",function(t,e,n){return"function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t)?n(C(To)):void this.bulkDocs({docs:[t]},e,mt(n))}),St.prototype.put=l("put",function(t,e,n){return"function"==typeof e&&(n=e,e={}),"object"!=typeof t||Array.isArray(t)?n(C(To)):(I(t._id),ft(t._id)&&"function"==typeof this._putLocal?t._deleted?this._removeLocal(t,n):this._putLocal(t,n):void("function"==typeof this._put&&e.new_edits!==!1?this._put(t,e,n):this.bulkDocs({docs:[t]},e,mt(n))))}),St.prototype.putAttachment=l("putAttachment",function(t,e,n,r,o){function i(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:o,data:r,revpos:++n},c.put(t)}var c=this;return"function"==typeof o&&(o=r,r=n,n=null),"undefined"==typeof o&&(o=r,r=n,n=null),o||S("warn","Attachment",e,"on document",t,"is missing content_type"),c.get(t).then(function(t){if(t._rev!==n)throw C(po);return i(t)},function(e){if(e.reason===ho.message)return i({_id:t});throw e})}),St.prototype.removeAttachment=l("removeAttachment",function(t,e,n,r){var o=this;o.get(t,function(t,i){return t?void r(t):i._rev!==n?void r(C(po)):i._attachments?(delete i._attachments[e],0===Object.keys(i._attachments).length&&delete i._attachments,void o.put(i,r)):r()})}),St.prototype.remove=l("remove",function(t,e,n,r){var o;"string"==typeof e?(o={_id:t,_rev:e},"function"==typeof n&&(r=n,n={})):(o=t,"function"==typeof e?(r=e,n={}):(r=n,n=e)),n=n||{},n.was_delete=!0;var i={_id:o._id,_rev:o._rev||n.rev};return i._deleted=!0,ft(i._id)&&"function"==typeof this._removeLocal?this._removeLocal(o,r):void this.bulkDocs({docs:[i]},n,mt(r))}),St.prototype.revsDiff=l("revsDiff",function(t,e,n){function r(t,e){u.has(t)||u.set(t,{missing:[]}),u.get(t).missing.push(e)}function o(e,n){var o=t[e].slice(0);K(n,function(t,n,i,c,u){var a=n+"-"+i,s=o.indexOf(a);s!==-1&&(o.splice(s,1),"available"!==u.status&&r(e,a))}),o.forEach(function(t){r(e,t)})}"function"==typeof e&&(n=e,e={});var i=Object.keys(t);if(!i.length)return n(null,{});var c=0,u=new co;i.map(function(e){this._getRevisionTree(e,function(r,a){if(r&&404===r.status&&"missing"===r.message)u.set(e,{missing:t[e]});else{if(r)return n(r);o(e,a)}if(++c===i.length){var s={};return u.forEach(function(t,e){s[e]=t}),n(null,s)}})},this)}),St.prototype.bulkGet=l("bulkGet",function(t,e){b(this,t,e)}),St.prototype.compactDocument=l("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(o,i){if(o)return n(o);var c=wt(i),u=[],a=[];Object.keys(c).forEach(function(t){c[t]>e&&u.push(t)}),K(i,function(t,e,n,r,o){var i=e+"-"+n;"available"===o.status&&u.indexOf(i)!==-1&&a.push(i)}),r._doCompaction(t,a,n)})}),St.prototype.compact=l("compact",function(t,e){"function"==typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&Et(n)}),St.prototype._compact=function(t,e){function n(t){c.push(o.compactDocument(t.id,0))}function r(t){var n=t.last_seq;eo.all(c).then(function(){return F(o,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<n)&&(t.last_seq=n,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}var o=this,i={return_docs:!1,last_seq:t.last_seq||0},c=[];o.changes(i).on("change",n).on("complete",r).on("error",e)},St.prototype.get=l("get",function(t,e,n){function r(){var r=[],c=o.length;return c?void o.forEach(function(o){i.get(t,{rev:o,revs:e.revs,latest:e.latest,attachments:e.attachments},function(t,e){if(t)r.push({missing:o});else{for(var i,u=0,a=r.length;u<a;u++)if(r[u].ok&&r[u].ok._rev===e._rev){i=!0;break}i||r.push({ok:e})}c--,c||n(null,r)})}):n(null,r)}if("function"==typeof e&&(n=e,e={}),"string"!=typeof t)return n(C(vo));if(ft(t)&&"function"==typeof this._getLocal)return this._getLocal(t,n);var o=[],i=this;if(!e.open_revs)return this._get(t,e,function(t,r){if(t)return n(t);var o=r.doc,c=r.metadata,u=r.ctx;if(e.conflicts){var a=X(c);a.length&&(o._conflicts=a)}if(st(c,o._rev)&&(o._deleted=!0),e.revs||e.revs_info){for(var s=o._rev.split("-"),f=parseInt(s[0],10),l=s[1],d=$(c.rev_tree),_=null,h=0;h<d.length;h++){var p=d[h],v=p.ids.map(function(t){return t.id}).indexOf(l),g=v===f-1;(g||!_&&v!==-1)&&(_=p)}var m=_.ids.map(function(t){return t.id}).indexOf(o._rev.split("-")[1])+1,y=_.ids.length-m;if(_.ids.splice(m,y),_.ids.reverse(),e.revs&&(o._revisions={start:_.pos+_.ids.length-1,ids:_.ids.map(function(t){return t.id})}),e.revs_info){var b=_.pos+_.ids.length;o._revs_info=_.ids.map(function(t){return b--,{rev:b+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&o._attachments){var w=o._attachments,k=Object.keys(w).length;if(0===k)return n(null,o);Object.keys(w).forEach(function(t){this._getAttachment(o._id,t,w[t],{rev:o._rev,binary:e.binary,ctx:u},function(e,r){var i=o._attachments[t];i.data=r,delete i.stub,delete i.length,--k||n(null,o)})},i)}else{if(o._attachments)for(var E in o._attachments)o._attachments.hasOwnProperty(E)&&(o._attachments[E].stub=!0);n(null,o)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){return t?n(t):(o=Q(e).map(function(t){return t.rev}),void r())});else{if(!Array.isArray(e.open_revs))return n(C(yo,"function_clause"));o=e.open_revs;for(var c=0;c<o.length;c++){var u=o[c];if("string"!=typeof u||!/^\d+-/.test(u))return n(C(Ao))}r()}}),St.prototype.getAttachment=l("getAttachment",function(t,e,n,r){var o=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(i,c){return i?r(i):c.doc._attachments&&c.doc._attachments[e]?(n.ctx=c.ctx,n.binary=!0,o._getAttachment(t,e,c.doc._attachments[e],n,r),void 0):r(C(ho))})}),St.prototype.allDocs=l("allDocs",function(t,e){if("function"==typeof t&&(e=t,t={}),t.skip="undefined"!=typeof t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(C(wo,"Query parameter `"+n+"` is not compatible with multi-get"));if("http"!==this.type())return kt(this,t,e)}return this._allDocs(t,e)}),St.prototype.changes=function(t,e){return"function"==typeof t&&(e=t,t={}),new pt(this,t,e)},St.prototype.close=l("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),St.prototype.info=l("info",function(t){var e=this;this._info(function(n,r){return n?t(n):(r.db_name=r.db_name||e.name,r.auto_compaction=!(!e.auto_compaction||"http"===e.type()),r.adapter=e.type(),void t(null,r))})}),St.prototype.id=l("id",function(t){return this._id(t)}),St.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},St.prototype.bulkDocs=l("bulkDocs",function(t,e,n){if("function"==typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(C(_o));for(var r=0;r<t.docs.length;++r)if("object"!=typeof t.docs[r]||Array.isArray(t.docs[r]))return n(C(To));var o;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){o=o||Tt(e),t._attachments[e].content_type||S("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),o)return n(C(Eo,o));"new_edits"in e||("new_edits"in t?e.new_edits=t.new_edits:e.new_edits=!0);var i=this;e.new_edits||"http"===i.type()||t.docs.sort(bt),yt(t.docs);var c=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,r){if(t)return n(t);if(e.new_edits||(r=r.filter(function(t){return t.error})),"http"!==i.type())for(var o=0,u=r.length;o<u;o++)r[o].id=r[o].id||c[o];n(null,r)})}),St.prototype.registerDependentDatabase=l("registerDependentDatabase",function(t,e){function n(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}var r=new this.constructor(t,this.__opts);F(this,"_local/_pouch_dependentDbs",n).then(function(){e(null,{db:r})}).catch(e)}),St.prototype.destroy=l("destroy",function(t,e){function n(){r._destroy(t,function(t,n){return t?e(t):(r._destroyed=!0,r.emit("destroyed"),void e(null,n||{ok:!0}))})}"function"==typeof t&&(e=t,t={});var r=this,o=!("use_prefix"in r)||r.use_prefix;return"http"===r.type()?n():void r.get("_local/_pouch_dependentDbs",function(t,i){if(t)return 404!==t.status?e(t):n();var c=i.dependentDbs,u=r.constructor,a=Object.keys(c).map(function(t){var e=o?t.replace(new RegExp("^"+u.prefix),""):t;return new u(e,r.__opts).destroy()});eo.all(a).then(n,e)})}),xt.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()},xt.prototype.fail=function(t){this.failed=t,this.execute()},xt.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},xt.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},Vr(Nt,St),Nt.debug=Qr,Nt.adapters={},Nt.preferredAdapters=[],Nt.prefix="_pouch_";var jo=new Xr.EventEmitter;Ct(Nt),Nt.adapter=function(t,e,n){e.valid()&&(Nt.adapters[t]=e,n&&Nt.preferredAdapters.push(t))},Nt.plugin=function(t){if("function"==typeof t)t(Nt);else{if("object"!=typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){Nt.prototype[e]=t[e]})}return Nt},Nt.defaults=function(t){function e(t,n){return this instanceof e?(n=n||{},t&&"object"==typeof t&&(n=t,t=n.name,delete n.name),n=fo({},e.__defaults,n),void Nt.call(this,t,n)):new e(t,n)}return Vr(e,Nt),e.preferredAdapters=Nt.preferredAdapters.slice(),Object.keys(Nt).forEach(function(t){t in e||(e[t]=Nt[t])}),e.__defaults=fo({},this.__defaults,t),e};var Io="6.1.1";Nt.version=Io;var Do,Mo=Ot(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Po=Ot(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]),Uo=function(t){return atob(t)},Fo=function(t){return btoa(t)},Jo=e.setImmediate||e.setTimeout,Wo=32768,Ho=5,zo="document-store",Ko="by-sequence",Go="attach-store",Qo="attach-seq-store",Xo="meta-store",Vo="local-store",$o="detect-blob-support",Yo=new T,Zo=!1,ti=[],ei=new co,ni=new co;xe.valid=function(){var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform);return!t&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange};var ri=function(t){t.adapter("idb",xe,!0)},oi=7,ii=Le("document-store"),ci=Le("by-sequence"),ui=Le("attach-store"),ai=Le("local-store"),si=Le("metadata-store"),fi=Le("attach-seq-store"),li=new co,di=new T,_i=1,hi="CREATE INDEX IF NOT EXISTS 'by-seq-deleted-idx' ON "+ci+" (seq, deleted)",pi="CREATE UNIQUE INDEX IF NOT EXISTS 'by-seq-doc-id-rev' ON "+ci+" (doc_id, rev)",vi="CREATE INDEX IF NOT EXISTS 'doc-winningseq-idx' ON "+ii+" (winningseq)",gi="CREATE INDEX IF NOT EXISTS 'attach-seq-seq-idx' ON "+fi+" (seq)",mi="CREATE UNIQUE INDEX IF NOT EXISTS 'attach-seq-digest-idx' ON "+fi+" (digest, seq)",yi=ci+".seq = "+ii+".winningseq",bi=ci+".seq AS seq, "+ci+".deleted AS deleted, "+ci+".json AS data, "+ci+".rev AS rev, "+ii+".json AS metadata";tn.valid=Ye,tn.use_prefix=!0;var wi=function(t){t.adapter("websql",tn,!0)},ki=on(),Ei=function(){},Ti=25,Si=50,xi={},Ai=Qr("pouchdb:http");yn.valid=function(){return!0};var qi=function(t){t.adapter("http",yn,!1),t.adapter("https",yn,!1)},Ni=-324,Ci=3,Oi="";Ln.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},Ln.prototype.finish=function(){return this.promise},Vr(In,Error),Vr(Dn,Error),Vr(Mn,Error);var Ri=S.bind(null,"log"),Bi=Array.isArray,Li=JSON.parse,ji={},Ii=new Ln,Di=50,Mi={_sum:function(t,e){return Un(e)},_count:function(t,e){return e.length},_stats:function(t,e){function n(t){for(var e=0,n=0,r=t.length;n<r;n++){var o=t[n];e+=o*o}return e}return{sum:Un(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:n(e)}}},Pi=Wn(function(){var t=this;return"http"===t.type()?wr(t):"function"==typeof t._viewCleanup?lr(t):kr(t)}),Ui=function(t,e,n){"function"==typeof e&&(n=e,e={}),e=e?cr(e):{},"function"==typeof t&&(t={map:t});var r=this,o=eo.resolve().then(function(){return Er(r,t,e)});return Jn(o,n),o},Fi={query:Ui,viewCleanup:Pi},Ji=1,Wi="pouchdb",Hi=5,zi=0;Or.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},Or.prototype.updateTarget=function(t,e){return Cr(this.target,this.id,t,e,this.returnValue)},Or.prototype.updateSource=function(t,e){var n=this;return this.readOnlySource?eo.resolve(!0):Cr(this.src,this.id,t,e,this.returnValue).catch(function(t){if(jr(t))return n.readOnlySource=!0,!0;throw t})};var Ki={undefined:function(t,e){return 0===kn(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return Rr(e,t).last_seq}};Or.prototype.getCheckpoint=function(){var t=this;return t.target.get(t.id).then(function(e){return t.readOnlySource?eo.resolve(e.last_seq):t.src.get(t.id).then(function(t){if(e.version!==t.version)return zi;var n;return n=e.version?e.version.toString():"undefined",n in Ki?Ki[n](e,t):zi},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:zi}).then(function(){return zi},function(n){return jr(n)?(t.readOnlySource=!0,e.last_seq):zi});throw n})}).catch(function(t){if(404!==t.status)throw t;return zi})};var Gi=0;Vr(Ur,Xr.EventEmitter),Ur.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},Ur.prototype.ready=function(t,e){function n(){o.cancel()}function r(){t.removeListener("destroyed",n),e.removeListener("destroyed",n)}var o=this;o._readyCalled||(o._readyCalled=!0,t.once("destroyed",n),e.once("destroyed",n),o.once("complete",r))},Vr(Hr,Xr.EventEmitter),Hr.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Nt.plugin(ri).plugin(wi).plugin(qi).plugin(Fi).plugin(zr),t.exports=Nt}).call(e,n(1))},function(t,e,n){(function(r){function o(){return!("undefined"==typeof window||!window||"undefined"==typeof window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document&&"WebkitAppearance"in document.documentElement.style||"undefined"!=typeof window&&window&&window.console&&(console.firebug||console.exception&&console.table)||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))}function i(t){var n=this.useColors;if(t[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+t[0]+(n?"%c ":" ")+"+"+e.humanize(this.diff),n){var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var o=0,i=0;t[0].replace(/%[a-zA-Z%]/g,function(t){"%%"!==t&&(o++,"%c"===t&&(i=o))}),t.splice(i,0,r)}}function c(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function u(t){try{null==t?e.storage.removeItem("debug"):e.storage.debug=t}catch(t){}}function a(){try{return e.storage.debug}catch(t){}if("undefined"!=typeof r&&"env"in r)return r.env.DEBUG}function s(){try{return window.localStorage}catch(t){}}e=t.exports=n(14),e.log=c,e.formatArgs=i,e.save=u,e.load=a,e.useColors=o,e.storage="undefined"!=typeof chrome&&"undefined"!=typeof chrome.storage?chrome.storage.local:s(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],e.formatters.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},e.enable(a())}).call(e,n(16))},function(t,e,n){function r(t){var n,r=0;for(n in t)r=(r<<5)-r+t.charCodeAt(n),r|=0;return e.colors[Math.abs(r)%e.colors.length]}function o(t){function n(){if(n.enabled){var t=n,r=+new Date,o=r-(s||r);t.diff=o,t.prev=s,t.curr=r,s=r;for(var i=new Array(arguments.length),c=0;c<i.length;c++)i[c]=arguments[c];i[0]=e.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var u=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;u++;var o=e.formatters[r];if("function"==typeof o){var c=i[u];n=o.call(t,c),i.splice(u,1),u--}return n}),e.formatArgs.call(t,i);var a=n.log||e.log||console.log.bind(console);a.apply(t,i)}}return n.namespace=t,n.enabled=e.enabled(t),n.useColors=e.useColors(),n.color=r(t),"function"==typeof e.init&&e.init(n),n}function i(t){e.save(t);for(var n=(t||"").split(/[\s,]+/),r=n.length,o=0;o<r;o++)n[o]&&(t=n[o].replace(/\*/g,".*?"),"-"===t[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))}function c(){e.enable("")}function u(t){var n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1}function a(t){return t instanceof Error?t.stack||t.message:t}e=t.exports=o.debug=o.default=o,e.coerce=a,e.disable=c,e.enable=i,e.enabled=u,e.humanize=n(15),e.names=[],e.skips=[],e.formatters={};var s},function(t,e){function n(t){if(t=String(t),!(t.length>1e4)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*f;case"days":case"day":case"d":return n*s;case"hours":case"hour":case"hrs":case"hr":case"h":return n*a;case"minutes":case"minute":case"mins":case"min":case"m":return n*u;case"seconds":case"second":case"secs":case"sec":case"s":return n*c;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function r(t){return t>=s?Math.round(t/s)+"d":t>=a?Math.round(t/a)+"h":t>=u?Math.round(t/u)+"m":t>=c?Math.round(t/c)+"s":t+"ms"}function o(t){return i(t,s,"day")||i(t,a,"hour")||i(t,u,"minute")||i(t,c,"second")||t+" ms"}function i(t,e,n){if(!(t<e))return t<1.5*e?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}var c=1e3,u=60*c,a=60*u,s=24*a,f=365.25*s;t.exports=function(t,e){e=e||{};var i=typeof t;if("string"===i&&t.length>0)return n(t);if("number"===i&&isNaN(t)===!1)return e.long?o(t):r(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function c(){p&&_&&(p=!1,_.length?h=_.concat(h):v=-1,h.length&&u())}function u(){if(!p){var t=o(c);p=!0;for(var e=h.length;e;){for(_=h,h=[];++v<e;)_&&_[v].run();v=-1,e=h.length}_=null,p=!1,i(t)}}function a(t,e){this.fun=t,this.array=e}function s(){}var f,l,d=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var _,h=[],p=!1,v=-1;d.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new a(t,e)),1!==h.length||p||o(u)},a.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.binding=function(t){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(t){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(t,e){(function(){var e={}.hasOwnProperty,n=[].slice;t.exports=function(t,r){var o,i,c,u;i=[],u=[];for(o in r)e.call(r,o)&&(c=r[o],"this"!==o&&(i.push(o),u.push(c)));return Function.apply(null,n.call(i).concat([t])).apply(r.this,u)}}).call(this)},function(t,e,n){!function(e){t.exports=e()}(function(t){"use strict";function e(t,e){var n=t[0],r=t[1],o=t[2],i=t[3];n+=(r&o|~r&i)+e[0]-680876936|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[1]-389564586|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[2]+606105819|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[3]-1044525330|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[4]-176418897|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[5]+1200080426|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[6]-1473231341|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[7]-45705983|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[8]+1770035416|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[9]-1958414417|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[10]-42063|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[11]-1990404162|0,r=(r<<22|r>>>10)+o|0,n+=(r&o|~r&i)+e[12]+1804603682|0,n=(n<<7|n>>>25)+r|0,i+=(n&r|~n&o)+e[13]-40341101|0,i=(i<<12|i>>>20)+n|0,o+=(i&n|~i&r)+e[14]-1502002290|0,o=(o<<17|o>>>15)+i|0,r+=(o&i|~o&n)+e[15]+1236535329|0,r=(r<<22|r>>>10)+o|0,n+=(r&i|o&~i)+e[1]-165796510|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[6]-1069501632|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[11]+643717713|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[0]-373897302|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[5]-701558691|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[10]+38016083|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[15]-660478335|0,
o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[4]-405537848|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[9]+568446438|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[14]-1019803690|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[3]-187363961|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[8]+1163531501|0,r=(r<<20|r>>>12)+o|0,n+=(r&i|o&~i)+e[13]-1444681467|0,n=(n<<5|n>>>27)+r|0,i+=(n&o|r&~o)+e[2]-51403784|0,i=(i<<9|i>>>23)+n|0,o+=(i&r|n&~r)+e[7]+1735328473|0,o=(o<<14|o>>>18)+i|0,r+=(o&n|i&~n)+e[12]-1926607734|0,r=(r<<20|r>>>12)+o|0,n+=(r^o^i)+e[5]-378558|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[8]-2022574463|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[11]+1839030562|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[14]-35309556|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[1]-1530992060|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[4]+1272893353|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[7]-155497632|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[10]-1094730640|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[13]+681279174|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[0]-358537222|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[3]-722521979|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[6]+76029189|0,r=(r<<23|r>>>9)+o|0,n+=(r^o^i)+e[9]-640364487|0,n=(n<<4|n>>>28)+r|0,i+=(n^r^o)+e[12]-421815835|0,i=(i<<11|i>>>21)+n|0,o+=(i^n^r)+e[15]+530742520|0,o=(o<<16|o>>>16)+i|0,r+=(o^i^n)+e[2]-995338651|0,r=(r<<23|r>>>9)+o|0,n+=(o^(r|~i))+e[0]-198630844|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[7]+1126891415|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[14]-1416354905|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[5]-57434055|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[12]+1700485571|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[3]-1894986606|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[10]-1051523|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[1]-2054922799|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[8]+1873313359|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[15]-30611744|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[6]-1560198380|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[13]+1309151649|0,r=(r<<21|r>>>11)+o|0,n+=(o^(r|~i))+e[4]-145523070|0,n=(n<<6|n>>>26)+r|0,i+=(r^(n|~o))+e[11]-1120210379|0,i=(i<<10|i>>>22)+n|0,o+=(n^(i|~r))+e[2]+718787259|0,o=(o<<15|o>>>17)+i|0,r+=(i^(o|~n))+e[9]-343485551|0,r=(r<<21|r>>>11)+o|0,t[0]=n+t[0]|0,t[1]=r+t[1]|0,t[2]=o+t[2]|0,t[3]=i+t[3]|0}function n(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var r,o,i,c,u,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(r=64;r<=s;r+=64)e(f,n(t.substring(r-64,r)));for(t=t.substring(r-64),o=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],r=0;r<o;r+=1)i[r>>2]|=t.charCodeAt(r)<<(r%4<<3);if(i[r>>2]|=128<<(r%4<<3),r>55)for(e(f,i),r=0;r<16;r+=1)i[r]=0;return c=8*s,c=c.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(c[2],16),a=parseInt(c[1],16)||0,i[14]=u,i[15]=a,e(f,i),f}function i(t){var n,o,i,c,u,a,s=t.length,f=[1732584193,-271733879,-1732584194,271733878];for(n=64;n<=s;n+=64)e(f,r(t.subarray(n-64,n)));for(t=n-64<s?t.subarray(n-64):new Uint8Array(0),o=t.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=0;n<o;n+=1)i[n>>2]|=t[n]<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(e(f,i),n=0;n<16;n+=1)i[n]=0;return c=8*s,c=c.toString(16).match(/(.*?)(.{0,8})$/),u=parseInt(c[2],16),a=parseInt(c[1],16)||0,i[14]=u,i[15]=a,e(f,i),f}function c(t){var e,n="";for(e=0;e<4;e+=1)n+=p[t>>8*e+4&15]+p[t>>8*e&15];return n}function u(t){var e;for(e=0;e<t.length;e+=1)t[e]=c(t[e]);return t.join("")}function a(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function s(t,e){var n,r=t.length,o=new ArrayBuffer(r),i=new Uint8Array(o);for(n=0;n<r;n+=1)i[n]=t.charCodeAt(n);return e?i:o}function f(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function l(t,e,n){var r=new Uint8Array(t.byteLength+e.byteLength);return r.set(new Uint8Array(t)),r.set(new Uint8Array(e),t.byteLength),n?r:r.buffer}function d(t){var e,n=[],r=t.length;for(e=0;e<r-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function _(){this.reset()}var h=function(t,e){return t+e&4294967295},p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&(h=function(t,e){var n=(65535&t)+(65535&e),r=(t>>16)+(e>>16)+(n>>16);return r<<16|65535&n}),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||!function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,r){var o,i,c,u,a=this.byteLength,s=e(n,a),f=a;return r!==t&&(f=e(r,a)),s>f?new ArrayBuffer(0):(o=f-s,i=new ArrayBuffer(o),c=new Uint8Array(i),u=new Uint8Array(this,s,o),c.set(u),i)}}(),_.prototype.append=function(t){return this.appendBinary(a(t)),this},_.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var r,o=this._buff.length;for(r=64;r<=o;r+=64)e(this._hash,n(this._buff.substring(r-64,r)));return this._buff=this._buff.substring(r-64),this},_.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r.charCodeAt(e)<<(e%4<<3);return this._finish(i,o),n=u(this._hash),t&&(n=d(n)),this.reset(),n},_.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},_.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},_.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},_.prototype._finish=function(t,n){var r,o,i,c=n;if(t[c>>2]|=128<<(c%4<<3),c>55)for(e(this._hash,t),c=0;c<16;c+=1)t[c]=0;r=8*this._length,r=r.toString(16).match(/(.*?)(.{0,8})$/),o=parseInt(r[2],16),i=parseInt(r[1],16)||0,t[14]=o,t[15]=i,e(this._hash,t)},_.hash=function(t,e){return _.hashBinary(a(t),e)},_.hashBinary=function(t,e){var n=o(t),r=u(n);return e?d(r):r},_.ArrayBuffer=function(){this.reset()},_.ArrayBuffer.prototype.append=function(t){var n,o=l(this._buff.buffer,t,!0),i=o.length;for(this._length+=t.byteLength,n=64;n<=i;n+=64)e(this._hash,r(o.subarray(n-64,n)));return this._buff=n-64<i?new Uint8Array(o.buffer.slice(n-64)):new Uint8Array(0),this},_.ArrayBuffer.prototype.end=function(t){var e,n,r=this._buff,o=r.length,i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<o;e+=1)i[e>>2]|=r[e]<<(e%4<<3);return this._finish(i,o),n=u(this._hash),t&&(n=d(n)),this.reset(),n},_.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},_.ArrayBuffer.prototype.getState=function(){var t=_.prototype.getState.call(this);return t.buff=f(t.buff),t},_.ArrayBuffer.prototype.setState=function(t){return t.buff=s(t.buff,!0),_.prototype.setState.call(this,t)},_.ArrayBuffer.prototype.destroy=_.prototype.destroy,_.ArrayBuffer.prototype._finish=_.prototype._finish,_.ArrayBuffer.hash=function(t,e){var n=i(new Uint8Array(t)),r=u(n);return e?d(r):r},_})},function(t,e,n){"use strict";function r(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var o=r.element,i=r.index;if(Array.isArray(o))o.push(t);else if(i===e.length-2){var c=e.pop();o[c]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});for(var n,r,o,i,c,u,a,s,f,l,d,_="";n=e.pop();)if(r=n.obj,o=n.prefix||"",i=n.val||"",_+=o,i)_+=i;else if("object"!=typeof r)_+="undefined"==typeof r?null:JSON.stringify(r);else if(null===r)_+="null";else if(Array.isArray(r)){for(e.push({val:"]"}),c=r.length-1;c>=0;c--)u=0===c?"":",",e.push({obj:r[c],prefix:u});e.push({val:"["})}else{a=[];for(s in r)r.hasOwnProperty(s)&&a.push(s);for(e.push({val:"}"}),c=a.length-1;c>=0;c--)f=a[c],l=r[f],d=c>0?",":"",d+=JSON.stringify(f)+":",e.push({obj:l,prefix:d});e.push({val:"{"})}return _},e.parse=function(t){for(var e,n,o,i,c,u,a,s,f,l=[],d=[],_=0;;)if(e=t[_++],"}"!==e&&"]"!==e&&"undefined"!=typeof e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":_+=3,r(null,l,d);break;case"t":_+=3,r(!0,l,d);break;case"f":_+=4,r(!1,l,d);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",_--;;){if(o=t[_++],!/[\d\.\-e\+]/.test(o)){_--;break}n+=o}r(parseFloat(n),l,d);break;case'"':for(i="",c=void 0,u=0;;){if(a=t[_++],'"'===a&&("\\"!==c||u%2!==1))break;i+=a,c=a,"\\"===c?u++:u=0}r(JSON.parse('"'+i+'"'),l,d);break;case"[":s={element:[],index:l.length},l.push(s.element),d.push(s);break;case"{":f={element:{},index:l.length},l.push(f.element),d.push(f);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===l.length)return l.pop();r(l.pop(),l,d)}}},function(t,e,n){t.exports=n(2)}]);